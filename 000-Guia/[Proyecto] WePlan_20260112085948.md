# Reporte de proyecto

## Estructura del proyecto

```
/var/www/html/1DAM/@CEAC/[Proyecto] WePlan
â”œâ”€â”€ 001-Guia
â”‚   â”œâ”€â”€ 000-BBDD.pdf
â”‚   â”œâ”€â”€ 001-nombres.md
â”‚   â”œâ”€â”€ 001-viejo panel admin.png
â”‚   â”œâ”€â”€ 002-NUEVO panel admin.png
â”‚   â”œâ”€â”€ 002-los ends.md
â”‚   â”œâ”€â”€ 003-Fases.md
â”‚   â”œâ”€â”€ 004-Ideas futuras.md
â”‚   â”œâ”€â”€ Diagramas
â”‚   â”‚   â”œâ”€â”€ 001-diagrama a desarrollar.json
â”‚   â”‚   â””â”€â”€ 002-diagrama a ampliar.json
â”‚   â””â”€â”€ Redacciones
â”‚       â”œâ”€â”€ 005-Redaccion de bases de datos.md
â”‚       â”œâ”€â”€ 006-Resolucion del proyecto WEPLAN.md
â”‚       â””â”€â”€ 007-Redaccion de la programacion.md
â”œâ”€â”€ Viejo
â”‚   â””â”€â”€ Guia CRUD
â”‚       â”œâ”€â”€ 001-Create
â”‚       â”‚   â”œâ”€â”€ 001-crear.php
â”‚       â”‚   â”œâ”€â”€ 002-procesa.php
â”‚       â”‚   â””â”€â”€ 003-resumen.md
â”‚       â”œâ”€â”€ 002-Read
â”‚       â”‚   â”œâ”€â”€ 001-leer.php
â”‚       â”‚   â””â”€â”€ 002-resumen.md
â”‚       â”œâ”€â”€ 003-Delete
â”‚       â”‚   â”œâ”€â”€ 001-Miniformulario.html
â”‚       â”‚   â”œâ”€â”€ 002-procesa_eliminar.php
â”‚       â”‚   â””â”€â”€ 003-resumen.md
â”‚       â”œâ”€â”€ 004-Update
â”‚       â”‚   â”œâ”€â”€ 001-Miniformulario.html
â”‚       â”‚   â”œâ”€â”€ 002-procesa_modificar.php
â”‚       â”‚   â”œâ”€â”€ 003-procesar_actualizacion.php
â”‚       â”‚   â””â”€â”€ 004-Resumen.md
â”‚       â”œâ”€â”€ create
â”‚       â”‚   â”œâ”€â”€ formulario.php
â”‚       â”‚   â””â”€â”€ procesaformulario.php
â”‚       â”œâ”€â”€ delete
â”‚       â”‚   â””â”€â”€ eliminar.php
â”‚       â”œâ”€â”€ escritorio.php
â”‚       â”œâ”€â”€ read
â”‚       â”‚   â””â”€â”€ leer.php
â”‚       â””â”€â”€ update
â”‚           â”œâ”€â”€ formularioactualizar.php
â”‚           â””â”€â”€ procesaformulario.php
â”œâ”€â”€ [Proyecto] WePlan
â”œâ”€â”€ back-end
â”‚   â”œâ”€â”€ 000-Bases de Datos
â”‚   â”‚   â”œâ”€â”€ 001-tablas.sql
â”‚   â”‚   â”œâ”€â”€ 002-Creacion de bases de datos.sql
â”‚   â”‚   â”œâ”€â”€ 002-diagrama de la base de datos.json
â”‚   â”‚   â”œâ”€â”€ 002-diagrama de la bases de datos.png
â”‚   â”‚   â””â”€â”€ 002-subcategorias_actividades.sql
â”‚   â”œâ”€â”€ 001-Controladores
â”‚   â”‚   â”œâ”€â”€ 000-primera prueba de conexion.php
â”‚   â”‚   â”œâ”€â”€ 001-login.php
â”‚   â”‚   â”œâ”€â”€ 002-procesa_login.php
â”‚   â”‚   â”œâ”€â”€ 003-logout.php
â”‚   â”‚   â””â”€â”€ controladores
â”‚   â”‚       â”œâ”€â”€ Controlador_Actividad.php
â”‚   â”‚       â”œâ”€â”€ Controlador_Auth.php
â”‚   â”‚       â”œâ”€â”€ Controlador_Grupo.php
â”‚   â”‚       â””â”€â”€ Controlador_Usuario.php
â”‚   â”œâ”€â”€ 002-PHP
â”‚   â”‚   â”œâ”€â”€ 001-guia.md
â”‚   â”‚   â”œâ”€â”€ 003-procesa_login.php
â”‚   â”‚   â”œâ”€â”€ 004-login.php
â”‚   â”‚   â”œâ”€â”€ 005-exito.php
â”‚   â”‚   â”œâ”€â”€ 006-logout.php
â”‚   â”‚   â””â”€â”€ tipo_de_usuario
â”‚   â”‚       â”œâ”€â”€ admin
â”‚   â”‚       â”‚   â”œâ”€â”€ 001-admin BRYAN.php
â”‚   â”‚       â”‚   â”œâ”€â”€ 002-admin AYMAN[Super-mejorado].php
â”‚   â”‚       â”‚   â”œâ”€â”€ create
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ formulario.php
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ procesaformulario.php
â”‚   â”‚       â”‚   â”œâ”€â”€ delete
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ eliminar.php
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ formulario_eliminar.php
â”‚   â”‚       â”‚   â”œâ”€â”€ read
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ leer.php
â”‚   â”‚       â”‚   â””â”€â”€ update
â”‚   â”‚       â”‚       â”œâ”€â”€ actualizar.php
â”‚   â”‚       â”‚       â””â”€â”€ formulario_actualizar.php
â”‚   â”‚       â”œâ”€â”€ admin.php
â”‚   â”‚       â”œâ”€â”€ host
â”‚   â”‚       â”œâ”€â”€ host.php
â”‚   â”‚       â”œâ”€â”€ usuario
â”‚   â”‚       â”‚   â”œâ”€â”€ 000-guia.md
â”‚   â”‚       â”‚   â””â”€â”€ estilos.css
â”‚   â”‚       â””â”€â”€ usuario.php
â”‚   â””â”€â”€ back-end_20260109192801.md
â”œâ”€â”€ estilos.css
â”œâ”€â”€ front-end
â”‚   â”œâ”€â”€ Pagina de inicio
â”‚   â”‚   â”œâ”€â”€ estilo.css
â”‚   â”‚   â”œâ”€â”€ fotos
â”‚   â”‚   â”‚   â”œâ”€â”€ Football7Valencia.jpg
â”‚   â”‚   â”‚   â”œâ”€â”€ cocinar juntos.jpg
â”‚   â”‚   â”‚   â”œâ”€â”€ coffee and chill.jpg
â”‚   â”‚   â”‚   â”œâ”€â”€ crear_grupo_emoji.png
â”‚   â”‚   â”‚   â”œâ”€â”€ favicon-weplan.png
â”‚   â”‚   â”‚   â”œâ”€â”€ pintura.jpg
â”‚   â”‚   â”‚   â”œâ”€â”€ street basketball.jpg
â”‚   â”‚   â”‚   â”œâ”€â”€ weplan-high-resolution-logo-grayscale-transparent.png
â”‚   â”‚   â”‚   â”œâ”€â”€ weplan-high-resolution-logo-transparent.png
â”‚   â”‚   â”‚   â””â”€â”€ weplan-high-resolution-logo.png
â”‚   â”‚   â””â”€â”€ index.html
â”‚   â”œâ”€â”€ pagina de cuenta
â”‚   â”‚   â”œâ”€â”€ estilo.css
â”‚   â”‚   â”œâ”€â”€ fotos
â”‚   â”‚   â”‚   â”œâ”€â”€ weplan-high-resolution-logo-grayscale-transparent.png
â”‚   â”‚   â”‚   â”œâ”€â”€ weplan-high-resolution-logo-grayscale.png
â”‚   â”‚   â”‚   â”œâ”€â”€ weplan-high-resolution-logo-transparent.png
â”‚   â”‚   â”‚   â””â”€â”€ weplan-high-resolution-logo.png
â”‚   â”‚   â””â”€â”€ index.html
â”‚   â”œâ”€â”€ pagina de notificaciones
â”‚   â”‚   â”œâ”€â”€ estilo.css
â”‚   â”‚   â”œâ”€â”€ fotos
â”‚   â”‚   â”‚   â””â”€â”€ weplan-high-resolution-logo-grayscale.png
â”‚   â”‚   â””â”€â”€ index.html
â”‚   â””â”€â”€ pagina_de_actividades
â”‚       â”œâ”€â”€ estilo.css
â”‚       â”œâ”€â”€ fotos
â”‚       â”‚   â”œâ”€â”€ weplan-high-resolution-logo-grayscale-transparent.png
â”‚       â”‚   â”œâ”€â”€ weplan-high-resolution-logo-grayscale.png
â”‚       â”‚   â”œâ”€â”€ weplan-high-resolution-logo-transparent.png
â”‚       â”‚   â””â”€â”€ weplan-high-resolution-logo.png
â”‚       â””â”€â”€ index.html
â”œâ”€â”€ index.html
â”œâ”€â”€ rustpad-index.php
â””â”€â”€ weplan-high-resolution-logo-grayscale.png
```

## CÃ³digo (intercalado)

# [Proyecto] WePlan
**estilos.css**
```css
body {margin: 10px auto;font-family: Arial, sans-serif;max-width: 1800px;padding: 15px;}

.div3{grid-row-start:4;grid-row-end:6;}
.boton{background-color:white;border:none;border-radius:50%;width:60px;height:60px;align-items:center;justify-content:center;cursor:pointer;transition:all 0.3s ease;}
.boton:hover{transform:translateY(-3px);box-shadow:0 4px 8px rgba(0,0,0,0.3);background-color:#f8f9fa;}
.boton:active{transform:translateY(-1px);}

nav { width: 100%; background-color: #fff;}
.div2 {display: flex;align-items: center;justify-content: space-between;padding: 10px 20px;}
.div2 img {height: 90px;width: 230px;}
.search-container {flex: 1;max-width: 500px;margin: 0 20px;}
.search-box {width: 100%;padding: 20px 20px;border: 1px solid #ccc;border-radius: 20px;font-size: 17px;}
.bottons-container {display: flex;align-items: center;gap: 50px;}
.boton {background: none;border: none;cursor: pointer;padding: 8px;border-radius: 50%;transition: background-color 0.3s;}
.boton:hover {background-color: #f0f0f0;}
.icono {font-size: 18px;}
.boton-usuario {width: 35px;height: 35px;border-radius: 50%;background-color: #ddd; border: none;cursor: pointer;display: flex;align-items: center;justify-content: center;font-weight: bold;}

.icono{font-size:24px;margin-bottom:5px;color:#2c3e50;}
.div4{display:flex;flex-direction:column;align-items:center;}
.titulo-inicio{font-size:18px;font-weight:bold;color:black;margin-bottom:1px;text-align:flex-start;padding-bottom:10px;width:100%;}
.usuario-container{display:flex;flex-direction:column;align-items:center;gap:15px;}
.foto-usuario{width:75px;height:75px;border-radius:50%;display:flex;align-items:flex-start;justify-content:center;font-size:40px;font-weight:bold;color:white;cursor:pointer;transition:all 0.3s ease;box-shadow:0 4px 8px rgba(0,0,0,0.2);background-color:Green;background-image:none;background-size:cover;background-position:center;}
.foto-usuario:hover{transform:scale(1.05);box-shadow:0 6px 12px rgba(0,0,0,0.3);}
.foto-usuario:active{transform:scale(0.98);}
.con-foto{background-image:url('https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=400&h=400&fit=crop');}

.actividades-container{display:grid;grid-template-columns:repeat(5,1fr);gap:15px;margin:0 auto;}
.actividad{background-color:white;border-radius:12px;overflow:hidden;box-shadow:0 4px 8px rgba(0,0,0,0.1);transition:all 0.3s ease;display:flex;flex-direction:column;height:280px;}
.actividad:hover{transform:translateY(-5px);box-shadow:0 8px 16px rgba(0,0,0,0.15);}

.imagen-actividad{height:180px;width:100%;overflow:hidden;}
.imagen-actividad img{width:100%;height:100%;object-fit:cover;transition:transform 0.5s ease;}
.actividad:hover .imagen-actividad img{transform:scale(1.05);}

.descripcion-actividad{padding:15px;flex-grow:1;display:flex;flex-direction:column;justify-content:center;background-color:white;}
.descripcion-actividad h3{margin:0 0 8px 0;font-size:16px;color:#2c3e50;font-weight:600;}
.descripcion-actividad p{margin:0;font-size:13px;color:#7f8c8d;line-height:1.4;}

.div4{display:flex;flex-direction:column;align-items:center;}
.titulo-inicio{font-size:18px;font-weight:bold;color:black;margin-bottom:1px;text-align:flex-start;padding-bottom:10px;width:100%;}
.usuario-container{display:flex;flex-direction:column;align-items:center;gap:15px;}
.foto-usuario{width:75px;height:75px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:40px;font-weight:bold;color:white;cursor:pointer;transition:all 0.3s ease;box-shadow:0 4px 8px rgba(0,0,0,0.2);background-color:Green;background-image:none;background-size:cover;background-position:center;}
.foto-usuario:hover{transform:scale(1.05);box-shadow:0 6px 12px rgba(0,0,0,0.3);}
.foto-usuario:active{transform:scale(0.98);}
.con-foto{background-image:url('https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=400&h=400&fit=crop');}

.actividades-container{display:grid;grid-template-columns:repeat(5,1fr);gap:15px;margin:0 auto;}
.actividad{background-color:white;border-radius:12px;overflow:hidden;box-shadow:0 4px 8px rgba(0,0,0,0.1);transition:all 0.3s ease;display:flex;flex-direction:column;height:280px;}
.actividad:hover{transform:translateY(-5px);box-shadow:0 8px 16px rgba(0,0,0,0.15);}

.imagen-actividad{height:180px;width:100%;overflow:hidden;}
.imagen-actividad img{width:100%;height:100%;object-fit:cover;transition:transform 0.5s ease;}
.actividad:hover .imagen-actividad img{transform:scale(1.05);}

.descripcion-actividad{padding:15px;flex-grow:1;display:flex;flex-direction:column;justify-content:center;background-color:white;}
.descripcion-actividad h3{margin:0 0 8px 0;font-size:16px;color:#2c3e50;font-weight:600;}
.descripcion-actividad p{margin:0;font-size:13px;color:#7f8c8d;line-height:1.4;}


/* */
.boton-usuario{width:30px;height:30px;border-radius:50%;font-size:24px;font-weight:bold;color:white;cursor:pointer;transition:all 0.3s ease;box-shadow:0 4px 8px rgba(0,0,0,0.2);background-color:Green;background-image:none;background-size:cover;background-position:center;}
.boton-usuario:hover{transform:scale(1.05);box-shadow:0 6px 12px rgba(0,0,0,0.3);}   


.div3{grid-row-start:4;grid-row-end:6;}
.boton{background-color:white;border:none;border-radius:50%;width:60px;height:60px;align-items:center;justify-content:center;cursor:pointer;transition:all 0.3s ease;}
.boton:hover{transform:translateY(-3px);box-shadow:0 4px 8px rgba(0,0,0,0.3);background-color:#f8f9fa;}
.boton:active{transform:translateY(-1px);}

.icono{font-size:24px;margin-bottom:5px;color:#2c3e50;}
.div4{display:flex;flex-direction:column;align-items:flex-start;padding:10px}
.titulo-inicio{font-size:18px;font-weight:bold;color:black;margin-bottom:1px;text-align:flex-start;padding-bottom:10px;width:100%;}
.usuario-container{display:flex;flex-direction:column;align-items:center;gap:15px;}
.foto-usuario{width:75px;height:75px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:40px;font-weight:bold;color:white;cursor:pointer;transition:all 0.3s ease;box-shadow:0 4px 8px rgba(0,0,0,0.2);background-color:Green;background-image:none;background-size:cover;background-position:center;}
.foto-usuario:hover{transform:scale(1.05);box-shadow:0 6px 12px rgba(0,0,0,0.3);}
.foto-usuario:active{transform:scale(0.98);}
.con-foto{background-image:url('https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=400&h=400&fit=crop');}

.actividades-container{display:grid;grid-template-columns:repeat(5,1fr);gap:15px;margin:0 auto;}
.actividad{background-color:white;border-radius:12px;overflow:hidden;box-shadow:0 4px 8px rgba(0,0,0,0.1);transition:all 0.3s ease;display:flex;flex-direction:column;height:280px;}
.actividad:hover{transform:translateY(-5px);box-shadow:0 8px 16px rgba(0,0,0,0.15);}

.imagen-actividad{height:180px;width:100%;overflow:hidden;}
.imagen-actividad img{width:100%;height:100%;object-fit:cover;transition:transform 0.5s ease;}
.actividad:hover .imagen-actividad img{transform:scale(1.05);}

.descripcion-actividad{padding:15px;flex-grow:1;display:flex;flex-direction:column;justify-content:center;background-color:white;}
.descripcion-actividad h3{margin:0 0 8px 0;font-size:16px;color:#2c3e50;font-weight:600;}
.descripcion-actividad p{margin:0;font-size:13px;color:#7f8c8d;line-height:1.4;}

.div10 {padding: 1px; margin-top: 16px}
.btn-grupo {width: 15%;padding: 18px;background: linear-gradient(to right, #6c757d, #87ceeb);color: white;border: none;border-radius: 10px;font-size: 18px;font-weight: bold;cursor: pointer;transition: all 0.3s;}
.btn-grupo:hover {background: linear-gradient(to right, #5a6268, #7ec8e3);box-shadow: 0 4px 12px rgba(135, 206, 235, 0.3);}
.btn-grupo:active {transform: translateY(-1px);}
.btn-grupo img {width: 24px;height: 24px;vertical-align: middle;margin-right: 8px;}

.div11, .div12, .div13, .div14, .div15 {grid-row-start: 1;}

```
**index.html**
```html
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WePlan</title>
    <link rel="stylesheet" href="estilos.css">
</head>
<body>
 <nav>
     <div class="div2">
      <img src="Front-end/fotos/weplan-high-resolution-logo-grayscale-transparent.png" alt="WePlan Logo">
      <div class="search-container">
             <input type="text" class="search-box" placeholder="Buscar...">
      </div>
            <div class="bottons-container">
             <button class="boton">
                 <div class="icono">ğŸ </div>
             </button>
             <button class="boton">
                 <div class="icono">ğŸ§—</div>
             </button>
            
             <button class="boton">
                 <div class="icono">ğŸ””</div>
             </button>

              <button class="boton-usuario">
                B
              </button>
             </div>
     </div>   
 </nav>
    <div class="parent">

        <div class="div4">
        <div class="titulo-inicio"><h2>INICIO</h2></div>
        
        <div class="usuario-container">
            <div class="foto-usuario" id="fotoUsuario">
                B
            </div>
        </div>
    </div>
    <h2> Tus grupos</h2>
        <div class="actividades-container"> 
        <!-- Div5 - grupo 1 -->
        <div class="actividad div5">
            <div class="imagen-actividad">
                <img src="Front-end/fotos/coffee and chill.jpg" alt="Coffee and Chill">
            </div>
            <div class="descripcion-actividad">
                <h3>Coffee and Chill</h3>
                <p>â­â­â­â­â­ 5.0</p>
                <p>ğŸ“Œ Valencia, Spain</p>
                <p>ğŸ‘¥ 67 Members-Public</p>
            </div>
        </div>

        <!-- Div6 - grupo 2 -->
        <div class="actividad div6">
            <div class="imagen-actividad">
                <img src="Front-end/fotos/Football7Valencia.jpg" alt="Football7Valencia">
            </div>
            <div class="descripcion-actividad">
                <h3>Football7Valencia</h3>
                <p>â­â­â­â­â­ 5.0</p>
                <p>ğŸ“Œ Valencia, Spain</p>
                <p>ğŸ‘¥ 99 Members-Public</p>
            </div>
        </div>
        
        <!-- Div7 - grupo 3 -->
        <div class="actividad div7">
            <div class="imagen-actividad">
                <img src="Front-end/fotos/cocinar juntos.jpg" alt="Cocinar Juntos">
            </div>
            <div class="descripcion-actividad">
                <h3>Cocinar Juntos</h3>
                <p>â­â­â­â­â­ 5.0</p>
                <p>ğŸ“Œ Valencia, Spain</p>
                <p>ğŸ‘¥ 106 Members-Public</p>
            </div>
        </div>
        
        <!-- Div8 - grupo 4 -->
        <div class="actividad div8">
            <div class="imagen-actividad">
                <img src="Front-end/fotos/street basketball.jpg" alt="Basketball Lovers">
            </div>
            <div class="descripcion-actividad">
                <h3>Basketball Lovers</h3>
                <p>â­â­â­â­â­ 5.0</p>
                <p>ğŸ“Œ Valencia, Spain</p>
                <p>ğŸ‘¥ 17 Members-Public</p>
            </div>
        </div>
        
        <!-- Div9 - grupo 5 -->
        <div class="actividad div9">
            <div class="imagen-actividad">
                <img src="Front-end/fotos/pintura.jpg" alt="Pintura Creativa">
            </div>
            <div class="descripcion-actividad">
                <h3>Pintura Creativa</h3>
                <p>â­â­â­â­â­ 5.0</p>
                <p>ğŸ“Œ Valencia, Spain</p>
                <p>ğŸ‘¥ 25 Members-Public</p>
            </div>
        </div>
    </div>
        <!-- Div10 -  btn-grupo -->
     <div class="div10">
        <button class="btn-grupo"><img src="crear_grupo_emoji.png">Crear Nuevo Grupo</button>
    </div>
    <h2> Tus actividades </h2>
        <div class="actividades-container"> 
        <!-- Div11 - Actividad 1 -->
        <div class="actividad div11">
            <div class="imagen-actividad">
                <img src="https://images.unsplash.com/photo-1540497077202-7c8a3999166f?w=400&h=300&fit=crop" alt="Senderismo">
            </div>
            <div class="descripcion-actividad">
                <h3>Senderismo en MontaÃ±a</h3>
                <p>Ruta de 8km por los senderos naturales. Nivel moderado, apto para principiantes.</p>
            </div>
        </div>
        
        <!-- Div12 - Actividad 2 -->
        <div class="actividad div12">
            <div class="imagen-actividad">
                <img src="https://images.unsplash.com/photo-1562771379-eafdca7a02f8?w=400&h=300&fit=crop" alt="Yoga">
            </div>
            <div class="descripcion-actividad">
                <h3>Clase de Yoga Matutina</h3>
                <p>Sesiones de yoga para todos los niveles. Enfocado en respiraciÃ³n y flexibilidad.</p>
            </div>
        </div>
        
        <!-- Div13 - Actividad 3 -->
        <div class="actividad div13">
            <div class="imagen-actividad">
                <img src="https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w-400&h=300&fit=crop" alt="Cocina">
            </div>
            <div class="descripcion-actividad">
                <h3>Taller de Cocina Saludable</h3>
                <p>Aprende recetas fÃ¡ciles y nutritivas. Incluye todos los ingredientes necesarios.</p>
            </div>
        </div>
        
        <!-- Div14 - Actividad 4 -->
        <div class="actividad div14">
            <div class="imagen-actividad">
                <img src="https://images.unsplash.com/photo-1536922246289-88c42f957773?w=400&h=300&fit=crop" alt="Bicicleta">
            </div>
            <div class="descripcion-actividad">
                <h3>Paseo en Bicicleta</h3>
                <p>Recorrido urbano de 15km. Alquiler de bicicletas incluido para participantes.</p>
            </div>
        </div>
        
        <!-- Div15 - Actividad 5 -->
        <div class="actividad div15">
            <div class="imagen-actividad">
                <img src="https://images.unsplash.com/photo-1518609878373-06d740f60d8b?w=400&h=300&fit=crop" alt="Pintura">
            </div>
            <div class="descripcion-actividad">
                <h3>Workshop de Pintura</h3>
                <p>Explora tu creatividad con acuarelas. Materiales incluidos, no se requiere experiencia.</p>
            </div>
        </div>
    </div>   
</body>
</html>

```
**rustpad-index.php**
```php
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WePlan</title>
    <link rel="stylesheet" href="estilos.css">
</head>
<body>
 <nav>
     <div class="div2">
      <img src="weplan-high-resolution-logo-grayscale.png" alt="WePlan Logo">
      <div class="search-container">
             <input type="text" class="search-box" placeholder="Buscar...">
      </div>
            <div class="bottons-container">
             <button class="boton">
                 <div class="icono">ğŸ </div>
             </button>
             <button class="boton">
                 <div class="icono">ğŸ§—</div>
             </button>
            
             <button class="boton">
                 <div class="icono">ğŸ””</div>
             </button>

              <button class="boton-usuario">
                B
              </button>
             </div>
     </div>   
 </nav>
    <div class="parent">

        <div class="div4">
        <div class="titulo-inicio">INICIO</div>
        
        <div class="usuario-container">
            <div class="foto-usuario" id="fotoUsuario">
                B
            </div>
        </div>
    </div>
    <h3> Tus grupos</h3>
        <div class="actividades-container"> 
        <!-- Div5 - grupo 1 -->
        <div class="actividad div5">
            <div class="imagen-actividad">
                <img src="coffee and chill.jpg" alt="Coffee and Chill">
            </div>
            <div class="descripcion-actividad">
                <h3>Coffee and Chill</h3>
                <p>â­â­â­â­â­ 5.0</p>
                <p>ğŸ“Œ Valencia, Spain</p>
                <p>ğŸ‘¥ 67 Members-Public</p>
            </div>
        </div>

        <!-- Div6 - grupo 2 -->
        <div class="actividad div6">
            <div class="imagen-actividad">
                <img src="Football7Valencia.jpg" alt="Football7Valencia">
            </div>
            <div class="descripcion-actividad">
                <h3>Football7Valencia</h3>
                <p>â­â­â­â­â­ 5.0</p>
                <p>ğŸ“Œ Valencia, Spain</p>
                <p>ğŸ‘¥ 99 Members-Public</p>
            </div>
        </div>
        
        <!-- Div7 - grupo 3 -->
        <div class="actividad div7">
            <div class="imagen-actividad">
                <img src="cocinar juntos.jpg" alt="Cocinar Juntos">
            </div>
            <div class="descripcion-actividad">
                <h3>Cocinar Juntos</h3>
                <p>â­â­â­â­â­ 5.0</p>
                <p>ğŸ“Œ Valencia, Spain</p>
                <p>ğŸ‘¥ 106 Members-Public</p>
            </div>
        </div>
        
        <!-- Div8 - grupo 4 -->
        <div class="actividad div8">
            <div class="imagen-actividad">
                <img src="street basketball.jpg" alt="Basketball Lovers">
            </div>
            <div class="descripcion-actividad">
                <h3>Basketball Lovers</h3>
                <p>â­â­â­â­â­ 5.0</p>
                <p>ğŸ“Œ Valencia, Spain</p>
                <p>ğŸ‘¥ 17 Members-Public</p>
            </div>
        </div>
        
        <!-- Div9 - grupo 5 -->
        <div class="actividad div9">
            <div class="imagen-actividad">
                <img src="pintura.jpg" alt="Pintura Creativa">
            </div>
            <div class="descripcion-actividad">
                <h3>Pintura Creativa</h3>
                <p>â­â­â­â­â­ 5.0</p>
                <p>ğŸ“Œ Valencia, Spain</p>
                <p>ğŸ‘¥ 25 Members-Public</p>
            </div>
        </div>
    </div>
        <!-- Div10 -  btn-grupo -->
     <div class="div10">
        <button class="btn-grupo"><img src="crear_grupo_emoji.png">Crear Nuevo Grupo</button>
    </div>
    <h3> Tus actividades</h3>
        <div class="actividades-container"> 
        <!-- Div11 - Actividad 1 -->
        <div class="actividad div11">
            <div class="imagen-actividad">
                <img src="https://images.unsplash.com/photo-1540497077202-7c8a3999166f?w=400&h=300&fit=crop" alt="Senderismo">
            </div>
            <div class="descripcion-actividad">
                <h3>Senderismo en MontaÃ±a</h3>
                <p>Ruta de 8km por los senderos naturales. Nivel moderado, apto para principiantes.</p>
            </div>
        </div>
        
        <!-- Div12 - Actividad 2 -->
        <div class="actividad div12">
            <div class="imagen-actividad">
                <img src="https://images.unsplash.com/photo-1562771379-eafdca7a02f8?w=400&h=300&fit=crop" alt="Yoga">
            </div>
            <div class="descripcion-actividad">
                <h3>Clase de Yoga Matutina</h3>
                <p>Sesiones de yoga para todos los niveles. Enfocado en respiraciÃ³n y flexibilidad.</p>
            </div>
        </div>
        
        <!-- Div13 - Actividad 3 -->
        <div class="actividad div13">
            <div class="imagen-actividad">
                <img src="https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w-400&h=300&fit=crop" alt="Cocina">
            </div>
            <div class="descripcion-actividad">
                <h3>Taller de Cocina Saludable</h3>
                <p>Aprende recetas fÃ¡ciles y nutritivas. Incluye todos los ingredientes necesarios.</p>
            </div>
        </div>
        
        <!-- Div14 - Actividad 4 -->
        <div class="actividad div14">
            <div class="imagen-actividad">
                <img src="https://images.unsplash.com/photo-1536922246289-88c42f957773?w=400&h=300&fit=crop" alt="Bicicleta">
            </div>
            <div class="descripcion-actividad">
                <h3>Paseo en Bicicleta</h3>
                <p>Recorrido urbano de 15km. Alquiler de bicicletas incluido para participantes.</p>
            </div>
        </div>
        
        <!-- Div15 - Actividad 5 -->
        <div class="actividad div15">
            <div class="imagen-actividad">
                <img src="https://images.unsplash.com/photo-1518609878373-06d740f60d8b?w=400&h=300&fit=crop" alt="Pintura">
            </div>
            <div class="descripcion-actividad">
                <h3>Workshop de Pintura</h3>
                <p>Explora tu creatividad con acuarelas. Materiales incluidos, no se requiere experiencia.</p>
            </div>
        </div>
    </div>   
</body>
</html>

```
## 001-Guia
**001-nombres.md**
```markdown
Nombres a usar para la aplicaciÃ³n:

-sycoop-up (psych-up)
-WePlan
-roamy goose (own)
-planpool
-campfire kin
-Offscreen











```
**002-los ends.md**
```markdown
##Escenario de Desarrollo (19/12/2025):
*Puede cambiar a lo largo que se modifique, cambie el proyecto*
#Front-end:
 5 paginas= Home, Explorar, Notificaciones, Mensajes, Actividades [Hoy,MaÃ±ana,Fin de Semana, PrÃ³ximos]
  Para Home, tendrÃ¡ un nav-bar que contenga un buscador [usando PHP]
 CSS aplicable para ordenadores como moviles
 
#Back-end:
 PHP para la dinÃ¡mica de la aplicaciÃ³n web(botones,redicciones,etc)
 MySQL para la base de datos(Hobbies,Grupos,Intereses,Usuario[direccion,email,pais....])
 
 
##Escenario de Desarrollo (09/01/2026):
#Front-end:
 4 paginas= Home, Notificaciones, Mensajes, Actividades [Hoy,MaÃ±ana,Fin de Semana, PrÃ³ximos]
  Para Home, tenemos un navbar con varios iconos que nos redirigen a las paginas, tenemos tambien una seccion de la cuenta como grupos y activades. A futuro, aplicaremos CSS para moviles
 
#Back-end:
 PHP usado para crear admin.php, logout, login, etc
 Tambien bases de datos como las tablas principales de usuarios, categorias_actividades, aficiones grupos y eventos
 

```
**003-Fases.md**
```markdown
DescripciÃ³n:
La idea es crear una aplicaciÃ³n en la que las personas puedan buscar la categorÃ­a o el tipo de actividad que desean realizar y unirse a otras personas, y tambiÃ©n puedan crear actividades a partir de sus propias ideas y publicarlas para que otras personas se unan a ellas.
No hay lÃ­mites para las ideas: puede tratarse de quedar para tomar algo o viajar a Marruecos para escalar el Toubkal, y la persona que crea la actividad puede establecer un presupuesto para la misma y encargarse de todo, o puede ser de gasto libre, en cuyo caso solo publica la idea y los demÃ¡s pueden gastar lo que quieran.

Fase 1: AnÃ¡lisis
Requerimientos funcionales:
Buscador de categorÃ­as y actividades
Barra de selecciÃ³n de presupuesto

Requirimientos no funcionales:
Debe ser posible visualizarlo en dispositivos mÃ³viles o cualquier navegador
Debe ser fÃ¡cil de entender y usar

Herramientas a usar:
Frontend: HTML,CSS, PHP
Backend: PHP-Python
Base de Datos: MySQL

Funcionalidad de cada pÃ¡gina:
 5 paginas= Home, Explorar, Notificaciones, Mensajes, Actividades 
 
  Para Home, tendrÃ¡ un nav-bar que contenga un buscador [usando PHP]
  Para Actividades, que haya un boton de categoria "Tiempo": [Hoy,MaÃ±ana,Fin de Semana, PrÃ³ximos]
  
DiseÃ±o de la Base de Datos:

CREATE TABLE Usuario{
 id INT AUTO_INCREMENT PRIMARY KEY,
 direccion TEXT,
 email VARCHAR(255),
 pais TEXT,
 usuario_id INT
};

Fase 2: DiseÃ±o
DiseÃ±o de la Interfaz de Usuario:

*~A desarrollar~*
  

```
**004-Ideas futuras.md**
```markdown
"Usuarios similares a ti": Comparando usuario_aficion

"Eventos recomendados": Basado en grupos a los que perteneces (usuario_grupo) y sus eventos (eventos)

"Grupos de tu zona": Usando usuarios.direccion y grupos con eventos locales

"PrÃ³ximos eventos": Consultando eventos.fecha_hora y evento_participantes

"Actividades populares": Contando participantes en eventos por subcategorias_actividades


-- PÃ¡gina de inicio: Mostrar grupos populares
SELECT * FROM vista_grupos_con_miembros 
ORDER BY miembros DESC 
LIMIT 10;

-- Calendario en notificaciones.html: PrÃ³ximos eventos
SELECT * FROM vista_eventos_proximos 
WHERE fecha_hora BETWEEN NOW() AND DATE_ADD(NOW(), INTERVAL 7 DAY);

-- Perfil de usuario en usuario.php: Mostrar sus intereses
SELECT aficiones FROM vista_usuario_aficiones 
WHERE usuario_id = 123;

-- Buscar compaÃ±eros por aficiones en home.php:
SELECT * FROM vista_usuario_aficiones 
WHERE aficiones LIKE '%senderismo%';

# USUARIO.PHP:

Opciones posibles:
Listado de todos los usuarios (como un directorio)

BÃºsqueda/filtro de usuarios por nombre, paÃ­s, aficiones

Perfil pÃºblico de usuario (al hacer clic en un usuario)

GestiÃ³n de usuarios (solo para administradores)

Sistema de amigos/conexiones

RecomendaciÃ³n de usuarios con intereses similares

BasÃ¡ndome en tu base de datos, podrÃ­a incluir:
Nombre, paÃ­s, fecha de registro

Grupos a los que pertenece

Aficiones/intereses

Eventos a los que asiste

Tipo de usuario (admin/host/usuario)

# BBDD:

-- Vista para todos los eventos
CREATE VIEW vista_eventos_completa AS
SELECT 
    e.evento_id,
    e.titulo,
    e.fecha_hora,
    e.lugar,
    e.grupo_id,
    e.subcategoria_id,
    s.nombre AS actividad,
    s.descripcion AS descripcion_actividad,
    s.categoria_id,
    c.nombre AS categoria,
    g.nombre AS grupo_nombre,
    g.descripcion AS grupo_descripcion,
    g.creador_id,
    u.nombre AS creador,
    u.pais AS creador_pais,
    -- Contar participantes
    (SELECT COUNT(*) FROM evento_participantes ep WHERE ep.evento_id = e.evento_id) AS participantes
FROM eventos e
LEFT JOIN subcategorias_actividades s ON e.subcategoria_id = s.subcategoria_id
LEFT JOIN categorias_actividades c ON s.categoria_id = c.categoria_id
LEFT JOIN grupos g ON e.grupo_id = g.grupo_id
LEFT JOIN usuarios u ON g.creador_id = u.usuario_id;

1. Para eventos del usuario:
php
$sql_eventos_usuario = "
    SELECT v.* 
    FROM vista_eventos_completa v
    INNER JOIN evento_participantes ep ON v.evento_id = ep.evento_id
    WHERE ep.usuario_id = $usuario_id
    AND v.fecha_hora >= NOW()
    ORDER BY v.fecha_hora ASC
    LIMIT 5
";
2. Para eventos prÃ³ximos (todos):
php
$sql_eventos_proximos = "
    SELECT * FROM vista_eventos_completa 
    WHERE fecha_hora >= NOW()
    ORDER BY fecha_hora ASC
    LIMIT 10
";

```
### Diagramas
**001-diagrama a desarrollar.json**
```json
{
  "formas": [
    {
      "id": "forma-2",
      "tipo": "rectangle",
      "left": "257.508px",
      "top": "224.672px",
      "width": "",
      "height": "",
      "texto": "Controles[PHP+PY]"
    },
    {
      "id": "forma-3",
      "tipo": "rectangle",
      "left": "455.587px",
      "top": "249.893px",
      "width": "",
      "height": "",
      "texto": "BBDD[MySQL]"
    },
    {
      "id": "forma-5",
      "tipo": "rectangle",
      "left": "657.79px",
      "top": "251.125px",
      "width": "",
      "height": "",
      "texto": "Vistas"
    },
    {
      "id": "forma-6",
      "tipo": "text",
      "left": "792.484px",
      "top": "259.002px",
      "width": "",
      "height": "",
      "texto": "vista_grupo_con_miembrosvista_eventos_proximosvista_usuario_aficiones"
    },
    {
      "id": "forma-7",
      "tipo": "rectangle",
      "left": "659.25px",
      "top": "207.547px",
      "width": "",
      "height": "",
      "texto": "Indices"
    },
    {
      "id": "forma-22",
      "tipo": "entity",
      "left": "343.234px",
      "top": "382.5px",
      "width": "",
      "height": "",
      "entityName": "usuarios",
      "properties": [
        {
          "id": "prop-11",
          "name": "usuario_id"
        },
        {
          "id": "prop-20",
          "name": "nombre"
        },
        {
          "id": "prop-21",
          "name": "apellidos"
        },
        {
          "id": "prop-22",
          "name": "telefono"
        },
        {
          "id": "prop-23",
          "name": "direccion"
        },
        {
          "id": "prop-24",
          "name": "correo_electronico"
        },
        {
          "id": "prop-25",
          "name": "pais"
        },
        {
          "id": "prop-26",
          "name": "fecha_registro"
        }
      ]
    },
    {
      "id": "forma-23",
      "tipo": "entity",
      "left": "286.297px",
      "top": "837.031px",
      "width": "",
      "height": "",
      "entityName": "grupo_subcategorias",
      "properties": [
        {
          "id": "prop-12",
          "name": "grupo_id"
        },
        {
          "id": "prop-52",
          "name": "subcategoria_id"
        },
        {
          "id": "prop-53",
          "name": "atributo"
        },
        {
          "id": "prop-54",
          "name": "atributo"
        }
      ]
    },
    {
      "id": "forma-24",
      "tipo": "entity",
      "left": "523.922px",
      "top": "481.875px",
      "width": "",
      "height": "",
      "entityName": "evento_participantes",
      "properties": [
        {
          "id": "prop-13",
          "name": "evento_id"
        },
        {
          "id": "prop-62",
          "name": "usuario_id"
        },
        {
          "id": "prop-63",
          "name": "atributo"
        },
        {
          "id": "prop-64",
          "name": "atributo"
        }
      ]
    },
    {
      "id": "forma-25",
      "tipo": "entity",
      "left": "522.641px",
      "top": "630.031px",
      "width": "",
      "height": "",
      "entityName": "eventos",
      "properties": [
        {
          "id": "prop-14",
          "name": "evento_id"
        },
        {
          "id": "prop-55",
          "name": "grupo_id"
        },
        {
          "id": "prop-56",
          "name": "subcategoria_id"
        },
        {
          "id": "prop-57",
          "name": "titulo"
        },
        {
          "id": "prop-58",
          "name": "fecha_hora"
        },
        {
          "id": "prop-59",
          "name": "lugar"
        },
        {
          "id": "prop-60",
          "name": "FK grupo_id references grupos(id)"
        },
        {
          "id": "prop-61",
          "name": "atributo"
        }
      ]
    },
    {
      "id": "forma-27",
      "tipo": "entity",
      "left": "676.523px",
      "top": "352.809px",
      "width": "",
      "height": "",
      "entityName": "aficiones",
      "properties": [
        {
          "id": "prop-16",
          "name": "aficion_id"
        },
        {
          "id": "prop-39",
          "name": "nombre (NOT NULL)"
        },
        {
          "id": "prop-40",
          "name": "categoria"
        }
      ]
    },
    {
      "id": "forma-28",
      "tipo": "entity",
      "left": "523.641px",
      "top": "330.094px",
      "width": "",
      "height": "",
      "entityName": "usuario_aficion",
      "properties": [
        {
          "id": "prop-17",
          "name": "usuario_id"
        },
        {
          "id": "prop-41",
          "name": "aficion_id"
        },
        {
          "id": "prop-50",
          "name": "atributo"
        },
        {
          "id": "prop-51",
          "name": "atributo"
        }
      ]
    },
    {
      "id": "forma-29",
      "tipo": "entity",
      "left": "671.094px",
      "top": "876.828px",
      "width": "",
      "height": "",
      "entityName": "categorias_actividades",
      "properties": [
        {
          "id": "prop-18",
          "name": "categoria_id"
        },
        {
          "id": "prop-33",
          "name": "nombre (NOT NULL)"
        },
        {
          "id": "prop-34",
          "name": "descripcion"
        }
      ]
    },
    {
      "id": "forma-30",
      "tipo": "entity",
      "left": "337px",
      "top": "621.25px",
      "width": "",
      "height": "",
      "entityName": "grupos",
      "properties": [
        {
          "id": "prop-19",
          "name": "grupo_id"
        },
        {
          "id": "prop-27",
          "name": "nombre"
        },
        {
          "id": "prop-28",
          "name": "descripcion"
        },
        {
          "id": "prop-29",
          "name": "creador_id"
        },
        {
          "id": "prop-30",
          "name": "fecha_creacion"
        },
        {
          "id": "prop-31",
          "name": "max_miembros (50)"
        },
        {
          "id": "prop-32",
          "name": "atributo"
        }
      ]
    },
    {
      "id": "forma-32",
      "tipo": "entity",
      "left": "165.437px",
      "top": "521.016px",
      "width": "",
      "height": "",
      "entityName": "usuario_grupo",
      "properties": [
        {
          "id": "prop-46",
          "name": "usuario_id"
        },
        {
          "id": "prop-47",
          "name": "grupo_id"
        },
        {
          "id": "prop-48",
          "name": "atributo"
        },
        {
          "id": "prop-49",
          "name": "atributo"
        }
      ]
    },
    {
      "id": "forma-33",
      "tipo": "entity",
      "left": "468.781px",
      "top": "876.281px",
      "width": "",
      "height": "",
      "entityName": "subcategorias_actividades",
      "properties": [
        {
          "id": "prop-65",
          "name": "subcategoria_id"
        },
        {
          "id": "prop-66",
          "name": "categoria_id"
        },
        {
          "id": "prop-67",
          "name": "nombre"
        },
        {
          "id": "prop-68",
          "name": "descripcion"
        }
      ]
    },
    {
      "id": "forma-37",
      "tipo": "rectangle",
      "left": "374.391px",
      "top": "118.582px",
      "width": "",
      "height": "",
      "texto": "[admin.php]"
    },
    {
      "id": "forma-38",
      "tipo": "rectangle",
      "left": "291.676px",
      "top": "7.87109px",
      "width": "",
      "height": "",
      "texto": "[usuario.php]"
    },
    {
      "id": "forma-39",
      "tipo": "rectangle",
      "left": "443.141px",
      "top": "7.60938px",
      "width": "",
      "height": "",
      "texto": "[host.php]"
    },
    {
      "id": "forma-40",
      "tipo": "rectangle",
      "left": "544.422px",
      "top": "61.1211px",
      "width": "",
      "height": "",
      "texto": "Crear"
    },
    {
      "id": "forma-41",
      "tipo": "rectangle",
      "left": "375.391px",
      "top": "65.082px",
      "width": "",
      "height": "",
      "texto": "Leer"
    },
    {
      "id": "forma-43",
      "tipo": "rectangle",
      "left": "543.914px",
      "top": "140.094px",
      "width": "",
      "height": "",
      "texto": "Eliminar"
    },
    {
      "id": "forma-44",
      "tipo": "rectangle",
      "left": "545.418px",
      "top": "99.8594px",
      "width": "",
      "height": "",
      "texto": "Actualizar"
    },
    {
      "id": "forma-45",
      "tipo": "rectangle",
      "left": "212.957px",
      "top": "93.7109px",
      "width": "",
      "height": "",
      "texto": "login.html"
    },
    {
      "id": "forma-46",
      "tipo": "entity",
      "left": "3.01172px",
      "top": "0.0039215px",
      "width": "",
      "height": "",
      "entityName": "FRONT-END(HTML+CSS)",
      "properties": [
        {
          "id": "prop-70",
          "name": "Home"
        },
        {
          "id": "prop-71",
          "name": "Actividades"
        },
        {
          "id": "prop-72",
          "name": "Configuraciones"
        },
        {
          "id": "prop-73",
          "name": "Notificaciones"
        },
        {
          "id": "prop-74",
          "name": "Perfil"
        }
      ]
    }
  ],
  "flechas": [
    {
      "desde": {
        "shapeId": "forma-2",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-3",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-3",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-7",
        "propId": null,
        "side": null
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-3",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-5",
        "propId": null,
        "side": null
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-22",
        "propId": "prop-11",
        "side": "right"
      },
      "hasta": {
        "shapeId": "forma-30",
        "propId": "prop-29",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-22",
        "propId": "prop-11",
        "side": "right"
      },
      "hasta": {
        "shapeId": "forma-24",
        "propId": "prop-62",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-25",
        "propId": "prop-14",
        "side": "right"
      },
      "hasta": {
        "shapeId": "forma-24",
        "propId": "prop-13",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-22",
        "propId": "prop-11",
        "side": "right"
      },
      "hasta": {
        "shapeId": "forma-28",
        "propId": "prop-17",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-27",
        "propId": "prop-16",
        "side": "left"
      },
      "hasta": {
        "shapeId": "forma-28",
        "propId": "prop-41",
        "side": "right"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-22",
        "propId": "prop-11",
        "side": "left"
      },
      "hasta": {
        "shapeId": "forma-32",
        "propId": "prop-46",
        "side": "right"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-30",
        "propId": "prop-19",
        "side": "left"
      },
      "hasta": {
        "shapeId": "forma-32",
        "propId": "prop-47",
        "side": "right"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-29",
        "propId": "prop-18",
        "side": "left"
      },
      "hasta": {
        "shapeId": "forma-33",
        "propId": "prop-66",
        "side": "right"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-30",
        "propId": "prop-19",
        "side": "left"
      },
      "hasta": {
        "shapeId": "forma-23",
        "propId": "prop-12",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-33",
        "propId": "prop-65",
        "side": "left"
      },
      "hasta": {
        "shapeId": "forma-23",
        "propId": "prop-52",
        "side": "right"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-30",
        "propId": "prop-19",
        "side": "right"
      },
      "hasta": {
        "shapeId": "forma-25",
        "propId": "prop-55",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-41",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-38",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-41",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-39",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-40",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-39",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-43",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-37",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-44",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-37",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-37",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-40",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-37",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-41",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-2",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-46",
        "propId": null,
        "side": null
      },
      "tipo": "simple",
      "estilo": "straight"
    }
  ]
}
```
**002-diagrama a ampliar.json**
```json
{
  "formas": [
    {
      "id": "forma-2",
      "tipo": "rectangle",
      "left": "257.508px",
      "top": "224.672px",
      "width": "",
      "height": "",
      "texto": "Controles[PHP+PY]"
    },
    {
      "id": "forma-3",
      "tipo": "rectangle",
      "left": "456.211px",
      "top": "225.508px",
      "width": "",
      "height": "",
      "texto": "BBDD[MySQL]"
    },
    {
      "id": "forma-5",
      "tipo": "rectangle",
      "left": "657.79px",
      "top": "251.125px",
      "width": "",
      "height": "",
      "texto": "Vistas"
    },
    {
      "id": "forma-6",
      "tipo": "text",
      "left": "688.933px",
      "top": "291.674px",
      "width": "",
      "height": "",
      "texto": "vista_grupo_con_miembros"
    },
    {
      "id": "forma-7",
      "tipo": "rectangle",
      "left": "659.25px",
      "top": "207.547px",
      "width": "",
      "height": "",
      "texto": "Indices"
    },
    {
      "id": "forma-22",
      "tipo": "entity",
      "left": "338.556px",
      "top": "403.833px",
      "width": "",
      "height": "",
      "entityName": "usuarios",
      "properties": [
        {
          "id": "prop-11",
          "name": "usuario_id"
        },
        {
          "id": "prop-20",
          "name": "nombre"
        },
        {
          "id": "prop-21",
          "name": "apellidos"
        },
        {
          "id": "prop-22",
          "name": "telefono"
        },
        {
          "id": "prop-23",
          "name": "direccion"
        },
        {
          "id": "prop-24",
          "name": "correo_electronico"
        },
        {
          "id": "prop-25",
          "name": "pais"
        },
        {
          "id": "prop-26",
          "name": "fecha_registro"
        }
      ]
    },
    {
      "id": "forma-25",
      "tipo": "entity",
      "left": "505.958px",
      "top": "634.012px",
      "width": "",
      "height": "",
      "entityName": "eventos",
      "properties": [
        {
          "id": "prop-14",
          "name": "evento_id"
        },
        {
          "id": "prop-55",
          "name": "grupo_id"
        },
        {
          "id": "prop-56",
          "name": "subcategoria_id"
        },
        {
          "id": "prop-57",
          "name": "titulo"
        },
        {
          "id": "prop-58",
          "name": "fecha_hora"
        },
        {
          "id": "prop-59",
          "name": "lugar"
        },
        {
          "id": "prop-60",
          "name": "FK grupo_id references grupos(id)"
        },
        {
          "id": "prop-61",
          "name": ""
        }
      ]
    },
    {
      "id": "forma-27",
      "tipo": "entity",
      "left": "657.832px",
      "top": "396.113px",
      "width": "",
      "height": "",
      "entityName": "aficiones",
      "properties": [
        {
          "id": "prop-16",
          "name": "aficion_id"
        },
        {
          "id": "prop-39",
          "name": "nombre (NOT NULL)"
        },
        {
          "id": "prop-40",
          "name": "categoria"
        }
      ]
    },
    {
      "id": "forma-28",
      "tipo": "entity",
      "left": "503.633px",
      "top": "376.738px",
      "width": "",
      "height": "",
      "entityName": "usuario_aficion",
      "properties": [
        {
          "id": "prop-17",
          "name": "usuario_id"
        },
        {
          "id": "prop-41",
          "name": "aficion_id"
        },
        {
          "id": "prop-50",
          "name": ""
        },
        {
          "id": "prop-51",
          "name": ""
        }
      ]
    },
    {
      "id": "forma-29",
      "tipo": "entity",
      "left": "452.912px",
      "top": "870.453px",
      "width": "",
      "height": "",
      "entityName": "categorias_actividades",
      "properties": [
        {
          "id": "prop-18",
          "name": "categoria_id"
        },
        {
          "id": "prop-33",
          "name": "nombre (NOT NULL)"
        },
        {
          "id": "prop-34",
          "name": "descripcion"
        }
      ]
    },
    {
      "id": "forma-30",
      "tipo": "entity",
      "left": "337px",
      "top": "621.25px",
      "width": "",
      "height": "",
      "entityName": "grupos",
      "properties": [
        {
          "id": "prop-19",
          "name": "grupo_id"
        },
        {
          "id": "prop-27",
          "name": "nombre"
        },
        {
          "id": "prop-28",
          "name": "descripcion"
        },
        {
          "id": "prop-29",
          "name": "creador_id"
        },
        {
          "id": "prop-30",
          "name": "fecha_creacion"
        },
        {
          "id": "prop-31",
          "name": "max_miembros (50)"
        },
        {
          "id": "prop-32",
          "name": ""
        }
      ]
    },
    {
      "id": "forma-32",
      "tipo": "entity",
      "left": "172.096px",
      "top": "504.349px",
      "width": "",
      "height": "",
      "entityName": "usuario_grupo",
      "properties": [
        {
          "id": "prop-46",
          "name": "usuario_id"
        },
        {
          "id": "prop-47",
          "name": "grupo_id"
        },
        {
          "id": "prop-48",
          "name": ""
        },
        {
          "id": "prop-49",
          "name": ""
        }
      ]
    },
    {
      "id": "forma-33",
      "tipo": "entity",
      "left": "272.406px",
      "top": "848.088px",
      "width": "",
      "height": "",
      "entityName": "subcategorias_actividades",
      "properties": [
        {
          "id": "prop-65",
          "name": "subcategoria_id"
        },
        {
          "id": "prop-66",
          "name": "categoria_id"
        },
        {
          "id": "prop-67",
          "name": "nombre"
        },
        {
          "id": "prop-68",
          "name": "descripcion"
        }
      ]
    },
    {
      "id": "forma-37",
      "tipo": "rectangle",
      "left": "536.875px",
      "top": "112.312px",
      "width": "",
      "height": "",
      "texto": "[admin.php]"
    },
    {
      "id": "forma-38",
      "tipo": "rectangle",
      "left": "408.531px",
      "top": "12.8516px",
      "width": "",
      "height": "",
      "texto": "[usuario.php]"
    },
    {
      "id": "forma-39",
      "tipo": "rectangle",
      "left": "560.625px",
      "top": "11.3203px",
      "width": "",
      "height": "",
      "texto": "[host.php]"
    },
    {
      "id": "forma-40",
      "tipo": "rectangle",
      "left": "651.906px",
      "top": "73.6016px",
      "width": "",
      "height": "",
      "texto": "Crear"
    },
    {
      "id": "forma-41",
      "tipo": "rectangle",
      "left": "460.375px",
      "top": "60.0625px",
      "width": "",
      "height": "",
      "texto": "Leer"
    },
    {
      "id": "forma-43",
      "tipo": "rectangle",
      "left": "653.875px",
      "top": "147.562px",
      "width": "",
      "height": "",
      "texto": "Eliminar"
    },
    {
      "id": "forma-44",
      "tipo": "rectangle",
      "left": "653.539px",
      "top": "109.219px",
      "width": "",
      "height": "",
      "texto": "Actualizar"
    },
    {
      "id": "forma-45",
      "tipo": "rectangle",
      "left": "304.797px",
      "top": "189.297px",
      "width": "",
      "height": "",
      "texto": "login.php+ logout.php"
    },
    {
      "id": "forma-50",
      "tipo": "entity",
      "left": "-1.03127px",
      "top": "2.08594px",
      "width": "",
      "height": "",
      "entityName": "FRONT-END",
      "properties": [
        {
          "id": "prop-75",
          "name": "Home"
        },
        {
          "id": "prop-76",
          "name": "Actividades"
        },
        {
          "id": "prop-77",
          "name": "Notificaciones"
        },
        {
          "id": "prop-78",
          "name": "Perfil"
        }
      ]
    },
    {
      "id": "forma-51",
      "tipo": "text",
      "left": "270.84px",
      "top": "166.445px",
      "width": "",
      "height": "",
      "texto": "Tipos de Usuarios(usuario,host,admin)"
    },
    {
      "id": "forma-52",
      "tipo": "text",
      "left": "693.681px",
      "top": "313.738px",
      "width": "",
      "height": "",
      "texto": "vista_eventos_proximos"
    },
    {
      "id": "forma-53",
      "tipo": "text",
      "left": "689.647px",
      "top": "335.215px",
      "width": "",
      "height": "",
      "texto": "vista_usuario_aficiones"
    },
    {
      "id": "forma-55",
      "tipo": "text",
      "left": "847.346px",
      "top": "310.218px",
      "width": "",
      "height": "",
      "texto": "Â  idx_grupos_nombre"
    },
    {
      "id": "forma-56",
      "tipo": "text",
      "left": "847.577px",
      "top": "244.238px",
      "width": "",
      "height": "",
      "texto": "Â  idx_eventos_fecha"
    },
    {
      "id": "forma-57",
      "tipo": "text",
      "left": "858.21px",
      "top": "290.748px",
      "width": "",
      "height": "",
      "texto": "idx_usuarios_email"
    },
    {
      "id": "forma-58",
      "tipo": "text",
      "left": "844.801px",
      "top": "258.548px",
      "width": "",
      "height": "",
      "texto": "Â  idx_eventos_grupo"
    },
    {
      "id": "forma-60",
      "tipo": "text",
      "left": "854.56px",
      "top": "275.342px",
      "width": "",
      "height": "",
      "texto": "idx_usuarios_nombre"
    },
    {
      "id": "forma-61",
      "tipo": "text",
      "left": "791.582px",
      "top": "224.434px",
      "width": "",
      "height": "",
      "texto": "-- Indice para busqueda frecuentes--"
    },
    {
      "id": "forma-62",
      "tipo": "text",
      "left": "1030.8px",
      "top": "240.691px",
      "width": "",
      "height": "",
      "texto": "idx_usuarios_grupo_usuario"
    },
    {
      "id": "forma-63",
      "tipo": "text",
      "left": "1029.89px",
      "top": "262.056px",
      "width": "",
      "height": "",
      "texto": "idx_usuarios_grupo_grupo"
    },
    {
      "id": "forma-64",
      "tipo": "text",
      "left": "1036.26px",
      "top": "222.962px",
      "width": "",
      "height": "",
      "texto": "-- Indices para Relaciones --"
    },
    {
      "id": "forma-65",
      "tipo": "rectangle",
      "left": "457.93px",
      "top": "276.289px",
      "width": "",
      "height": "",
      "texto": "Tablas"
    },
    {
      "id": "forma-66",
      "tipo": "entity",
      "left": "184.551px",
      "top": "746.802px",
      "width": "",
      "height": "",
      "entityName": "grupo_subcategorias",
      "properties": [
        {
          "id": "prop-79",
          "name": "grupo_id"
        },
        {
          "id": "prop-81",
          "name": "subcategoria_id"
        }
      ]
    },
    {
      "id": "forma-68",
      "tipo": "entity",
      "left": "507.923px",
      "top": "531.936px",
      "width": "",
      "height": "",
      "entityName": "evento_participantes",
      "properties": [
        {
          "id": "prop-83",
          "name": "event_id"
        },
        {
          "id": "prop-84",
          "name": "usuario_id"
        }
      ]
    }
  ],
  "flechas": [
    {
      "desde": {
        "shapeId": "forma-2",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-3",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-3",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-7",
        "propId": null,
        "side": null
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-3",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-5",
        "propId": null,
        "side": null
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-22",
        "propId": "prop-11",
        "side": "right"
      },
      "hasta": {
        "shapeId": "forma-30",
        "propId": "prop-29",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-22",
        "propId": "prop-11",
        "side": "right"
      },
      "hasta": {
        "shapeId": "forma-28",
        "propId": "prop-17",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-27",
        "propId": "prop-16",
        "side": "left"
      },
      "hasta": {
        "shapeId": "forma-28",
        "propId": "prop-41",
        "side": "right"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-22",
        "propId": "prop-11",
        "side": "left"
      },
      "hasta": {
        "shapeId": "forma-32",
        "propId": "prop-46",
        "side": "right"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-30",
        "propId": "prop-19",
        "side": "left"
      },
      "hasta": {
        "shapeId": "forma-32",
        "propId": "prop-47",
        "side": "right"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-29",
        "propId": "prop-18",
        "side": "left"
      },
      "hasta": {
        "shapeId": "forma-33",
        "propId": "prop-66",
        "side": "right"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-30",
        "propId": "prop-19",
        "side": "right"
      },
      "hasta": {
        "shapeId": "forma-25",
        "propId": "prop-55",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-41",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-38",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-41",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-39",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-40",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-39",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-43",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-37",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-44",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-37",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-37",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-40",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-37",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-41",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-50",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-2",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-45",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-51",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-30",
        "propId": "prop-19",
        "side": "left"
      },
      "hasta": {
        "shapeId": "forma-66",
        "propId": "prop-79",
        "side": "right"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-33",
        "propId": "prop-65",
        "side": "left"
      },
      "hasta": {
        "shapeId": "forma-66",
        "propId": "prop-81",
        "side": "right"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-33",
        "propId": "prop-65",
        "side": "right"
      },
      "hasta": {
        "shapeId": "forma-25",
        "propId": "prop-56",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-25",
        "propId": "prop-14",
        "side": "right"
      },
      "hasta": {
        "shapeId": "forma-68",
        "propId": "prop-83",
        "side": "right"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-22",
        "propId": "prop-11",
        "side": "right"
      },
      "hasta": {
        "shapeId": "forma-68",
        "propId": "prop-84",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    }
  ]
}
```
### Redacciones
**005-Redaccion de bases de datos.md**
```markdown
## Paso 1: Creacion de base de datos, comandos de creacion, tablas y usuarios
Hemos creado la base de datos WePlanDB basado en que los usuarios puedan crear actividades y conectarse mediante aficiones a traves de diferentes grupos en eventos. Los registros de las tablas mas usados han sido de VARCHAR (caracteres de texto), TEXT(caracteres de texto sin limites), y INT (numeros enteros). Ademas hemos usados clave primarias para identificar las tablas como claves foraneas para conectar con otras tablas para hacer un flujo de informacion y que no todo estÃ© dentro de una sola tabla

## Contenido del Paso 1:
```
--Creacion de la base de datos--
```
```
CREATE DATABASE WePlanDB;
USE WePlanDB;
```

# Tablas madres:
```
CREATE TABLE usuarios (
    usuario_id INT PRIMARY KEY AUTO_INCREMENT,
    nombre VARCHAR(50) NOT NULL,
    apellidos VARCHAR(150) NOT NULL,
    telefono VARCHAR(20),
    direccion VARCHAR(255),
    correo_electronico VARCHAR(150) UNIQUE NOT NULL,
    pais VARCHAR(50),
    contrasenya VARCHAR(255) NOT NULL,
    fecha_registro TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    tipo_de_usuario VARCHAR(50)
);

CREATE TABLE grupos (
    grupo_id INT PRIMARY KEY AUTO_INCREMENT,
    nombre VARCHAR(100) NOT NULL,
    descripcion TEXT,
    creador_id INT,
    fecha_creacion TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    max_miembros INT DEFAULT 50,
    FOREIGN KEY (creador_id) REFERENCES usuarios(usuario_id)
);

CREATE TABLE categorias_actividades (
    categoria_id INT PRIMARY KEY AUTO_INCREMENT,
    nombre VARCHAR(50) NOT NULL,
    descripcion TEXT
);

CREATE TABLE aficiones (
    aficion_id INT PRIMARY KEY AUTO_INCREMENT,
    nombre VARCHAR(100) NOT NULL,
    categoria VARCHAR(50)
);

CREATE TABLE eventos (
    evento_id INT PRIMARY KEY AUTO_INCREMENT,
    grupo_id INT NOT NULL,
    subcategoria_id INT,
    titulo VARCHAR(100) NOT NULL,
    fecha_hora DATETIME NOT NULL,
    lugar VARCHAR(200),
    FOREIGN KEY (grupo_id) REFERENCES grupos(grupo_id),
    FOREIGN KEY (subcategoria_id) REFERENCES subcategorias_actividades(subcategoria_id)
);
```
# Tablas relacionales:
```
CREATE TABLE usuario_grupo (
    usuario_id INT NOT NULL,
    grupo_id INT NOT NULL,
    PRIMARY KEY (usuario_id, grupo_id),
    FOREIGN KEY (usuario_id) REFERENCES usuarios(usuario_id),
    FOREIGN KEY (grupo_id) REFERENCES grupos(grupo_id)
);

CREATE TABLE usuario_aficion (
    usuario_id INT NOT NULL,
    aficion_id INT NOT NULL,
    PRIMARY KEY (usuario_id, aficion_id),
    FOREIGN KEY (usuario_id) REFERENCES usuarios(usuario_id),
    FOREIGN KEY (aficion_id) REFERENCES aficiones(aficion_id)
);

CREATE TABLE grupo_subcategoria (
    grupo_id INT NOT NULL,
    subcategoria_id INT NOT NULL,
    PRIMARY KEY (grupo_id, subcategoria_id),
    FOREIGN KEY (grupo_id) REFERENCES grupos(grupo_id),
    FOREIGN KEY (subcategoria_id) REFERENCES subcategorias_actividades(subcategoria_id)
);
```
# Tablas hijas:
```
CREATE TABLE evento_participantes (
    evento_id INT NOT NULL,
    usuario_id INT NOT NULL,
    PRIMARY KEY (evento_id, usuario_id),
    FOREIGN KEY (evento_id) REFERENCES eventos(evento_id),
    FOREIGN KEY (usuario_id) REFERENCES usuarios(usuario_id)
);

CREATE TABLE subcategorias_actividades (
    subcategoria_id INT PRIMARY KEY AUTO_INCREMENT,
    categoria_id INT NOT NULL,
    nombre VARCHAR(50) NOT NULL,
    descripcion TEXT,
    FOREIGN KEY (categoria_id) REFERENCES categorias_actividades(categoria_id)
);

```
# Creacion de usuario que podrÃ¡ acceder a la base de datos:
```
CREATE USER 'usuario-weplan'@'localhost' IDENTIFIED BY 'Usuarioweplan123$';
GRANT USAGE ON *.* TO 'usuario-weplan'@'localhost';
ALTER USER 'usuario-weplan'@'localhost'
REQUIRE NONE
WITH MAX_QUERIES_PER_HOUR 0
MAX_CONNECTIONS_PER_HOUR 0
MAX_UPDATES_PER_HOUR 0
MAX_USER_CONNECTIONS 0;

GRANT ALL PRIVILEGES ON WePlanDB.* TO 'usuario-weplan'@'localhost';
FLUSH PRIVILEGES;
```

#Creacion de vistas:
-- Vista para ver grupos con nÃºmero de miembros
```
CREATE VIEW vista_grupos_con_miembros AS
SELECT 
    g.grupo_id,
    g.nombre AS grupo,
    COUNT(ug.usuario_id) AS miembros,
    u.nombre AS creador,
    g.descripcion
FROM grupos g
LEFT JOIN usuario_grupo ug ON g.grupo_id = ug.grupo_id
JOIN usuarios u ON g.creador_id = u.usuario_id
GROUP BY g.grupo_id;
```

-- Vista para eventos prÃ³ximos
```
CREATE VIEW vista_eventos_proximos AS
SELECT 
    e.evento_id,
    e.titulo, 
    e.fecha_hora, 
    e.lugar,
    g.nombre AS grupo,
    s.nombre AS actividad
FROM eventos e
JOIN grupos g ON e.grupo_id = g.grupo_id
LEFT JOIN subcategorias_actividades s ON e.subcategoria_id = s.subcategoria_id
WHERE e.fecha_hora > NOW()
ORDER BY e.fecha_hora;
```

-- Vista para aficiones de usuarios
```
CREATE VIEW vista_usuario_aficiones AS
SELECT 
    u.usuario_id,
    u.nombre, 
    u.apellidos,
    GROUP_CONCAT(a.nombre SEPARATOR ', ') AS aficiones
FROM usuarios u
LEFT JOIN usuario_aficion ua ON u.usuario_id = ua.usuario_id
LEFT JOIN aficiones a ON ua.aficion_id = a.aficion_id
GROUP BY u.usuario_id;
```

## Paso 2: Contenido de las tablas y explicacion
Tenemos varias tablas madre: usuarios, categorias_actividades, aficiones y incluso grupos como eventos. 
La tabla usuario es para crear registros unicos que puedan acceder al sitio web, luego tenemos categorias_actividades para Categorias generales (Musica, Deporte, Educacion,etc), aficiones para caso mas especificos.

El flujo de datos entre tablas es el siguiente:
```
 Un usuario se registra (usuarios)-> Define sus aficiones con un formulario web (aficiones y usuario_aficion)-> Busca grupo gracias a las aficiones(grupo y grupo_subcategoria) -> Se une a grupos (grupo y usuario_grupo)
 Un "host" del grupo crea un evento (grupo y evento) -> el usuario confirma asistencia (usuario,evento y evento_participantes)
```
```
-Tabla usuarios-
Dentro de la tabla usuarios, tenemos datos personales con nombre, apellidos, telÃ©fono, direcciÃ³n, credenciales con un correo Ãºnico y contraseÃ±a y otros como paÃ­s, fecha_registro (util para saber cuestiones de seguridad). Su uso es para el perfil del usuario en el login y mostrar en grupos/eventos.

-Tabla grupos-
 La tabla grupos es para mostrar directamente en home.php y contiene nombre, descripcion. Para gestiornalo, tiene un creador_id (FK a usuarios), como fecha_creacion ademÃ¡s de un limite de miembros con max_miembros.
 
-Tabla categorias_actividades-
 La tabla sirve para mostrar los tipos de categorias generales donde los grupos se clasifican. Contiene nombre y una descripciÃ³n.
 
-Tabla aficiones-
 La tabla aficiones sirve para mostrar intereses mas especificos, personales que no pueden ser clasificados dentro de categorias_actividades. Contiene nombre y categoria

-Tabla eventos- 
 La tabla contiene un titulo, fecha_hora y lugar para Programacion de horarios, luego algunas claves foraneas como grupo_id (el grupo que va a realizar el evento) y subcategoria_id (el tipo especifico de actividad a realizar). Es muy util para los grupos usar estos eventos que contiene un rango de actividades en vez de enforcarse en un solo.
```

Y luego tenemos varias tablas hijas: subcategorias_actividades, evento_participantes.
```
-Tabla subcategorias_actividades-
 La tabla permite que una subcategoria pertenezca a una categoria general. Por ejemplo Padel y Futbol estarian dentro de "Deportes". Sirve para hacer una jeraquÃ­a de actividades.

-Tabla evento_participantes-
 La tabla permite que un usuario participe en un evento. Esto es Ãºtil porque permite controlar las asistencias de los mismos, gestion de capacidad, etc.
```

## Paso 3: Relaciones,FK y Peticiones JOIN
#Relaciones
Algunas relaciones que hemos hecho han sido usuario_grupo, usuario_aficion y grupo_subcategorias para que logren conectarse segun la relacion de mucho a mucho (n-n) para los 3 casos (un grupo puede albergar muchos usuarios y un usuario puede estar dentro de muchos grupos).

Para la tabla usuario_grupo, tenemos que el usuario sabe a que grupo pertenece y viceversa. 
Para la tabla usuario_aficion tenemos que hay sistema de aficiones que el usuario puede usar y que permite conectar con otras personas. 
Para la tabla grupo_subcategoria, permite definir las actividades que hace cada grupo.

#Foreign Keys
Para las Foreign Keys (Clave ForÃ¡neas), en la tabla grupos tenemos **creador_id** que depende de usuario_id. En eventos tenemos **grupo_id** por ser quien harÃ¡ la actividad y subcategoria_id para describir la actividad a hacer en el evento. En evento_participantes depende de evento_id y usuario_id. En usuario_grupo tiene depedencia en grupo_id y usuario_id.

Como tenemos tablas relacionesles, dependerÃ¡ de las tablas madres como usuario_aficion que depende de aficion_id y usuario_id y grupo_subcategoria que usa grupo_id y subcategoria_id.

#Peticiones JOIN
Para las peticiones JOIN, las hemos usados como para crear las vistas que a continuaciÃ³n serÃ¡n explicadas.

 EL primer JOIN, de grupos, es para usuario_grupo que usara el grupo_id con creador_id. Esto permite traer todos los grupos incluso sin miembros y mostrar el host (creador del grupo) con su informacion de usuario.
 
 Para el JOIN de Vista eventos_proximos usa grupo_id como subcategoria_id. Esto permite traer informacion del grupo organizador, ademas de que los eventos pueden no tener subcategoria asignada.
 
  Y para la tercera vista usuario_aficiones, usa usuario_id como aficion_id. Esto permite trae todos los usuarios incluso sin aficiones (util para gestionar aficiones de usuarios si no logran saber como aplicarse aficiones a ellos mismos). TambiÃ©n si el usuario tiene aficiones, trae su nombres; en cambio si no tiene aficiones, devuelve NULL.

## Paso 4: Vistas y explicacion

La primera, vista_grupo_con_miembros, permite ver un grupo que alberga los miembros, su creador y descripcion para que pueda ser visto por todos dentro de home.html. 

Estructura completa:
```
SELECT: Columnas a mostrar
 g.grupo_id - ID Ãºnico del grupo
 g.nombre AS grupo - Nombre del grupo (renombrado)
 COUNT(ug.usuario_id) AS miembros - Cuenta miembros
 u.nombre AS creador - Nombre del usuario creador
 g.descripcion - DescripciÃ³n del grupo

FROM grupos g: Tabla principal (alias g)

LEFT JOIN usuario_grupo ug:
 Une grupos con sus miembros (tabla puente)
 Usa LEFT para incluir grupos sin miembros

JOIN usuarios u:
 Une el creador del grupo con tabla usuarios
 INNER JOIN porque todo grupo tiene creador

GROUP BY g.grupo_id:
 Agrupa por grupo para que COUNT cuente miembros por grupo
```


La segunda vista_eventos_proximos, es para los usuarios saber cuales solo eventos a futuro, el grupo que lo organiza y la actividad a realizar, ademas puede ser visto por el usuario dentro de notificaciones.html.

Estructura completa:
```
SELECT:
 e.evento_id - ID del evento
 e.titulo - TÃ­tulo del evento
 e.fecha_hora - CuÃ¡ndo ocurre
 e.lugar - DÃ³nde ocurre
 g.nombre AS grupo - Grupo organizador
 s.nombre AS actividad - Tipo de actividad (puede ser NULL)

FROM eventos e: Tabla principal eventos
JOIN grupos g: INNER JOIN obligatorio - todo evento tiene grupo
LEFT JOIN subcategorias_actividades s:
 Eventos pueden no tener subcategorÃ­a definida
 Si no tiene, actividad serÃ¡ NULL

WHERE e.fecha_hora > NOW():
 Solo eventos futuros
 Filtra eventos pasados

ORDER BY e.fecha_hora:
 Orden cronolÃ³gico
 Los mÃ¡s prÃ³ximos primero
```


Y por ultimo con la tercera vista, vista_usuario_aficiones, le permite al usuario ver su informaciÃ³n personal como aficiones que ha selecionado para verlas en su usuario.

Estructura completa:
```
SELECT:
 u.usuario_id-ID del usuario
 u.nombre-Nombre del usuario
 u.apellidos-Apellidos del usuario
GROUP_CONCAT(a.nombre SEPARATOR',')AS aficiones:
 FunciÃ³n especial MySQL para concatena TODAS las aficiones en una sola cadena separadas por coma y espacio. Ejemplo:"Senderismo,Pintura,Lectura"

FROM usuarios u:Tabla principal usuarios
LEFT JOIN usuario_aficion ua:
 Une usuario con tabla puente de aficiones
 Usa LEFT para incluir usuarios sin aficiones
LEFT JOIN aficiones a:
 Une tabla puente con nombres de aficiones
 Segundo LEFT JOIN porque si no hay en la primera,no hay en la segunda

GROUP BY u.usuario_id:
 Agrupa por usuario
 Necesario para GROUP_CONCAT
 Une mÃºltiples filas de aficiones en una sola
```

## Paso 5: Comandos del panel de admin, uso y explicacion
Los comandos usar en el panel de admin son:
# SHOW TABLES:
Para mostrar la lista de tablas de las base de datos dentro del nav que hemos creado. Muy util para mostrar tabla por tabla cuando se selecciona, es uno de los fundamentos para el panel admin. Util para el READ
# SELECT * FROM 'tabla' LIMIT 1;
Sirve para mostrar dentro del main, el cotenido de la tabla entera por sus columnas como sus registros

# CRUD: 
SHOW COLUMNS FROM 'tabla' para mostrar solo las columnas de la 'tabla'. Util para el CREATE y UPDATE 
SHOW TABLE LIKE 'tabla' para verificar la existencia de la 'tabla'. Util para el UPDATE
INSERT INTO 'tabla' VALUES 'valores' para meter dentro de una tabla los registros a crear. Util para el CREATE
DELETE FROM 'tabla' WHERE id_column = "" sirve para borrar dentro de la 'tabla' una columna con id. Util para el DELETE y UPDATE
UPDATE 'tabla' SET columna1 = "valor_nuevo" WHERE $id_column = "" sirve para actualizar el registro de una tabla usando su columna. Util para el UPDATE



```
**006-Resolucion del proyecto WEPLAN.md**
```markdown
-El proyecto que hemos hecho:
	El proyecto se llama WePlan 
-De quÃ© se trata:
	Se trata de conectar personas que tengan varias aficiones o actividades ya sean comunes, diferentes o unicas y que puedan comunicarse tanto por mensajes a traves de la aplicaciones o traves de eventos para desconectarse.

-Por quÃ© lo hemos hecho:
Hemos decidido hacer este proyecto porque es algo que estamos buscando para utilizar y no lo encontramos como queremos. Estamos de acuerdo en que hay aplicaciones similares a la que estamos creando, pero les faltan algunos cosas claves que vamos a aÃ±adir para mejorar el proyecto y hacerlo mÃ¡s Ãºtil. Por ejemplo, en las otras aplicaciones solo las grandes empresas pueden crear actividades, pero en la nuestra todo el mundo puede aÃ±adir actividades, aunque no sean gran cosa, porque todos hemos llegado alguna vez a un punto en el que nos sentimos perdidos y necesitamos compaÃ±Ã­a para tomar un cafÃ© y charlar sobre cosas sin importancia para sentirnos mejor.

-Con quiÃ©n lo hemos hecho:
	Se ha creado por Ayman Mouzakki y Bryan Glot Fong

-CÃ³mo nos hemos repartido tareas, quiÃ©n ha hecho quÃ©:
	Entre los dos, hemos hecho una division de tareas fluida para no sobrecarganos al crear el front-end y el back-end

-Como hemos trabajado en equipo:
	En el front-end, haremos que los usuarios y invitados puedan ver y interactuar entre las 4 paginas fundamentales (Inicio,Notificationes,Actividades y Cuenta). Y en el back-end, donde al gestionar los datos, se controla las acciones hechas por el admin y tambiÃ©n control de que pueden ver con las vistas.

-Indicaciones de que conocemos cÃ³mo combinar las tecnologÃ­as implicadas:
       Front-end:
- HTML para estructurar las 4 pÃ¡ginas principales
- CSS para el diseÃ±o y adaptaciÃ³n a dispositivos moviles y ordenadores

	Back-end:
- PHP como nÃºcleo principal para  la gestiÃ³n de usuarios (registro, login, sesiones), creaciÃ³n y visualizaciÃ³n de actividades, sistema de mensajes entre usuarios, control de permisos para los usuarios normales y los administradores.
	Base de datos:
- MySQL para almacenar usuarios, actividades, aficiones, relaciones y vistas

	Flujo de integraciÃ³n:
	 El usuario interactÃºa con interfaces HTML  estilizada con CSS â†’ PHP procesa las solicitudes mediantes login+sesiones â†’ Consulta/Lee la base de datos â†’ PHP devuelve resultados al front-end al estar conectado con la base de datos.
	
	 Esta flujo de integraciÃ³n permite crear una aplicaciÃ³n completa donde cada tecnologÃ­a cumple su funciÃ³n Ã³ptima: PHP para la web dinÃ¡mica y lÃ³gica compleja y una base de datos SQL para la persistencia de informaciÃ³n.

El resultado del proyecto intermodular, WePlan, es una aplicaciÃ³n que resuelva una necesidad humana: la de conexiÃ³n offline como online de manera simple y eficiente.

```
**007-Redaccion de la programacion.md**
```markdown
# 1.- Controladores:
## Plantilla de conexion (000-primera prueba de conexion.php):
 Primero nos intentamos a la conectar a la base de datos usando nuestro usuario creado previamente y permitimos que se conecte y muestre usando HTML cada fila de la tabla "usuarios". Recordamos cerrar conexiÃ³n al terminar el script

```
<?php
 $host = "localhost";
 $user = "usuario-weplan";
 $pass = "Usuarioweplan123$";
 $db   = "WePlanDB";

 $conexion = new mysqli($host, $user, $pass, $db);
 $sql = "SELECT * FROM usuarios";
 $resultado = $conexion->query($sql);

 while ($fila = $resultado->fetch_assoc()) {
   echo '
     <article>
      <!-- Orden de las filas: nombre,apellidos,telefono,direccion,correo_electronico,pais,contrasenya,fecha_registro -->
      <h2>'.$fila['correo_electronico'].'</h2>
      <h2>'.$fila['contrasenya'].'</h2>
      <br>
      <h3>'.$fila['nombre'].'</h3>
      <p>'.$fila['apellidos'].'</p>
      <p>'.$fila['telefono'].'</p>
      <p>'.$fila['direccion'].'</p>
      <p>'.$fila['correo_electronico'].'</p>
      <p>'.$fila['pais'].'</p>
      <time>'.$fila['fecha_registro'].'</time>
     </article>
   ';
 }
 
 $conexion->close();
?>
```


# Login(004-login.php con 003-procesa_login.php):
 Con login.php, hace que muestre el formulario HTML del login que permite recoge los datos que el usuario ingresa.
 Con procesa_login.php, procesa el formulario del login y donde su flujo es: Recibe POST con email y contraseÃ±a, consulta la base de datos. Si es vÃ¡lido, inicia sesiÃ³n y redirige; Si no, muestra un mensaje de error en HTML ya sea por la contraseÃ±a/email es largo, corto o incorrecto.
 Vistas: usuario.php, host.php y admin.php

**Con host.php muestra el dashboard del host (navegador funcional,Grupos con eventos y crear eventos,Actividades+Crear Actividades).**

**Con usuario.php, tenemos el dashboard comun donde alberga navegador funcional,Grupos con eventos,Actividades+Crear Actividades** . Empezamos con session_start(); despues de haber iniciado sesion usando el controlador 004-login.php, tambien conexion con la base de datos, extracion de datos SQL dentro de varias tablas como "usuarios","grupos","eventos",etc. Luego con estos datos, generamos el formato presentable de las tablas:
 -imagen, descripcion,pais,miembros para "grupos",
 -imagen,descripcion,evento,fecha,lugar,nombre para los eventos
 
**Con admin.php, tenemos que muestra las tablas a un lado y el contenido al otro. Tambien las herramientas CRUD para crear, leer, eliminar y actualizar un registro. Ademas un boton de logout necesario para mas seguridad.** Empezamos con un estilo CSS para el nav, tambien para las tablas como los botones. Para la estructura HTML, tenemos un body, un nav, un main que contiene las tablas. Respecto al uso de PHP, tenemos verificador de usuarios, conexion con bases de datos, un SHOW TABLES de SQL para mostrar en el nav el nombre de las tablas, verificar si se ha seleccionado una tabla para luego mostrar sus cabeceras y luego el resto de datos tambien un Redireccionador de enlaces para los botones Lectura, LogOut, Crear, Editar y Eliminar 
 
## 004-login.php:
```
<?php session_start(); ?>
<!doctype html>
<html lang="es">
  <head>
    <title>WePlan - Login</title>
    <meta charset="utf-8">
    <style>
     body,html{padding:0px;margin:0px;width:100%;height:100%;}
     body{display:flex;justify-content:center;align-items:center;text-align:center;background:BlanchedAlmond;}
     form{display:flex;flex-direction:column;width:200px;height:200px;background:#FFFFFD;padding:20px;align-items:center;gap:10px;justify-content:center;}
     input{width:100%;padding:15px;box-sizing:border-box;border:1 px solid lightgrey;}
     div{ font-size:13px;color:black;}
      #fake-footer{font-weight:bold;font-size:20px;}
      .error-message{font-weight:bold;font-size:18px;}
    </style>
  </head>
  <body>
    <main>  
      <div id="fake-header">
        <h1>PÃ¡gina de Login v0.1 ğŸ”</h1>
      </div>
      <form action="003-procesa_login.php" method="POST">
        <input type="text" name="correo_electronico" placeholder="Correo electrÃ³nico">
        <input type="password" name="contrasenya" placeholder="ContraseÃ±a">
        <input type="submit">
      </form>
      <?php
      // Mostrar error de sesiÃ³n si existe
      if (isset($_SESSION['error'])) {
          echo '<div class="error-message">';
          echo htmlspecialchars($_SESSION['error']);
          echo '</div>';
          unset($_SESSION['error']); // Limpiar despuÃ©s de mostrar
      }
      ?>        
      <div id="form-content">
        <p>ğŸ“‹ Requisitos:</p>
        <p>â€¢ Usuario: 5-20 caracteres</p>
        <p>â€¢ ContraseÃ±a: 8-16 caracteres</p>        
      </div>
      <div id="fake-footer">
       (c) Ayman x Bryan 2025      
      </div>
    </main>
  </body>
</html>

<?php
        // Mostrar estado de validaciÃ³n del correo previo
        if (!empty($correo_previo)) {
            $color_correo = validarCorreoEnTiempoReal($correo_previo);
            $clase_correo = ($color_correo === 'green') ? 'valido' : 'invalido';
            
            echo '<p class="' . $clase_correo . '">';
            echo 'Correo: ' . strlen(trim($correo_previo)) . '/20 caracteres';
            
            if (!filter_var($correo_previo, FILTER_VALIDATE_EMAIL)) {
                echo ' (Formato invÃ¡lido)';
            }
            echo '</p>';
        }
?>
```

## 003-procesa_login.php:
```
<?php
  session_start();
  $correo = trim($_POST['correo_electronico'] ?? '');
  $pass = $_POST['contrasenya'] ?? '';
  
  $correo_min = 5;
  $correo_max = 30;
  $pass_min = 8;
  $pass_max = 16;
  switch(true) {
      case (strlen($correo) < $correo_min):
          $_SESSION['error'] = "El correo debe tener al menos $correo_min caracteres";      
          header("Location: ./004-login.php?error=correo_corto");
          exit(); 
          
      case (strlen($correo) > $correo_max):
          $_SESSION['error'] = "El correo debe tener menos que $correo_max caracteres";       
          header("Location: ./004-login.php?error=correo_largo");
          exit();
          
      case (strlen($pass) < $pass_min):
          $_SESSION['error'] = "La contraseÃ±a debe tener al menos $pass_min caracteres";       
          header("Location: ./004-login.php?error=pass_corto");
          exit();
          
      case (strlen($pass) > $pass_max):
          $_SESSION['error'] = "La contraseÃ±a debe tener menor que $pass_max caracteres";       
          header("Location: ./004-login.php?error=pass_largo");
          exit();       
  }
  
  $host = "localhost";$user = "usuario-weplan";$pass = "Usuarioweplan123$";$db   = "WePlanDB";
  $conexion = new mysqli($host, $user, $pass, $db);
  
	// Comprobacion exitosa mientras que se mira los datos que vienen del 004-login.php en POST
  $sql = " SELECT * FROM usuarios WHERE
    correo_electronico = '".$_POST['correo_electronico']."'
    AND contrasenya = '".$_POST['contrasenya']."';
  ";
	
  $resultado = $conexion->query($sql);

  if ($fila = $resultado->fetch_assoc()) {	 // Si es cierto que hay un resultado
    $tipo = strtolower(trim($fila['tipo_de_usuario']));
    $_SESSION['usuario'] = 'si'; 
    $_SESSION['tipo_usuario'] = $tipo;
    $_SESSION['correo_usuario'] = $_POST['correo_electronico'];
    $_SESSION['usuario_id'] = $fila['usuario_id'];
    $_SESSION['nombre'] = $fila['nombre'];    
    
    switch($tipo){                          // Dependiendo del tipo de usuario es redigirido a un sitio diferente
      case 'admin':
          header("Location: ./tipo_de_usuario/admin.php");
          break;
      case 'host':
          header("Location: ./tipo_de_usuario/host.php");
          break;
      case 'usuario':
          header("Location: ./tipo_de_usuario/usuario.php");
          break; 
      default:
          header("Location: 005-exito.php");
          break;                             
    }
    exit();
  }else{																		                  // Si no hay ningun resultado, que muestre que ha habido un error con el correo o la contraseÃ±a (porque lo compara contra la base de datos). ADEMÃS de que volvemos a login
   $_SESSION['error'] = "Correo o contraseÃ±a incorrectos";
  	header("Location: ./004-login.php");					
  	exit();
  }

  $conexion->close();
?>
``` 
 
## usuario.php: 
```
<?php
session_start();
$conn = new mysqli('localhost', 'usuario-weplan', 'Usuarioweplan123$', 'WePlanDB');
                                      // Verificador de log-in de usuario
if (!isset($_SESSION['usuario_id'])) {
                                      // Redirigir al login si no hay sesiÃ³n activa
    header("Location: ../004-login.php"); // Ajusta la ruta CUANDO SE CAMBIE DE DIRECTORIO
    exit();}


//Obtenemos datos del usuario dentro de la tabla "usuario"
$usuario_id = intval($_SESSION['usuario_id']);
$sql_usuario = "SELECT nombre, pais FROM usuarios WHERE usuario_id = $usuario_id";
$resultado_usuario = $conn->query($sql_usuario);

if ($resultado_usuario->num_rows > 0) {
    $usuario = $resultado_usuario->fetch_assoc();
    $nombre = $usuario['nombre'];
    $pais = $usuario['pais'];
} else {
    $nombre = "Usuario";
    $pais = "Desconocido";
}

//Obtenemos datos de los grupos dentro de la tabla "grupos" para mostraserlo al usuario
$sql_grupos = "
    SELECT g.grupo_id, g.nombre AS grupo_nombre, g.descripcion, 
           COUNT(ug.usuario_id) AS miembros
    FROM grupos g
    INNER JOIN usuario_grupo ug ON g.grupo_id = ug.grupo_id
    WHERE ug.usuario_id = $usuario_id
    GROUP BY g.grupo_id
    LIMIT 5
";
$resultado_grupos = $conn->query($sql_grupos);

//Obtenemos datos de los grupos dentro de la tabla "eventos" para mostraserlo al usuario

$sql_eventos = "
    SELECT 
        e.evento_id,
        e.titulo,
        e.fecha_hora,
        e.lugar,
        s.nombre AS actividad,
        s.descripcion AS descripcion_actividad,
        g.nombre AS grupo_nombre,
        u.nombre AS creador
    FROM eventos e
    LEFT JOIN subcategorias_actividades s ON e.subcategoria_id = s.subcategoria_id
    LEFT JOIN grupos g ON e.grupo_id = g.grupo_id
    LEFT JOIN usuarios u ON g.creador_id = u.usuario_id
    WHERE 1=1
";

$sql_eventos .= " ORDER BY e.fecha_hora ASC LIMIT 5";

$resultado_eventos = $conn->query($sql_eventos);
?>

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WePlan</title>
    <link rel="icon" type="image/png" href="https://github.com/BryanGF-hg/WePlan/blob/main/Front-end/Pagina%20de%20inicio/fotos/favicon-weplan.png?raw=true">
    
    <link rel="stylesheet" type="text/css" href="./usuario/estilos.css">
</head>
<body>
 <nav>
     <div class="div2">
      <img src="https://github.com/BryanGF-hg/WePlan/blob/main/Front-end/Pagina%20de%20inicio/fotos/weplan-high-resolution-logo-grayscale.png?raw=true" alt="WePlan Logo">
      
      <div class="search-container">
             <input type="text" class="search-box" placeholder="Buscar...">
      </div>
      <!--- A mejorar despues de mejora v0.1.3------->
      
            <div class="bottons-container">
             <button class="boton">
                 <a class="icono" href="/home.php">ğŸ </a>
             </button>
                 <! ----------------------------------- CAMBIAR CUANDO SE COLOQUE EL ARCHIVO EN OTRO LADO ---------------------------------->
             <button class="boton">
                 <a class="icono" href="/actividades.php">ğŸ§—</a>
             </button>
                 <! ----------------------------------- CAMBIAR CUANDO SE COLOQUE EL ARCHIVO EN OTRO LADO ---------------------------------->            
             <button class="boton">
                 <a class="icono" href="/notificaciones.php">ğŸ””</a>
             </button>
                 <! ----------------------------------- CAMBIAR CUANDO SE COLOQUE EL ARCHIVO EN OTRO LADO ---------------------------------->
              <button class="boton-usuario">
                 <a style="text-decoration:none; color:inherit;" href="usuario.php">

                         <?php                                               // Mostrar primera letra del nombre en mayÃºscula
        echo strtoupper(substr($nombre, 0, 1)); ?>
                 </a>
              </button>
              <button class="boton">
               <a href="../006-logout.php" id="boton-logout">Logout </a>              
              </button>
                 <! ----------------------------------- CAMBIAR CUANDO SE COLOQUE EL ARCHIVO EN OTRO LADO ---------------------------------->              
             </div>
     </div>   
 </nav>
    <div class="parent">

        <div class="div4">
        <div class="titulo-inicio">INICIO</div>
        
        <div class="usuario-container">
            <div class="foto-usuario" id="fotoUsuario">
        <?php                                               // Mostrar primera letra del nombre en mayÃºscula
        echo strtoupper(substr($nombre, 0, 1)); ?>
            </div>
            
            <div class="nombre-usuario" id="nombreUsuario">
             <?php                                         // Mostrar nombre y paÃ­s
        echo htmlspecialchars($nombre) . " | " . htmlspecialchars($pais)
             ?>
            </div>
        </div>
        
    </div>
    <h3> Tus grupos</h3>
     <div class="actividades-container"> 
     <!------------------------------------------------------------------------------------------->
     <!------------------------ CONTENIDO PHP PARA GENERAR ACTIVIDADES DEL USUARIO --------------->
     <!------------------------------------------------------------------------------------------->
    <?php
    if ($resultado_grupos && $resultado_grupos->num_rows > 0) {
        // Array de imÃ¡genes por tipo de grupo (puedes personalizarlo)
        $imagenes_grupos = [
            'FÃºtbol' => 'https://github.com/BryanGF-hg/WePlan/blob/main/Front-end/Pagina%20de%20inicio/fotos/Football7Valencia.jpg?raw=true',
            'CafÃ©' => 'https://github.com/BryanGF-hg/WePlan/blob/main/Front-end/Pagina%20de%20inicio/fotos/coffee%20and%20chill.jpg?raw=true',
            'PÃ¡del' => 'https://github.com/BryanGF-hg/WePlan/blob/main/Front-end/Pagina%20de%20inicio/fotos/padel.jpg?raw=true',
            'Conciertos' => 'https://github.com/BryanGF-hg/WePlan/blob/main/Front-end/Pagina%20de%20inicio/fotos/concierto.jpg?raw=true',
            'Running' => 'https://github.com/BryanGF-hg/WePlan/blob/main/Front-end/Pagina%20de%20inicio/fotos/running.jpg?raw=true',
            'Idiomas' => 'https://github.com/BryanGF-hg/WePlan/blob/main/Front-end/Pagina%20de%20inicio/fotos/idiomas.jpg?raw=true'
        ];
        
        $default_image = 'https://github.com/BryanGF-hg/WePlan/blob/main/Front-end/Pagina%20de%20inicio/fotos/default-group.jpg?raw=true'; // Cambiar si queremos mas diseÃ±o visual
        
        while($grupo = $resultado_grupos->fetch_assoc()) {
            // Determinar imagen segÃºn el nombre del grupo
            $imagen = $default_image;
            foreach($imagenes_grupos as $key => $url) {
                if (stripos($grupo['grupo_nombre'], $key) !== false) {
                    $imagen = $url;
                    break;
                }
            }
            
            // Mostrar cada grupo
            echo '<div class="actividad">';
            echo '  <div class="imagen-actividad">';
            echo '    <img src="' . $imagen . '" alt="' . htmlspecialchars($grupo['grupo_nombre']) . '">';
            echo '  </div>';
            echo '  <div class="descripcion-actividad">';
            echo '    <h3>' . htmlspecialchars($grupo['grupo_nombre']) . '</h3>';
            echo '    <p>â­â­â­â­â­ 5.0</p>';
            echo '    <p>ğŸ“Œ ' . htmlspecialchars($pais) . '</p>';
            echo '    <p>ğŸ‘¥ ' . $grupo['miembros'] . ' Miembros - PÃºblico</p>';
            echo '  </div>';
            echo '</div>';
        }
    } else {
        echo '<p>No perteneces a ningÃºn grupo todavÃ­a.</p>';
    }
    ?> 
     </div>
        <!-- Div10 -  btn-grupo -->
     <div class="div10">
        <button class="btn-grupo"><img src="fotos/crear_grupo_emoji.png">Crear Nuevo Grupo</button>
    </div>
    <div>
    <h3> Tus actividades</h3>
     <div class="actividades-container"> 
        <?php
        if ($resultado_eventos && $resultado_eventos->num_rows > 0) {
            // Array de imÃ¡genes por tipo de actividad
            $imagenes_actividades = [
                'FÃºtbol' => 'https://github.com/BryanGF-hg/WePlan/blob/main/Front-end/Pagina%20de%20inicio/fotos/Football7Valencia.jpg?raw=true',
                'PÃ¡del' => 'https://images.unsplash.com/photo-1595435934247-5d33b7f92c70?w=400&h=300&fit=crop',
                'Running' => 'https://images.unsplash.com/photo-1552674605-db6ffd8facb5?w=400&h=300&fit=crop',
                'CafÃ©' => 'https://github.com/BryanGF-hg/WePlan/blob/main/Front-end/Pagina%20de%20inicio/fotos/coffee%20and%20chill.jpg?raw=true',
                'Concierto' => 'https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=300&fit=crop',
                'Idiomas' => 'https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=400&h=300&fit=crop',
                'Senderismo' => 'https://images.unsplash.com/photo-1540497077202-7c8a3999166f?w=400&h=300&fit=crop',
                'Yoga' => 'https://images.unsplash.com/photo-1562771379-eafdca7a02f8?w=400&h=300&fit=crop',
                'Cocina' => 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=300&fit=crop',
                'Bicicleta' => 'https://images.unsplash.com/photo-1536922246289-88c42f957773?w=400&h=300&fit=crop',
                'Pintura' => 'https://images.unsplash.com/photo-1518609878373-06d740f60d8b?w=400&h=300&fit=crop'
            ];
            
            $default_image = 'https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=400&h=300&fit=crop';
            
            while($evento = $resultado_eventos->fetch_assoc()) {
                // Determinar imagen segÃºn tipo de actividad
                $imagen = $default_image;
                $actividad_nombre = $evento['actividad'] ?? $evento['titulo'];
                
                foreach($imagenes_actividades as $palabra_clave => $url) {
                    if (stripos($actividad_nombre, $palabra_clave) !== false || 
                        stripos($evento['titulo'], $palabra_clave) !== false) {
                        $imagen = $url;
                        break;
                    }
                }
                
                // Formatear fecha
                $fecha_formateada = date('d/m/Y H:i', strtotime($evento['fecha_hora']));
                
                // Mostrar cada actividad
                echo '<div class="actividad">';
                echo '  <div class="imagen-actividad">';
                echo '    <img src="' . $imagen . '" alt="' . htmlspecialchars($evento['titulo']) . '">';
                echo '  </div>';
                echo '  <div class="descripcion-actividad">';
                echo '    <h3>' . htmlspecialchars($evento['titulo']) . '</h3>';
                
                if (!empty($evento['actividad'])) {
                    echo '    <p><strong>Tipo:</strong> ' . htmlspecialchars($evento['actividad']) . '</p>';                }
                
                if (!empty($evento['descripcion_actividad'])) {
                    echo '    <p>' . htmlspecialchars($evento['descripcion_actividad']) . '</p>';
                } else {
                    echo '    <p>Actividad organizada por el grupo.</p>';
                }
                
                echo '    <p><strong>ğŸ“… Fecha:</strong> ' . $fecha_formateada . '</p>';
                
                if (!empty($evento['lugar'])) {
                    echo '    <p><strong>ğŸ“ Lugar:</strong> ' . htmlspecialchars($evento['lugar']) . '</p>';                }
                
                if (!empty($evento['grupo_nombre'])) {
                    echo '    <p><strong>ğŸ‘¥ Grupo:</strong> ' . htmlspecialchars($evento['grupo_nombre']) . '</p>';                }
                
                echo '  </div>';
                echo '</div>';
            }
        } else {
            echo '<div class="sin-actividades">';
            echo '  <p>No tienes actividades prÃ³ximas.</p>';
            echo '  <p><a href="actividades.php">Explora actividades disponibles</a></p>';            // Cambiar mas tarde
            echo '</div>';
        }
        ?>
     </div>   
<?php $conn->close(); ?>    
</body>
</html>
``` 
 
## admin.php:
```
<!doctype html>
<html lang="es">
	<head>
  	<style>
    	html,body{width:100%;height:100%;padding:0px;margin:0px;background:Aliceblue;}
    	body{display:flex;}
    	nav{background:BurlyWood;color:black;padding:20px;gap:20px;display:flex;flex:1;flex-direction:column;height:max-content;}
    	nav a{background:#FFFFFF;color:black;text-decoration:none;padding:10px;}
    	a#boton-read,a#boton-logout{padding:14px;margin:8px;} 
    	
    	main{padding:20px;flex:4;}
     table td{padding:10px;}
     table{border:2px solid #39D0BD;width:100%;}   
     th{background:BurlyWood;color:black;padding:10px;}
     
     #crear{	position:absolute;  bottom:20px;  right:20px;  background:burlywood;  color:black; 
	      height:40px; border-radius:40px;
       text-align:center;  font-size:30px;  line-height:40px;  text-decoration:none;  font-weight:bold;}
     .eliminar,.editar{	height:20px;  background:BlanchedAlmond;  border-radius:30px;  color:black;
       line-height:20px;  text-decoration:none; text-align:center;  display:block;  }  
     #botones{border-radius:30px;display:flex;align-items:center;background:BlanchedAlmond;}
    </style>
  </head>
  <body>
    <?php
    //Verificador de Usuarios ///////////////////
    session_start();
    if (!isset($_SESSION['usuario']) || $_SESSION['usuario'] !== 'si') {
    header("Location: ../004-login.php");
    exit();
    }

    // Verificar 2: Â¿Es admin?
    if (!isset($_SESSION['tipo_usuario']) || $_SESSION['tipo_usuario'] !== 'admin') {
        // No es admin - mostrar error
        echo '<h1>Acceso Denegado</h1>';
        echo '<p>Solo los administradores pueden acceder a esta pÃ¡gina.</p>';
        echo '<a href="../004-login.php">Volver al inicio</a>';
        exit();
    }
    ?>
    
    <?php
        $host = "localhost";$user = "usuario-weplan";$pass = "Usuarioweplan123$";$db   = "WePlanDB";$conexion = new mysqli($host, $user, $pass, $db);
    ?>

    <nav>
     <div id="botones">
      <h2>admin.php </h2>
      <a href="./admin/read/leer.php" id="boton-read">Lectura</a>                                 <!-- accion leer (READ) -->
      <a href="../006-logout.php" id="boton-logout">Logout </a>
     </div>
    <?php
      // Listado de las tablas de la base de datos- WePlanDB
        $resultado = $conexion->query("SHOW TABLES;");
        while ($fila = $resultado->fetch_assoc()) {
          echo '<a href="?tabla='.$fila['Tables_in_'.$db].'">'.$fila['Tables_in_'.$db].'</a>';
        }
    ?>
    </nav>
    <main>
   
      <?php
      // Verificar si se ha seleccionado una tabla para luego mostrar sus cabeceras
      if (isset($_GET['tabla']) && !empty($_GET['tabla'])) {
         $tabla = $conexion->real_escape_string($_GET['tabla']);

         $resultado = $conexion->query("SELECT * FROM ".$_GET['tabla']." LIMIT 1;");    /// Solo quiero un ELEMENTO !!!//////
         if ($resultado && $resultado->num_rows > 0) {
           echo "<table>";                         // Inicio de tabla
           echo "<tr>";
           $fila = $resultado->fetch_assoc();
           foreach($fila as $clave=>$valor){
             echo "<th>".$clave."</th>";
           }
           echo "<th>Editar</th><th>Eliminar</th>";
           echo "</tr>";
          }
       // Y LUEGO EL RESTO DE DATOS ////////////
         $resultado = $conexion->query("
           SELECT * FROM ".$_GET['tabla'].";
         ");
         while ($fila = $resultado->fetch_assoc()) {
           echo "<tr>";

           foreach($fila as $clave=>$valor){
             echo "<td>".htmlspecialchars($valor)."</td>";
           }
           
           $id = reset($fila);
           echo "<td><a href='?tabla=".urlencode($tabla)."&accion=editar&id=".urlencode($id)."' class='editar' title='Cuidado que vas a editar un dato'>ğŸ–‹</a></td>";
           echo "<td><a href='?tabla=".urlencode($tabla)."&accion=eliminar&id=".urlencode($id)."' class='eliminar' title='Cuidado EXTREMO que vas a ELIMINAR un dato'>âœ–</a></td>";            
           echo "</tr>";
          }
          echo "</table>";                          // Fin de tabla
      } 
      ?>
      
     	<?php
      	                                            // Redirecionador de enlaces
      	if(isset($_GET['accion'])){
      	  $tabla_actual = isset($_GET['tabla']) ? $_GET['tabla']: '';
      	  
        	if($_GET['accion'] == "crear"){           // formulario crear (CREATE)
        	 if(!empty($tabla_actual)){
          	 include "./admin/create/formulario.php";
          	} else {
          	 echo "<p>Error, se debe seleccionar una tabla para CREAR </p>";
          	}
          	
          }else if($_GET['accion'] == "eliminar"){ // acciÃ³n eliminar (DELETE)
           if(!empty($tabla_actual) && isset($_GET['id'])){
           	include "./admin/delete/eliminar.php";	
           } else {
          	 echo "<p>Error, se debe seleccionar una tabla para ELIMINAR </p>";           
           }
           
          } else if($_GET['accion'] == "editar"){   // acciÃ³n actualizar (UPDATE)
           if(!empty($tabla_actual) && isset($_GET['id'])){
           	include "./admin/update/actualizar.php";	
           } else {
          	 echo "<p>Error, se debe seleccionar una tabla para ACTUALIZAR </p>";           
           }
          }                                         // Fin del condicional
          
        }                                           // Fin de conseguir acciones
        ?>
        
    <?php
     //  Muestra el boton si se ha "presionado" una tabla
     if(isset($_GET['tabla']) && !empty($_GET['tabla'])) {
        echo '<a href="?tabla='.urlencode($_GET['tabla']).'&accion=crear" id="crear">Crear</a>';
     }
    ?>
    </main>
  </body>
</html>
``` 

# 2.- LÃ³gica de WePlan:
 Usuario inicia sesion o create una cuenta despuÃ©s con los controladores de actividades, grupos, login,etc permite al usuario ver un modelo que contiene su vista respectiva: para usuarios, tiene grupos+actividades+eventos; para host, tiene grupos+actividades+eventos+crear; para el admin tiene grupos+actividades+eventos+crear+leer+actualizar+eliminar.



# 3.- Flujo de la informaciÃ³n:
Usuario --> login.php-> procesa_login.php-> (dependiendo del nivel del usuario)-> usuario.php/host.php/admin.php -> logout.php (vuelve otra vez a login.php)


Tenemos un login.php que muestra un formulario que consigue los datos mediante el metodo POST y luego en procesa_login.php, consiguemos los datos que vienen del formulario comparandolos contra la base de de datos al hacer una **consulta** tambien hemos aÃ±adido al principio condiciones de log-in ya sea que la contraseÃ±a o usuario sea mas largo o mas corto de lo permitido. Al usar los datos del formulario, hemos permitido que dependiendo del usuario, sea redirigido a usuario.php, host.php o admin.php segÃºn su nivel de acceso.

TambiÃ©n tenemos un log-out.php para que los usuarios salgan de la aplicacion en caso de que quieran ver diferentes grupos a los recomendados o quieren crear una nueva cuenta para crear grupos, etc. Usa el session_start(); acumulado de las paginas de los usuarios, guarda esa informacion, "destruye" la sesion y redirige al login

## 006-logout.php:
```
<?php
session_start();

// Guardar informaciÃ³n del usuario para mostrar mensaje
$nombre = isset($_SESSION['nombre']) ? $_SESSION['nombre'] : '';

// Destruir sesiÃ³n
session_unset();
session_destroy();

// Redirigir al login con mensaje
header("Location: 004-login.php?mensaje='Has salido con exito'");
exit();
?>
```

```
## Viejo
### Guia CRUD
**escritorio.php**
```php
<!--http://..../basesdedatosdamdaw2526/008-Proyectos/003-Panel%20de%20control/101-Ejercicios/aplicacion/admin/escritorio.php -->

<!doctype html>
<html lang="es">
	<head>
  	<title>El jocarsa - Panel de control</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/estilos.css">
  </head>
  <body>
  	<nav>
    	<button>Noticias</button>
      <button>Autores</button>
    </nav>
    <main>
    	<?php
      	// Esto se conoce como router /////////////
      	if(isset($_GET['accion'])){
        	if($_GET['accion'] == "nuevo"){
          	include "inc/create/formulario.php";
          }else if($_GET['accion'] == "eliminar"){ // Defino la acciÃ³n eliminar
          	include "inc/delete/eliminar.php";		// En ese caso incluyo eliminar.php
          }else if($_GET['accion'] == "editar"){
           include "inc/update/formularioactualizar.php";
          }
        }else{
       		include "inc/read/leer.php"; 
        }
      ?>
      <a href="?accion=nuevo" id="nuevo">+</a>    	
    </main>
  </body>
</html>

```
#### 001-Create
**001-crear.php**
```php
<!doctype html>
<html lang="es">
  <head>
    <title>Bryan Glot Fong</title>
    <meta charset="utf-8">
  </head>
  <body>
    <!--
     Es importante que el formulario tenga los mismos campos
     quel al base de datos
     Es decir: se debe mantener la base de datos
    -->
    
    <form action="002-procesa.php" method="POST">
      <input type="text" name="nombre" placeholder="nombre">
		   	<input type="text" name="puesto" placeholder="puesto">
      <input type="text" name="salario" placeholder="salario">
      <input type="text" name="fecha_contratacion" placeholder="fecha_contratacion">
      <input type="text" name="departamento" placeholder="departamento">
      <input type="submit">
    </form>
  </body>
</html>

```
**002-procesa.php**
```php
<?php
  // Primero cogemos la informaciÃ³n que viene del formulario
  $nombre = $_POST['nombre'];
  $puesto = $_POST['puesto'];
  $salario = $_POST['salario'];
  $fecha_contratacion = $_POST['fecha_contratacion'];
  $departamento = $_POST['departamento'];
  
  // Y luego metemos esa informaciÃ³n en la base de datos

  $host = "localhost";
  $user = "empleados";
  $pass = "Empleados123$";
  $db   = "empleados";

  $conexion = new mysqli($host, $user, $pass, $db);
  
  
  // Insertamos los datos a la base de datos "empleados"
  $sql = "
  	INSERT INTO empleados VALUES(
  	 NULL,
  	 '".$nombre."',
  	 '".$puesto."',
  	 '".$salario."',
  	 '".$fecha_contratacion."',
  	 '".$departamento."'
  	);
  ";
	
  $conexion->query($sql);  
  $conexion->close();
?>

```
**003-resumen.md**
```markdown
El resumen de lo que hemos hecho:

Para insertar datos en una base de datos se requiere:

1.-Un formulario con los campos adecuados [ademÃ¡s de que ambos campos coincidan, MUY importante] (la vista)
2.-Un programa que recoja esos datos y los meta en la BD (el controlador)

```
#### 002-Read
**001-leer.php**
```php
<?php
	session_start(); // Arranco una sesion
  $host = "localhost";
  $user = "empleados";
  $pass = "Empleados123$";
  $db   = "empleados";

  $conexion = new mysqli($host, $user, $pass, $db);
  
	// Comprobacion exitosa pero mirando los datos que vienen del formulario en POST
  $sql = "
  	SELECT * FROM empleados;
  ";
	
  $resultado = $conexion->query($sql);
  while ($fila = $resultado->fetch_assoc()) {
  	var_dump($fila);			// Vomito en pantalla y ya luego formateare
  }
	
  	
  $conexion->close();
  
?>

```
**002-resumen.md**
```markdown
Resumen:

Leer es muy sencillo.
Solo requiere un script, le pides algo a la base de datos
Y te lo devuelve

Y luego solo hace falta formatearlo

```
#### 003-Delete
**001-Miniformulario.html**
```html
<!doctype html>
<html lang="es">
  <head>
    <title>Bryan Glot Fong</title>
    <meta charset="utf-8">
  </head>
  <body>
    <form action="002-procesa_eliminar.php" method="POST">
     <p>Introduce el ID del elemento que quieres eliminar:</p>
     <input type="number" name="id" placeholder="id">
     <input type="submit">
    </form>
  </body>
</html>

```
**002-procesa_eliminar.php**
```php
<?php
  // Primero cogemos la id que viene del microformulario
  $id = $_POST['id'];
  
  // Y luego accedemos a esa informaciÃ³n en la base de datos

  $host = "localhost";
  $user = "empleados";
  $pass = "Empleados123$";
  $db   = "empleados";

  $conexion = new mysqli($host, $user, $pass, $db);
  
  
  // Borramos los datos de un Identificador de la base de datos "empleados"
  $sql = "
  	DELETE FROM empleados
  	WHERE id = ".$id."
  ";
	
  $conexion->query($sql);  
  $conexion->close();
?>

```
**003-resumen.md**
```markdown
Para eliminar se necesita:

1.-Una parte frontal que envÃ­e el id a eliminar
(o el criterio de eliminaciÃ³n, suele ser el id)
2.-Un archivo que tome ese dato y ejecute la eliminacion

```
#### 004-Update
**001-Miniformulario.html**
```html
<!doctype html>
<html lang="es">
  <head>
    <title>Bryan Glot Fong</title>
    <meta charset="utf-8">
  </head>
  <body>
    <form action="002-procesa_modificar.php" method="POST">
      <p>Introduce el ID del elemento que quieres modificar</p>
      <input type="number" name="id" placeholder="id">
      <input type="submit">
    </form>
  </body>
</html>

```
**002-procesa_modificar.php**
```php
<?php
	// Este archivo va a:
  
  // 1.-Coger el ID
  $id = $_POST['id'];
  
  // 2.-Irse a la base de datos a por ese id
  $host = "localhost";
  $user = "empleados";
  $pass = "Empleados123$";
  $db   = "empleados";

  $conexion = new mysqli($host, $user, $pass, $db);
  
	// Comprobacion exitosa pero mirando los datos que vienen del formulario en POST
  $sql = "
  	SELECT * FROM empleados WHERE id = ".$id.";
  ";
	
  $resultado = $conexion->query($sql);
  while ($fila = $resultado->fetch_assoc()) {
  	// 3.-Pintar un formulario en pantalla
    echo '
    	<form action="003-procesar_actualizacion.php" method="POST">
      	<input type="hidden" name="id" value="'.$id.'">
        <input type="text" name="nombre" placeholder="nombre" value="'.$fila['nombre'].'">
        <input type="text" name="puesto" placeholder="puesto" value="'.$fila['puesto'].'">
        <input type="text" name="salario" placeholder="salario" value="'.$fila['salario'].'">
        <input type="text" name="fecha_contratacion" placeholder="fecha_contratacion" value="'.$fila['fecha_contratacion'].'">
        <input type="text" name="departamento" placeholder="departamento" value="'.$fila['departamento'].'">
        <input type="submit">
      </form>
    ';
    // 4.-Enviar la informaciÃ³n modificada a un tercer archivo
  }
	
  $conexion->close();
  
  
?>

```
**003-procesar_actualizacion.php**
```php
<?php
	// Primero cogemos la info que viene del formulario
  
  $nombre = $_POST['nombre'];
  $puesto = $_POST['puesto'];
  $salario = $_POST['salario'];
  $fecha_contratacion = $_POST['fecha_contratacion'];
  $departamento = $_POST['departamento'];
  
  $id = $_POST['id'];

	 // Y luego metemos esa informaciÃ³n en la base de datos
  $host = "localhost";
  $user = "empleados";
  $pass = "Empleados123$";
  $db   = "empleados";

  $conexion = new mysqli($host, $user, $pass, $db);

	// Metemos los datos en la base de datos
  $sql = "
  	 UPDATE empleados SET
     	nombre = '".$nombre."',
      puesto = '".$puesto."',
      salario = '".$salario."',
      fecha_contratacion = '".$fecha_contratacion."',
      departamento = '".$departamento."' 
      WHERE id = ".$id."
    ;
  ";
  $conexion->query($sql);
	
  $conexion->close();
  
?>

```
**004-Resumen.md**
```markdown
En una actualizacion:

1.-Miniformulario recoge el id
2.-Se lanza el id contra la base de datos
Y se pinta CASI el mismo formulario que al insertar
(truco: reutilizÃ¡is el formulario de insertar)
3.-Se lanza la actualizacion (truco: me copio el modelo de insertar)

```
#### create
**formulario.php**
```php
<form action="inc/create/procesaformulario.php" method="POST">
	<div class="controlformulario">
   <label for="titulo">TÃ­tulo de la nueva noticia</label>
   <input type="text" name="titulo" id="titulo">
 </div>
  
 <div class="controlformulario">
 	<label for="contenido">Contenido de la nueva noticia</label>
		<textarea id="contenido" name="contenido"></textarea>
 </div>
  
 <div class="controlformulario">
 	<label for="fecha_publicacion">Fecha de la nueva noticia(YYYY-MM-DD HH:MM:SS)</label>
	 <input type="text" name="fecha_publicacion" id="fecha_publicacion">
 </div>
  
 <div class="controlformulario">
 	<label for="autor_id">Autor de la nueva noticia</label>
		<input type="text" name="autor_id" id="autor_id">
 </div>
 
 <input type="submit">
</form>

```
**procesaformulario.php**
```php
<?php

  $titulo = $_POST['titulo'];											           	// Atrapo el titulo que viene del formulario
  $contenido = $_POST['contenido'];									        // Atrapo el contenido que viene del formulario
  $fecha_publicacion = $_POST['fecha_publicacion'];	// Atrapo la fecha de publiacion que viene del formulario
  $autor_id = $_POST['autor_id'];										         // Atrapo el id de autor

  $host = "localhost";															               // Me conecto a la base de datos
  $user = "periodico";
  $pass = "Periodico123$";
  $db   = "periodico";

  $conexion = new mysqli($host, $user, $pass, $db);	   // Ejecuto la conexion

  $sql = "
  	INSERT INTO noticias VALUES(
    	NULL,
      '".$titulo."',
      '".$contenido."',
      '".$fecha_publicacion."',
     	".$autor_id."
    );
  ";																					                           			// Lanzo la peticion de insert
  $conexion->query($sql);
	
  $conexion->close();																                  // Cierro la conexion
  header("Location: ../../escritorio.php");												// Y me vuelvo al escritorio
  
?>

```
#### delete
**eliminar.php**
```php
<?php

  $id = $_GET['id'];																// Atrapo el id a eliminar

  $host = "localhost";															// Me conecto a la base de datos
  $user = "periodico";
  $pass = "Periodico123$";
  $db   = "periodico";

  $conexion = new mysqli($host, $user, $pass, $db);	// Ejecuto la conexion

  $sql = "DELETE FROM noticias WHERE id = ".$id.";";	// Preparo la peticion																		
  $conexion->query($sql);														// Ejecuto la peticion
	
  $conexion->close();																// Cierro la conexion
  header("Location: escritorio.php");					// Y me vuelvo al escritorio
  
?>

```
#### read
**leer.php**
```php
<table>
 <?php
   $host = "localhost";
   $user = "periodico";
   $pass = "Periodico123$";
   $db   = "periodico";

   $conexion = new mysqli($host, $user, $pass, $db);
   
   $sql = "SELECT * FROM noticias;";
	 
   $resultado = $conexion->query($sql);
   while ($fila = $resultado->fetch_assoc()) {
    echo "<tr>";
    	echo "<td>".$fila['titulo']."</td>";
     echo "<td>".$fila['fecha_publicacion']."</td>";
     echo "<td>".$fila['autor_id']."</td>";
     echo "<td>".$fila['contenido']."</td>";
     // NUEVO ///////////////
     echo "<td><a href='?accion=editar&id=".$fila['id']."' class='editar' title='Cuidado que vas a editar un dato'>ğŸ–‹</a></td>";
     echo "<td><a href='?accion=eliminar&id=".$fila['id']."' class='eliminar' title='MÃS Cuidado que vas a ELIMINAR un dato'>âœ–</a></td>";
   	// NUEVO ///////////////     
    echo "</tr>";
   }
	 
   $conexion->close();
 ?>
</table>

```
#### update
**formularioactualizar.php**
```php
<?php

// Primero traemos el formulario de insertar
// Y luego lo rellenamos de datos (los datos a actualizar)

		$host = "localhost";
    $user = "periodico";
    $pass = "Periodico123$";
    $db   = "periodico";

    $conexion = new mysqli($host, $user, $pass, $db);

    $sql = "SELECT * FROM noticias WHERE id = ".$_GET['id'].";";

    $resultado = $conexion->query($sql);
    while ($fila = $resultado->fetch_assoc()) {
?>

    <form action="inc/update/procesaformulario.php" method="POST">
    	<!-- CORREGID ESTA LINEA -->
    	<input type="hidden" name="id" value="<?= $fila['id'] ?>"> <!-- OJO A ESTE CAMPO OCULTO -->
      <!-- CORREGID ESTA LINEA -->
      <div class="controlformulario">
        <label for="titulo">TÃ­tulo de la nueva noticia</label>
        <input type="text" name="titulo" id="titulo" value="<?= $fila['titulo'] ?>">
      </div>

      <div class="controlformulario">
        <label for="contenido">Contenido de la nueva noticia</label>
        <textarea id="contenido" name="contenido"><?= $fila['contenido'] ?></textarea>
      </div>

      <div class="controlformulario">
        <label for="fecha_publicacion">Fecha de la nueva noticia</label>
        <input type="text" name="fecha_publicacion" id="fecha_publicacion" value="<?= $fila['fecha_publicacion'] ?>">
      </div>

      <div class="controlformulario">
        <label for="autor_id">Autor de la nueva noticia</label>
        <input type="text" name="autor_id" id="autor_id" value="<?= $fila['autor_id'] ?>">
      </div>

      <input type="submit">

    </form>

<?php

	} 

?>

```
**procesaformulario.php**
```php
<?php
	// Esto ha empezado siendo un copia pega de eliminar
  // Y luego lo modifica
  
  // Primero recojo lo que viene del formulario
  
	$titulo = $_POST['titulo'];	
  $contenido = $_POST['contenido'];	
  $fecha_publicacion = $_POST['fecha_publicacion'];	
  $autor_id = $_POST['autor_id'];	
  $id = $_POST['id'];																// Atrapo el id a eliminar
	
  // Ahora me conecto a la base de datos
  
  $host = "localhost";															// Me conecto a la base de datos
  $user = "periodico";
  $pass = "Periodico123$";
  $db   = "periodico";

  $conexion = new mysqli($host, $user, $pass, $db);	// Ejecuto la conexion

	// Le lanzo una peticion de actualizaciÃ³n

  $sql = "
    UPDATE noticias
    SET 
    titulo = '".$titulo."',
    contenido = '".$contenido."',
    fecha_publicacion = '".$fecha_publicacion."',
    autor_id = ".$autor_id."
    WHERE id = ".$id.";
  ";	// Preparo la peticion																							// Lanzo la peticion de insert
  echo $sql;
  $conexion->query($sql);														// Ejecuto la peticion
	
  // Y cierro y vuelvo
  
  $conexion->close();																// Cierro la conexion
  header("Location: ../../escritorio.php");					// Y me vuelvo al escritorio
  
?>

```
## [Proyecto] WePlan
## back-end
**back-end_20260109192801.md**
```markdown
# Reporte de proyecto

## Estructura del proyecto

```
/var/www/html/1DAM/@CEAC/[Proyecto] WePlan/back-end
â”œâ”€â”€ 000-Bases de Datos
â”‚   â”œâ”€â”€ 001-tablas.sql
â”‚   â”œâ”€â”€ 002-Creacion de bases de datos.sql
â”‚   â”œâ”€â”€ 002-diagrama de la base de datos.json
â”‚   â”œâ”€â”€ 002-diagrama de la bases de datos.png
â”‚   â”œâ”€â”€ 003-plantilla de conexion.py
â”‚   â””â”€â”€ subcategorias_actividades.sql
â”œâ”€â”€ 002-PHP
â”‚   â”œâ”€â”€ 001-guia.md
â”‚   â”œâ”€â”€ 002-primera prueba de conexion.php
â”‚   â”œâ”€â”€ 003-procesa_login.php
â”‚   â”œâ”€â”€ 004-login.php
â”‚   â”œâ”€â”€ 005-exito.php
â”‚   â”œâ”€â”€ 006-logout.php
â”‚   â””â”€â”€ tipo_de_usuario
â”‚       â”œâ”€â”€ 001-admin BRYAN.php
â”‚       â”œâ”€â”€ 002-admin AYMAN[Super-mejorado].php
â”‚       â”œâ”€â”€ admin
â”‚       â”‚   â”œâ”€â”€ create
â”‚       â”‚   â”‚   â”œâ”€â”€ formulario.php
â”‚       â”‚   â”‚   â””â”€â”€ procesaformulario.php
â”‚       â”‚   â”œâ”€â”€ delete
â”‚       â”‚   â”‚   â”œâ”€â”€ eliminar.php
â”‚       â”‚   â”‚   â””â”€â”€ formulario_eliminar.php
â”‚       â”‚   â”œâ”€â”€ read
â”‚       â”‚   â”‚   â””â”€â”€ leer.php
â”‚       â”‚   â””â”€â”€ update
â”‚       â”‚       â”œâ”€â”€ actualizar.php
â”‚       â”‚       â””â”€â”€ formulario_actualizar.php
â”‚       â”œâ”€â”€ admin.php
â”‚       â”œâ”€â”€ host.php
â”‚       â””â”€â”€ usuario.php
â””â”€â”€ lightgoldenrodyellow.py
```

## CÃ³digo (intercalado)

# back-end
**lightgoldenrodyellow.py**
```python
#!/usr/bin/env python3
import os
import sys
import argparse
from datetime import datetime

# =========================
# ConfiguraciÃ³n mÃ­nima
# =========================
EXTENSIONES_PERMITIDAS = (
    ".html", ".css", ".js", ".php", ".py", ".java", ".sql",
    ".c", ".cpp", ".cu", ".h", ".json", ".xml", ".md"
)
CARPETAS_EXCLUIDAS = {
    ".git", "node_modules", "vendor", "venv", "__pycache__",
    "modelo_entrenado", ".venv"
}

LANG_MAP = {
    ".html": "html", ".css": "css", ".js": "js", ".php": "php",
    ".py": "python", ".java": "java", ".sql": "sql", ".c": "c",
    ".cpp": "cpp", ".cu": "cuda", ".h": "c", ".json": "json",
    ".xml": "xml", ".md": "markdown",
}

# =========================
# Utilidades
# =========================
def construir_mapa_directorios(ruta_raiz: str) -> str:
    """Devuelve un Ã¡rbol de directorios estilo 'tree', excluyendo carpetas no deseadas."""
    lineas = []
    raiz_abs = os.path.abspath(ruta_raiz)
    lineas.append(raiz_abs)

    def interno(dir_path: str, prefijo: str = ""):
        try:
            entradas = sorted(os.listdir(dir_path))
        except Exception:
            return
        # Filtra carpetas excluidas
        entradas_visibles = []
        for e in entradas:
            full = os.path.join(dir_path, e)
            if os.path.isdir(full) and e in CARPETAS_EXCLUIDAS:
                continue
            entradas_visibles.append(e)

        for i, entrada in enumerate(entradas_visibles):
            ruta_completa = os.path.join(dir_path, entrada)
            conector = "â””â”€â”€ " if i == len(entradas_visibles) - 1 else "â”œâ”€â”€ "
            lineas.append(prefijo + conector + entrada)
            if os.path.isdir(ruta_completa):
                extension = "    " if i == len(entradas_visibles) - 1 else "â”‚   "
                interno(ruta_completa, prefijo + extension)

    interno(ruta_raiz)
    return "\n".join(lineas)


def generar_reporte_intercalado(ruta_raiz: str, nivel: int = 1) -> str:
    """
    Recorre la carpeta y, para cada archivo con extensiÃ³n permitida,
    inserta su contenido en un bloque de cÃ³digo Markdown.
    """
    encabezado = "#" * nivel
    nombre_carpeta = os.path.basename(ruta_raiz) or ruta_raiz
    lineas = [f"{encabezado} {nombre_carpeta}"]

    try:
        entradas = sorted(os.listdir(ruta_raiz))
    except Exception as e:
        lineas.append(f"Error listando la carpeta: {e}")
        return "\n".join(lineas)

    # Archivos de este nivel
    for entrada in entradas:
        ruta_completa = os.path.join(ruta_raiz, entrada)
        if os.path.isfile(ruta_completa) and entrada.lower().endswith(EXTENSIONES_PERMITIDAS):
            ext = os.path.splitext(entrada)[1].lower()
            lang = LANG_MAP.get(ext, "")
            lineas.append(f"**{entrada}**")
            try:
                with open(ruta_completa, "r", encoding="utf-8", errors="ignore") as f:
                    contenido = f.read()
            except Exception as e:
                contenido = f"Error al leer el archivo: {e}"
            lineas.append(f"```{lang}")
            lineas.append(contenido)
            lineas.append("```")

    # Subcarpetas (excluyendo las no deseadas)
    for entrada in entradas:
        ruta_completa = os.path.join(ruta_raiz, entrada)
        if os.path.isdir(ruta_completa) and entrada not in CARPETAS_EXCLUIDAS:
            lineas.append(generar_reporte_intercalado(ruta_completa, nivel + 1))

    return "\n".join(lineas)


def generar_reporte(ruta_origen: str) -> str:
    """
    Genera el contenido completo del reporte en Markdown:
    - Ãrbol de directorios
    - CÃ³digo intercalado
    """
    arbol = construir_mapa_directorios(ruta_origen)
    intercalado = generar_reporte_intercalado(ruta_origen)

    partes = []
    partes.append("# Reporte de proyecto\n")
    partes.append("## Estructura del proyecto\n")
    partes.append("```\n" + arbol + "\n```\n")
    partes.append("## CÃ³digo (intercalado)\n")
    partes.append(intercalado)
    return "\n".join(partes)


# =========================
# CLI
# =========================
def main():
    parser = argparse.ArgumentParser(
        description="Genera un reporte Markdown de una carpeta de cÃ³digo (Ã¡rbol + contenidos)."
    )
    parser.add_argument("source_root", help="Carpeta origen a inspeccionar")
    parser.add_argument("dest_folder", help="Carpeta destino donde guardar el reporte")
    args = parser.parse_args()

    source_root = os.path.abspath(args.source_root)
    dest_folder = os.path.abspath(args.dest_folder)

    if not os.path.isdir(source_root):
        print(f"[ERROR] La carpeta origen no existe o no es un directorio: {source_root}", file=sys.stderr)
        sys.exit(1)

    os.makedirs(dest_folder, exist_ok=True)

    base_name = os.path.basename(source_root.rstrip(os.sep)) or "reporte"
    timestamp = datetime.now().strftime("%Y%m%d%H%M%S")
    out_name = f"{base_name}_{timestamp}.md"
    out_path = os.path.join(dest_folder, out_name)

    try:
        contenido = generar_reporte(source_root)
        with open(out_path, "w", encoding="utf-8") as f:
            f.write(contenido)
    except KeyboardInterrupt:
        print("\n[INTERRUPT] Proceso cancelado por el usuario.", file=sys.stderr)
        sys.exit(130)
    except Exception as e:
        print(f"[ERROR] No se pudo generar o guardar el reporte: {e}", file=sys.stderr)
        sys.exit(2)

    print(f"[OK] Reporte generado: {out_path}")


if __name__ == "__main__":
    main()


```
## 000-Bases de Datos
**001-tablas.sql**
```sql
WePlanDB:Usuario (Usuario que puede Leer las tablas; Puede Crear Actividades) ->
 ConfiguraciÃ³n -> 
 {
  [nombre, apellidos, telÃ©fono, direcciÃ³n, correo electrÃ³nico, paÃ­s]
 },
 
 Grupos ->{
  [nombre,descripciÃ³n,miembros]
 },
 
 Actividades ->
 {
  Deporte[FÃºtbol,PÃ¡del,Baloncesto,etc],
  RelajaciÃ³n[CafÃ©,Charla,Cena,etc],
  MÃºsica[Conciertos,Karaoke,etc],
  EducaciÃ³n[Idiomas,Artes,Danza,etc]
 },
 
 Aficiones[]
 
WePlanDB:Administrador de grupos (usuario que puede Leer y ACTUALIZAR las tablas; Puede Crear Actividades) -> 
 Grupos ->{
  [nombre,descripciÃ³n,miembros]
 }
 
WePlan:Administrador (usuario que puede Crear,Leer,ACTUALIZAR y ELIMINAR las tablas) [nosotros]


TABLAS CREADAS:
 Importantes:
  -usuarios
  -grupos
  -categorias_actividades
  -subcategorias_actividades
  -aficiones
  -eventos
  -evento_participantes
 Relaciones:
  -usuario_grupo
  -usuario_aficion
  -grupo_subcategorias

INDICES CREADOS:
 Indice para busqueda frecuentes:
  idx_usuarios_email
  idx_usuarios_nombre
  idx_grupos_nombre
  idx_eventos_fecha
  idx_eventos_grupo
 
 Indices para relaciones: 
  idx_usuarios_grupo_usuario
  idx_usuarios_grupo_grupo

VISTAS CREADAS:
 vista_grupo_con_miembros
 vista_eventos_proximos
 vista_usuario_aficiones

```
**002-Creacion de bases de datos.sql**
```sql
--sudo mysql -u root -p 
CREATE DATABASE WePlanDB;
USE WePlanDB;

CREATE TABLE usuarios (
    usuario_id INT PRIMARY KEY AUTO_INCREMENT,
    nombre VARCHAR(50) NOT NULL,
    apellidos VARCHAR(150) NOT NULL,
    telefono VARCHAR(20),
    direccion VARCHAR(255),
    correo_electronico VARCHAR(150) UNIQUE NOT NULL,
    pais VARCHAR(50),
    contrasenya VARCHAR(255) NOT NULL,
    fecha_registro TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    tipo_de_usuario VARCHAR(50)
);

-- Registros de ejemplo
INSERT INTO usuarios (nombre, apellidos, telefono, direccion, correo_electronico, pais, contrasenya) VALUES
('MarÃ­a', 'GarcÃ­a LÃ³pez', '+34 600 111 222', 'Calle Mayor 10, Madrid', 'maria.garcia@email.com', 'EspaÃ±a', '12345678'),
('Carlos', 'RodrÃ­guez PÃ©rez', '+34 611 222 333', 'Av. Diagonal 25, Barcelona', 'carlos.rodriguez@email.com', 'EspaÃ±a', '12345678'),
('Ana', 'MartÃ­nez SÃ¡nchez', '+34 622 333 444', 'Calle Gran VÃ­a 45, Valencia', 'ana.martinez@email.com', 'EspaÃ±a', '12345678'),
('David', 'FernÃ¡ndez Ruiz', '+34 633 444 555', 'Plaza EspaÃ±a 3, Sevilla', 'david.fernandez@email.com', 'EspaÃ±a', '12345678'),
('Laura', 'GÃ³mez DÃ­az', '+34 644 555 666', 'Calle Sierpes 15, Sevilla', 'laura.gomez@email.com', 'EspaÃ±a', '12345678'),
('Javier', 'HernÃ¡ndez Castro', '+34 655 666 777', 'Calle Preciados 8, Madrid', 'javier.hernandez@email.com', 'EspaÃ±a', '12345678');

--Actualizacion de Usuarios para que puedan ver una cosa o otra segun lo indicado por tipo_de_usuario/003-procesalogin.php
UPDATE usuarios 
SET TIPO_DE_USUARIO = 'admin'
WHERE nombre IN ('MarÃ­a', 'Carlos');

UPDATE usuarios 
SET TIPO_DE_USUARIO = 'host'
WHERE nombre IN ('Ana', 'David');

UPDATE usuarios 
SET TIPO_DE_USUARIO = 'usuario'
WHERE nombre IN ('Laura', 'Javier');

CREATE TABLE grupos (
    grupo_id INT PRIMARY KEY AUTO_INCREMENT,
    nombre VARCHAR(100) NOT NULL,
    descripcion TEXT,
    creador_id INT,
    fecha_creacion TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    max_miembros INT DEFAULT 50,
    FOREIGN KEY (creador_id) REFERENCES usuarios(usuario_id)
);

-- Registros de ejemplo
INSERT INTO grupos (nombre, descripcion, creador_id) VALUES
('FÃºtbol Los Domingos', 'Grupo para jugar al fÃºtbol los domingos por la maÃ±ana', 1),
('Club de CafÃ© Literario', 'Reuniones para tomar cafÃ© y comentar libros', 2),
('PÃ¡del Amigos', 'Grupo para jugar al pÃ¡del entre semana', 3),
('Conciertos Madrid', 'Salidas a conciertos en Madrid', 4),
('Intercambio de Idiomas', 'PrÃ¡ctica de inglÃ©s y espaÃ±ol', 5),
('Running Matutino', 'Grupo de running a las 7 AM', 6);

CREATE TABLE categorias_actividades (
    categoria_id INT PRIMARY KEY AUTO_INCREMENT,
    nombre VARCHAR(50) NOT NULL,
    descripcion TEXT
);

-- InserciÃ³n de categorÃ­as principales
INSERT INTO categorias_actividades (nombre, descripcion) VALUES
('Deporte', 'Actividades deportivas y ejercicio fÃ­sico'),
('RelajaciÃ³n', 'Actividades sociales y de ocio relajado'),
('MÃºsica', 'Eventos y actividades musicales'),
('EducaciÃ³n', 'Actividades de aprendizaje y desarrollo');

CREATE TABLE subcategorias_actividades (
    subcategoria_id INT PRIMARY KEY AUTO_INCREMENT,
    categoria_id INT NOT NULL,
    nombre VARCHAR(50) NOT NULL,
    descripcion TEXT,
    FOREIGN KEY (categoria_id) REFERENCES categorias_actividades(categoria_id)
);

-- InserciÃ³n de subcategorÃ­as
INSERT INTO subcategorias_actividades (categoria_id, nombre) VALUES
-- Deporte
(1, 'FÃºtbol'), (1, 'PÃ¡del'), (1, 'Baloncesto'), (1, 'Tenis'),
(1, 'NataciÃ³n'), (1, 'Running'), (1, 'Ciclismo'), (1, 'Yoga'),
-- RelajaciÃ³n
(2, 'CafÃ©'), (2, 'Charla'), (2, 'Cena'), (2, 'Paseo'),
(2, 'Cine'), (2, 'Juegos de mesa'), (2, 'Picnic'),
-- MÃºsica
(3, 'Conciertos'), (3, 'Karaoke'), (3, 'Club de mÃºsica'),
(3, 'Taller de instrumentos'), (3, 'Festivales'),
-- EducaciÃ³n
(4, 'Idiomas'), (4, 'Artes'), (4, 'Danza'), (4, 'Cocina'),
(4, 'FotografÃ­a'), (4, 'Literatura'), (4, 'Teatro');

CREATE TABLE aficiones (
    aficion_id INT PRIMARY KEY AUTO_INCREMENT,
    nombre VARCHAR(100) NOT NULL,
    categoria VARCHAR(50)
);

-- InserciÃ³n de aficiones comunes
INSERT INTO aficiones (nombre, categoria) VALUES
('Lectura', 'Cultural'), ('Viajes', 'Ocio'), ('Cine', 'Entretenimiento'),
('Cocina', 'GastronomÃ­a'), ('FotografÃ­a', 'ArtÃ­stica'),
('Senderismo', 'Deporte'), ('JardinerÃ­a', 'Ocio'),
('Videojuegos', 'Entretenimiento'), ('Pintura', 'ArtÃ­stica'),
('MÃºsica', 'Cultural'), ('Baile', 'ArtÃ­stica'), ('Deportes', 'Actividad');

CREATE TABLE usuario_grupo (
    usuario_id INT NOT NULL,
    grupo_id INT NOT NULL,
    PRIMARY KEY (usuario_id, grupo_id),
    FOREIGN KEY (usuario_id) REFERENCES usuarios(usuario_id),
    FOREIGN KEY (grupo_id) REFERENCES grupos(grupo_id)
);

-- Registros de ejemplo para comprobar
INSERT INTO usuario_grupo (usuario_id, grupo_id) VALUES
(1, 1), (1, 3),  -- MarÃ­a en FÃºtbol y PÃ¡del
(2, 2), (2, 4),  -- Carlos en CafÃ© y Conciertos
(3, 3), (3, 5),  -- Ana en PÃ¡del e Idiomas
(4, 1), (4, 4),  -- David en FÃºtbol y Conciertos
(5, 2), (5, 5),  -- Laura en CafÃ© e Idiomas
(6, 6);          -- Javier solo en Running

CREATE TABLE usuario_aficion (
    usuario_id INT NOT NULL,
    aficion_id INT NOT NULL,
    PRIMARY KEY (usuario_id, aficion_id),
    FOREIGN KEY (usuario_id) REFERENCES usuarios(usuario_id),
    FOREIGN KEY (aficion_id) REFERENCES aficiones(aficion_id)
);

INSERT INTO usuario_aficion (usuario_id, aficion_id) VALUES
(1, 1), (1, 4),  -- MarÃ­a: Lectura y Cocina
(2, 2), (2, 5),  -- Carlos: Viajes y FotografÃ­a
(3, 3), (3, 6),  -- Ana: Cine y Senderismo
(4, 10), (4, 12), -- David: MÃºsica y Deportes
(5, 1), (5, 8),  -- Laura: Lectura y Pintura
(6, 7);          -- Javier: JardinerÃ­a

CREATE TABLE grupo_subcategoria (
    grupo_id INT NOT NULL,
    subcategoria_id INT NOT NULL,
    PRIMARY KEY (grupo_id, subcategoria_id),
    FOREIGN KEY (grupo_id) REFERENCES grupos(grupo_id),
    FOREIGN KEY (subcategoria_id) REFERENCES subcategorias_actividades(subcategoria_id)
);

INSERT INTO grupo_subcategoria (grupo_id, subcategoria_id) VALUES
(1, 1),   -- FÃºtbol Los Domingos -> FÃºtbol (subcategoria_id 1)
(2, 9),   -- Club de CafÃ© -> CafÃ© (subcategoria_id 9)
(2, 10),  -- Club de CafÃ© -> Charla (subcategoria_id 10)
(3, 2),   -- PÃ¡del Amigos -> PÃ¡del (subcategoria_id 2)
(4, 16),  -- Conciertos Madrid -> Conciertos (subcategoria_id 16)
(5, 21),  -- Intercambio de Idiomas -> Idiomas (subcategoria_id 21)
(6, 6);   -- Running Matutino -> Running (subcategoria_id 6)

CREATE TABLE eventos (
    evento_id INT PRIMARY KEY AUTO_INCREMENT,
    grupo_id INT NOT NULL,
    subcategoria_id INT,
    titulo VARCHAR(100) NOT NULL,
    fecha_hora DATETIME NOT NULL,
    lugar VARCHAR(200),
    FOREIGN KEY (grupo_id) REFERENCES grupos(grupo_id),
    FOREIGN KEY (subcategoria_id) REFERENCES subcategorias_actividades(subcategoria_id)
);

INSERT INTO eventos (grupo_id, subcategoria_id, titulo, fecha_hora, lugar) VALUES
(1, 1, 'Partido Domingo', '2024-03-10 10:00:00', 'Campo Deportivo La Elipa'),
(2, 9, 'CafÃ© Literario: Kafka', '2024-03-12 18:00:00', 'CafÃ© GijÃ³n'),
(3, 2, 'Torneo PÃ¡del', '2024-03-15 19:00:00', 'Club PÃ¡del Madrid'),
(4, 16, 'Concierto Rock', '2024-03-20 21:00:00', 'Sala Caracol'),
(5, 21, 'Intercambio InglÃ©s-EspaÃ±ol', '2024-03-11 20:00:00', 'Biblioteca Municipal'),
(6, 6, 'Running Parque Retiro', '2024-03-13 07:00:00', 'Parque del Retiro');

CREATE TABLE evento_participantes (
    evento_id INT NOT NULL,
    usuario_id INT NOT NULL,
    PRIMARY KEY (evento_id, usuario_id),
    FOREIGN KEY (evento_id) REFERENCES eventos(evento_id),
    FOREIGN KEY (usuario_id) REFERENCES usuarios(usuario_id)
);

INSERT INTO evento_participantes (evento_id, usuario_id) VALUES
(1, 1), (1, 4),   -- Partido: MarÃ­a y David
(2, 2), (2, 5),   -- CafÃ©: Carlos y Laura
(3, 1), (3, 3),   -- PÃ¡del: MarÃ­a y Ana
(4, 2), (4, 4),   -- Concierto: Carlos y David
(5, 3), (5, 5),   -- Idiomas: Ana y Laura
(6, 6);           -- Running: Javier

---------------------
--USUARIO!!-----------
---------------------

-- Creacion de usuario que podrÃ¡ acceder a la base de datos
CREATE USER 'usuario-weplan'@'localhost' IDENTIFIED BY 'Usuarioweplan123$';

GRANT USAGE ON *.* TO 'usuario-weplan'@'localhost';

ALTER USER 'usuario-weplan'@'localhost'
REQUIRE NONE
WITH MAX_QUERIES_PER_HOUR 0
MAX_CONNECTIONS_PER_HOUR 0
MAX_UPDATES_PER_HOUR 0
MAX_USER_CONNECTIONS 0;

GRANT ALL PRIVILEGES ON WePlanDB.* TO 'usuario-weplan'@'localhost';

FLUSH PRIVILEGES;

---------------------
--INDICES!!-----------
---------------------

-- Indices para bÃºsquedas frecuentes
CREATE INDEX idx_usuarios_email ON usuarios(correo_electronico);
CREATE INDEX idx_usuarios_nombre ON usuarios(nombre, apellidos);
CREATE INDEX idx_grupos_nombre ON grupos(nombre);
CREATE INDEX idx_eventos_fecha ON eventos(fecha_hora);
CREATE INDEX idx_eventos_grupo ON eventos(grupo_id);

-- Ãndices para relaciones
CREATE INDEX idx_usuario_grupo_usuario ON usuario_grupo(usuario_id);
CREATE INDEX idx_usuario_grupo_grupo ON usuario_grupo(grupo_id);


---------------------
--VISTAS!!-----------
---------------------

-- Vista para ver grupos con nÃºmero de miembros
CREATE VIEW vista_grupos_con_miembros AS
SELECT 
    g.grupo_id,
    g.nombre AS grupo,
    COUNT(ug.usuario_id) AS miembros,
    u.nombre AS creador,
    g.descripcion
FROM grupos g
LEFT JOIN usuario_grupo ug ON g.grupo_id = ug.grupo_id
JOIN usuarios u ON g.creador_id = u.usuario_id
GROUP BY g.grupo_id;

-- Vista para eventos prÃ³ximos
CREATE VIEW vista_eventos_proximos AS
SELECT 
    e.evento_id,
    e.titulo, 
    e.fecha_hora, 
    e.lugar,
    g.nombre AS grupo,
    s.nombre AS actividad
FROM eventos e
JOIN grupos g ON e.grupo_id = g.grupo_id
LEFT JOIN subcategorias_actividades s ON e.subcategoria_id = s.subcategoria_id
WHERE e.fecha_hora > NOW()
ORDER BY e.fecha_hora;

-- Vista para aficiones de usuarios
CREATE VIEW vista_usuario_aficiones AS
SELECT 
    u.usuario_id,
    u.nombre, 
    u.apellidos,
    GROUP_CONCAT(a.nombre SEPARATOR ', ') AS aficiones
FROM usuarios u
LEFT JOIN usuario_aficion ua ON u.usuario_id = ua.usuario_id
LEFT JOIN aficiones a ON ua.aficion_id = a.aficion_id
GROUP BY u.usuario_id;

```
**002-diagrama de la base de datos.json**
```json
{
  "formas": [
    {
      "id": "forma-2",
      "tipo": "rectangle",
      "left": "236.531px",
      "top": "175.688px",
      "width": "",
      "height": "",
      "texto": "Controles[PHP+PY]"
    },
    {
      "id": "forma-3",
      "tipo": "rectangle",
      "left": "455.587px",
      "top": "249.893px",
      "width": "",
      "height": "",
      "texto": "BBDD[MySQL]"
    },
    {
      "id": "forma-5",
      "tipo": "rectangle",
      "left": "657.79px",
      "top": "251.125px",
      "width": "",
      "height": "",
      "texto": "Vistas"
    },
    {
      "id": "forma-6",
      "tipo": "text",
      "left": "792.484px",
      "top": "259.002px",
      "width": "",
      "height": "",
      "texto": "vista_grupo_con_miembrosvista_eventos_proximosvista_usuario_aficiones"
    },
    {
      "id": "forma-7",
      "tipo": "rectangle",
      "left": "659.25px",
      "top": "207.547px",
      "width": "",
      "height": "",
      "texto": "Indices"
    },
    {
      "id": "forma-15",
      "tipo": "entity",
      "left": "1px",
      "top": "-4px",
      "width": "",
      "height": "",
      "entityName": "UI[HTML+CSS]",
      "properties": [
        {
          "id": "prop-1",
          "name": "Home"
        },
        {
          "id": "prop-2",
          "name": "Actividades"
        },
        {
          "id": "prop-3",
          "name": "Configuraciones"
        },
        {
          "id": "prop-4",
          "name": "Notificaciones"
        },
        {
          "id": "prop-5",
          "name": "Perfil"
        },
        {
          "id": "prop-69",
          "name": "atributo"
        }
      ]
    },
    {
      "id": "forma-22",
      "tipo": "entity",
      "left": "343.234px",
      "top": "382.5px",
      "width": "",
      "height": "",
      "entityName": "usuarios",
      "properties": [
        {
          "id": "prop-11",
          "name": "usuario_id"
        },
        {
          "id": "prop-20",
          "name": "nombre"
        },
        {
          "id": "prop-21",
          "name": "apellidos"
        },
        {
          "id": "prop-22",
          "name": "telefono"
        },
        {
          "id": "prop-23",
          "name": "direccion"
        },
        {
          "id": "prop-24",
          "name": "correo_electronico"
        },
        {
          "id": "prop-25",
          "name": "pais"
        },
        {
          "id": "prop-26",
          "name": "fecha_registro"
        }
      ]
    },
    {
      "id": "forma-23",
      "tipo": "entity",
      "left": "286.297px",
      "top": "837.031px",
      "width": "",
      "height": "",
      "entityName": "grupo_subcategorias",
      "properties": [
        {
          "id": "prop-12",
          "name": "grupo_id"
        },
        {
          "id": "prop-52",
          "name": "subcategoria_id"
        },
        {
          "id": "prop-53",
          "name": "atributo"
        },
        {
          "id": "prop-54",
          "name": "atributo"
        }
      ]
    },
    {
      "id": "forma-24",
      "tipo": "entity",
      "left": "523.922px",
      "top": "481.875px",
      "width": "",
      "height": "",
      "entityName": "evento_participantes",
      "properties": [
        {
          "id": "prop-13",
          "name": "evento_id"
        },
        {
          "id": "prop-62",
          "name": "usuario_id"
        },
        {
          "id": "prop-63",
          "name": "atributo"
        },
        {
          "id": "prop-64",
          "name": "atributo"
        }
      ]
    },
    {
      "id": "forma-25",
      "tipo": "entity",
      "left": "522.641px",
      "top": "630.031px",
      "width": "",
      "height": "",
      "entityName": "eventos",
      "properties": [
        {
          "id": "prop-14",
          "name": "evento_id"
        },
        {
          "id": "prop-55",
          "name": "grupo_id"
        },
        {
          "id": "prop-56",
          "name": "subcategoria_id"
        },
        {
          "id": "prop-57",
          "name": "titulo"
        },
        {
          "id": "prop-58",
          "name": "fecha_hora"
        },
        {
          "id": "prop-59",
          "name": "lugar"
        },
        {
          "id": "prop-60",
          "name": "FK grupo_id references grupos(id)"
        },
        {
          "id": "prop-61",
          "name": "atributo"
        }
      ]
    },
    {
      "id": "forma-27",
      "tipo": "entity",
      "left": "776.527px",
      "top": "353.81px",
      "width": "",
      "height": "",
      "entityName": "aficiones",
      "properties": [
        {
          "id": "prop-16",
          "name": "aficion_id"
        },
        {
          "id": "prop-39",
          "name": "nombre (NOT NULL)"
        },
        {
          "id": "prop-40",
          "name": "categoria"
        }
      ]
    },
    {
      "id": "forma-28",
      "tipo": "entity",
      "left": "523.641px",
      "top": "330.094px",
      "width": "",
      "height": "",
      "entityName": "usuario_aficion",
      "properties": [
        {
          "id": "prop-17",
          "name": "usuario_id"
        },
        {
          "id": "prop-41",
          "name": "aficion_id"
        },
        {
          "id": "prop-50",
          "name": "atributo"
        },
        {
          "id": "prop-51",
          "name": "atributo"
        }
      ]
    },
    {
      "id": "forma-29",
      "tipo": "entity",
      "left": "671.094px",
      "top": "876.828px",
      "width": "",
      "height": "",
      "entityName": "categorias_actividades",
      "properties": [
        {
          "id": "prop-18",
          "name": "categoria_id"
        },
        {
          "id": "prop-33",
          "name": "nombre (NOT NULL)"
        },
        {
          "id": "prop-34",
          "name": "descripcion"
        }
      ]
    },
    {
      "id": "forma-30",
      "tipo": "entity",
      "left": "337px",
      "top": "621.25px",
      "width": "",
      "height": "",
      "entityName": "grupos",
      "properties": [
        {
          "id": "prop-19",
          "name": "grupo_id"
        },
        {
          "id": "prop-27",
          "name": "nombre"
        },
        {
          "id": "prop-28",
          "name": "descripcion"
        },
        {
          "id": "prop-29",
          "name": "creador_id"
        },
        {
          "id": "prop-30",
          "name": "fecha_creacion"
        },
        {
          "id": "prop-31",
          "name": "max_miembros (50)"
        },
        {
          "id": "prop-32",
          "name": "atributo"
        }
      ]
    },
    {
      "id": "forma-32",
      "tipo": "entity",
      "left": "165.437px",
      "top": "521.016px",
      "width": "",
      "height": "",
      "entityName": "usuario_grupo",
      "properties": [
        {
          "id": "prop-46",
          "name": "usuario_id"
        },
        {
          "id": "prop-47",
          "name": "grupo_id"
        },
        {
          "id": "prop-48",
          "name": "atributo"
        },
        {
          "id": "prop-49",
          "name": "atributo"
        }
      ]
    },
    {
      "id": "forma-33",
      "tipo": "entity",
      "left": "468.781px",
      "top": "876.281px",
      "width": "",
      "height": "",
      "entityName": "subcategorias_actividades",
      "properties": [
        {
          "id": "prop-65",
          "name": "subcategoria_id"
        },
        {
          "id": "prop-66",
          "name": "categoria_id"
        },
        {
          "id": "prop-67",
          "name": "nombre"
        },
        {
          "id": "prop-68",
          "name": "descripcion"
        }
      ]
    },
    {
      "id": "forma-36",
      "tipo": "text",
      "left": "277.953px",
      "top": "151.906px",
      "width": "",
      "height": "",
      "texto": "Conexion"
    },
    {
      "id": "forma-37",
      "tipo": "rectangle",
      "left": "10.4375px",
      "top": "340.641px",
      "width": "",
      "height": "",
      "texto": "admin.php"
    },
    {
      "id": "forma-38",
      "tipo": "rectangle",
      "left": "26.6875px",
      "top": "236.906px",
      "width": "",
      "height": "",
      "texto": "usuario.php"
    },
    {
      "id": "forma-39",
      "tipo": "rectangle",
      "left": "347.172px",
      "top": "298.641px",
      "width": "",
      "height": "",
      "texto": "host.php"
    },
    {
      "id": "forma-40",
      "tipo": "rectangle",
      "left": "170.438px",
      "top": "308.141px",
      "width": "",
      "height": "",
      "texto": "Crear"
    },
    {
      "id": "forma-41",
      "tipo": "rectangle",
      "left": "155.438px",
      "top": "253.141px",
      "width": "",
      "height": "",
      "texto": "Leer"
    },
    {
      "id": "forma-43",
      "tipo": "rectangle",
      "left": "162.938px",
      "top": "418.141px",
      "width": "",
      "height": "",
      "texto": "Eliminar"
    },
    {
      "id": "forma-44",
      "tipo": "rectangle",
      "left": "170.438px",
      "top": "356.891px",
      "width": "",
      "height": "",
      "texto": "Actualizar"
    }
  ],
  "flechas": [
    {
      "desde": {
        "shapeId": "forma-2",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-3",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-3",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-7",
        "propId": null,
        "side": null
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-3",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-5",
        "propId": null,
        "side": null
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-2",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-15",
        "propId": null,
        "side": null
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-22",
        "propId": "prop-11",
        "side": "right"
      },
      "hasta": {
        "shapeId": "forma-30",
        "propId": "prop-29",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-22",
        "propId": "prop-11",
        "side": "right"
      },
      "hasta": {
        "shapeId": "forma-24",
        "propId": "prop-62",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-25",
        "propId": "prop-14",
        "side": "right"
      },
      "hasta": {
        "shapeId": "forma-24",
        "propId": "prop-13",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-22",
        "propId": "prop-11",
        "side": "right"
      },
      "hasta": {
        "shapeId": "forma-28",
        "propId": "prop-17",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-27",
        "propId": "prop-16",
        "side": "left"
      },
      "hasta": {
        "shapeId": "forma-28",
        "propId": "prop-41",
        "side": "right"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-22",
        "propId": "prop-11",
        "side": "left"
      },
      "hasta": {
        "shapeId": "forma-32",
        "propId": "prop-46",
        "side": "right"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-30",
        "propId": "prop-19",
        "side": "left"
      },
      "hasta": {
        "shapeId": "forma-32",
        "propId": "prop-47",
        "side": "right"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-29",
        "propId": "prop-18",
        "side": "left"
      },
      "hasta": {
        "shapeId": "forma-33",
        "propId": "prop-66",
        "side": "right"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-30",
        "propId": "prop-19",
        "side": "left"
      },
      "hasta": {
        "shapeId": "forma-23",
        "propId": "prop-12",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-33",
        "propId": "prop-65",
        "side": "left"
      },
      "hasta": {
        "shapeId": "forma-23",
        "propId": "prop-52",
        "side": "right"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-30",
        "propId": "prop-19",
        "side": "right"
      },
      "hasta": {
        "shapeId": "forma-25",
        "propId": "prop-55",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-38",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-15",
        "propId": null,
        "side": null
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-41",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-38",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-41",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-39",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-40",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-39",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-43",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-37",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-44",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-37",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-37",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-40",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-37",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-41",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    }
  ]
}
```
**003-plantilla de conexion.py**
```python
import mysql.connector

conexion = mysql.connector.connect(
    host="localhost",
    user="usuario-weplan",
    password="Usuarioweplan123$",
    database="WePlanDB"
)  

cursor = conexion.cursor()
cursor.execute("SELECT*FROM usuarios;")

filas = cursor.fetchall()

print(filas) 

```
**subcategorias_actividades.sql**
```sql
-- SUBCATEGORÃAS DE ACTIVIDADES
-- Deporte (categorÃ­a_id = 1)
(1, 'FÃºtbol'),
(2, 'PÃ¡del'),
(3, 'Baloncesto'),
(4, 'Tenis'),
(5, 'NataciÃ³n'),
(6, 'Running'),
(7, 'Ciclismo'),
(8, 'Yoga'),

-- RelajaciÃ³n (categorÃ­a_id = 2)
(9, 'CafÃ©'),
(10, 'Charla'),
(11, 'Cena'),
(12, 'Paseo'),
(13, 'Cine'),
(14, 'Juegos de mesa'),
(15, 'Picnic'),

-- MÃºsica (categorÃ­a_id = 3)
(16, 'Conciertos'),
(17, 'Karaoke'),
(18, 'Club de mÃºsica'),
(19, 'Taller de instrumentos'),
(20, 'Festivales'),

-- EducaciÃ³n (categorÃ­a_id = 4)
(21, 'Idiomas'),
(22, 'Artes'),
(23, 'Danza'),
(24, 'Cocina'),
(25, 'FotografÃ­a'),
(26, 'Literatura'),
(27, 'Teatro');

```
## 002-PHP
**001-guia.md**
```markdown
Hay una jeraquÃ­a de usuarios:
 -Usuario (Puede leer y usar vistas)
 -Host    (Puede leer-crear y usar vistas. Para eliminar cosas, debe contact al administrador)
 -Admin   (Puede leer-crear-eliminar-actualizar la base de datos y usar vistas)
 
Todos los usuarios pasan por un login.html (hoy 24-12-2025, esa pagina es 004-login.html) que le rediriges a sus sitios correspondientes:
 -Usuario (redirigido a home.php)
 -Host (redirigo a home.php donde tendrÃ¡ la posibilidad de ver una opciÃ³n extra en el navegador a aÃ±adir en el futuro)
 -Admin (redirigido a admin.php donde le aparece un navegador lateral que contiene las cabeceras de las tablas, un boton de LECTURA y un boton de LOG-OUT
 -       tambien tiene a mano derecha el contenido delas tablas que aparecera SI le da click a unas de las cabeceras)
         



```
**002-primera prueba de conexion.php**
```php
<?php
 $host = "localhost";
 $user = "usuario-weplan";
 $pass = "Usuarioweplan123$";
 $db   = "WePlanDB";

 $conexion = new mysqli($host, $user, $pass, $db);
 $sql = "SELECT * FROM usuarios";
 $resultado = $conexion->query($sql);

 while ($fila = $resultado->fetch_assoc()) {
   echo '
     <article>
      <!-- Orden de las filas: nombre,apellidos,telefono,direccion,correo_electronico,pais,contrasenya,fecha_registro -->
      <h2>'.$fila['correo_electronico'].'</h2>
      <h2>'.$fila['contrasenya'].'</h2>
      <br>
      <h3>'.$fila['nombre'].'</h3>
      <p>'.$fila['apellidos'].'</p>
      <p>'.$fila['telefono'].'</p>
      <p>'.$fila['direccion'].'</p>
      <p>'.$fila['correo_electronico'].'</p>
      <p>'.$fila['pais'].'</p>
      <time>'.$fila['fecha_registro'].'</time>
     </article>
   ';
 }
 
 $conexion->close();
?>

```
**003-procesa_login.php**
```php
<?php
  session_start();
  $correo = trim($_POST['correo_electronico'] ?? '');
  $pass = $_POST['contrasenya'] ?? '';
  switch(true) {
      case (strlen($correo) < 5):
          $_SESSION['error'] = "El correo debe tener al menos 5 caracteres";      
          header("Location: ./004-login.php?error=correo_corto");
          exit(); 
          
      case (strlen($correo) > 25):
          $_SESSION['error'] = "El correo debe tener menos que 25 caracteres";       
          header("Location: ./004-login.php?error=correo_largo");
          exit();
          
      case (strlen($pass) < 8):
          $_SESSION['error'] = "La contraseÃ±a debe tener al menos 8 caracteres";       
          header("Location: ./004-login.php?error=pass_corto");
          exit();
          
      case (strlen($pass) > 16):
          $_SESSION['error'] = "La contraseÃ±a debe tener menor que 16 caracteres";       
          header("Location: ./004-login.php?error=pass_largo");
          exit();
  }
  
  $host = "localhost";
  $user = "usuario-weplan";
  $pass = "Usuarioweplan123$";
  $db   = "WePlanDB";
  $conexion = new mysqli($host, $user, $pass, $db);
  
	// Comprobacion exitosa pero mirando los datos que vienen del formulario en POST
  $sql = "
  	SELECT * FROM usuarios WHERE
    correo_electronico = '".$_POST['correo_electronico']."'
    AND contrasenya = '".$_POST['contrasenya']."';
  ";
	
  $resultado = $conexion->query($sql);

  if ($fila = $resultado->fetch_assoc()) {	// Si es cierto que hay un resultado
    $tipo = strtolower(trim($fila['tipo_de_usuario']));
    $_SESSION['usuario'] = 'si'; 
    $_SESSION['tipo_usuario'] = $tipo;
    $_SESSION['correo_usuario'] = $_POST['correo_electronico'];
    
    switch($tipo){      // Dependiendo del tipo de usuario es redigirido a un sitio diferente
      case 'admin':
          header("Location: ./tipo_de_usuario/admin.php");
          break;
      case 'host':
          header("Location: ./tipo_de_usuario/host.php");
          break;
      case 'usuario':
          header("Location: ./tipo_de_usuario/usuario.php");
          break; 
      default:
          header("Location: 005-exito.php");
          break;                             
    }
    exit();
  }else{																		// Si no hay ningun resultado
  	header("Location: ./004-login.php");					// En ese caso volvemos al login
  	exit();
  }

  $conexion->close();
  
?>

```
**004-login.php**
```php
<?php session_start(); ?>
<!doctype html>
<html lang="es">
  <head>
    <title>WePlan - Login</title>
    <meta charset="utf-8">
    <style>
     body,html{padding:0px;margin:0px;width:100%;height:100%;}
     body{display:flex;justify-content:center;align-items:center;text-align:center;background:BlanchedAlmond;}
     form{display:flex;flex-direction:column;width:200px;height:200px;background:#FFFFFD;padding:20px;align-items:center;gap:10px;justify-content:center;}
     input{width:100%;padding:15px;box-sizing:border-box;border:1 px solid lightgrey;}
     div{ font-size:13px;color:black;}
      #fake-footer{font-weight:bold;font-size:20px;}
      .error-message{font-weight:bold;font-size:18px;}
    </style>
  </head>
  <body>
    <main>  
      <div id="fake-header">
        <h1>PÃ¡gina de Login v0.1 ğŸ”</h1>
      </div>
      <form action="003-procesa_login.php" method="POST">
        <input type="text" name="correo_electronico" placeholder="Correo electrÃ³nico">
        <input type="password" name="contrasenya" placeholder="ContraseÃ±a">
        <input type="submit">
      </form>
      <?php
      // Mostrar error de sesiÃ³n si existe
      if (isset($_SESSION['error'])) {
          echo '<div class="error-message">';
          echo htmlspecialchars($_SESSION['error']);
          echo '</div>';
          unset($_SESSION['error']); // Limpiar despuÃ©s de mostrar
      }
      ?>        
      <div id="form-content">
        <p>ğŸ“‹ Requisitos:</p>
        <p>â€¢ Usuario: 5-20 caracteres</p>
        <p>â€¢ ContraseÃ±a: 8-16 caracteres</p>        
      </div>
      <div id="fake-footer">
       (c) Ayman x Bryan 2025      
      </div>
    </main>
  </body>
</html>

<?php
        // Mostrar estado de validaciÃ³n del correo previo
        if (!empty($correo_previo)) {
            $color_correo = validarCorreoEnTiempoReal($correo_previo);
            $clase_correo = ($color_correo === 'green') ? 'valido' : 'invalido';
            
            echo '<p class="' . $clase_correo . '">';
            echo 'Correo: ' . strlen(trim($correo_previo)) . '/20 caracteres';
            
            if (!filter_var($correo_previo, FILTER_VALIDATE_EMAIL)) {
                echo ' (Formato invÃ¡lido)';
            }
            echo '</p>';
        }
?>

```
**005-exito.php**
```php
<?php 
 session_start();
  if(!isset($_SESSION['usuario'])){
     die("Te has colado, pero no te has colado exitosamente");
  }
?>

<html lang="es">
<body>
 <main>
  <p>Un dÃ­a con mÃ¡s PHP (tristemente), y maÃ±ana no PHP</p>
 </main>
</body>
</html>


```
**006-logout.php**
```php
<?php
session_start();

// Guardar informaciÃ³n del usuario para mostrar mensaje
$nombre = isset($_SESSION['nombre']) ? $_SESSION['nombre'] : '';

// Destruir sesiÃ³n
session_unset();
session_destroy();

// Redirigir al login con mensaje
header("Location: 004-login.php?mensaje='Has salido con exito'");
exit();
?>

```
### tipo_de_usuario
**001-admin BRYAN.php**
```php
<!doctype html>
<html lang="es">
	<head>
  	<style>
    	html,body{width:100%;height:100%;padding:0px;margin:0px;}
    	body{display:flex;}
    	nav{background:#FF511C;padding:20px;gap:20px;display:flex;flex:1;flex-direction:column;height:max-content;}
    	nav a{background:#FFFFFF;color:#39D0BD;text-decoration:none;padding:10px;}
    	main{padding:20px;flex:4;}
     table td{padding:10px;}
     table{border:2px solid #39D0BD;width:100%;}   
     th{background:#FF511C;color:white;padding:10px;}
     
     #crear{	position:absolute;  bottom:20px;  right:20px;  background:#39D0BD;  color:#FF511C; 
	      height:40px; border-radius:40px;
       text-align:center;  font-size:30px;  line-height:40px;  text-decoration:none;  font-weight:bold;}
     .eliminar,.editar{	height:20px;  background:#39D0BD;  border-radius:30px;  color:#FF511C;
       line-height:20px;  text-decoration:none; text-align:center;  display:block;  }  
     #botones{color:#FFEAD4;border-radius:30px;display:flex;align-items:center;background:#40e0d0;}
    </style>
  </head>
  <body>
    <?php
        $host = "localhost";$user = "usuario-weplan";$pass = "Usuarioweplan123$";$db   = "WePlanDB";$conexion = new mysqli($host, $user, $pass, $db);
    ?>

    <nav>
     <div id="botones">
      <h2>admin.php </h2>
      <a href="./admin/read/leer.php" id="read-btn">Lectura</a>                                 <!-- accion leer (READ) -->
      <a href="../006-logout.php" class="logout-btn" id="boton-logout">Cerrar SesiÃ³n</a>
     </div>
    <?php
      // Listado de las tablas de la base de datos- WePlanDB
        $resultado = $conexion->query("SHOW TABLES;");
        while ($fila = $resultado->fetch_assoc()) {
          echo '<a href="?tabla='.$fila['Tables_in_'.$db].'">'.$fila['Tables_in_'.$db].'</a>';
        }
    ?>
    </nav>
    <main>
   
      <?php
      // Verificar si se ha seleccionado una tabla para luego mostrar sus cabeceras
      if (isset($_GET['tabla']) && !empty($_GET['tabla'])) {
         $tabla = $conexion->real_escape_string($_GET['tabla']);

         $resultado = $conexion->query("SELECT * FROM ".$_GET['tabla']." LIMIT 1;");    /// Solo quiero un ELEMENTO !!!//////
         if ($resultado && $resultado->num_rows > 0) {
           echo "<table>";                         // Inicio de tabl
           echo "<tr>";
           $fila = $resultado->fetch_assoc();
           foreach($fila as $clave=>$valor){
             echo "<th>".$clave."</th>";
           }
           echo "<th>Editar</th><th>Eliminar</th>";
           echo "</tr>";
          }
       // Y LUEGO EL RESTO DE DATOS ////////////
         $resultado = $conexion->query("
           SELECT * FROM ".$_GET['tabla'].";
         ");
         while ($fila = $resultado->fetch_assoc()) {
           echo "<tr>";

           foreach($fila as $clave=>$valor){
             echo "<td>".htmlspecialchars($valor)."</td>";
           }
           
           $id = reset($fila);
           echo "<td><a href='?tabla=".urlencode($tabla)."&accion=editar&id=".urlencode($id)."' class='editar' title='Cuidado que vas a editar un dato'>ğŸ–‹</a></td>";
           echo "<td><a href='?tabla=".urlencode($tabla)."&accion=eliminar&id=".urlencode($id)."' class='eliminar' title='Cuidado EXTREMO que vas a ELIMINAR un dato'>âœ–</a></td>";            
           echo "</tr>";
          }
          echo "</table>";                          // Fin de tabla
      } 
      ?>
      
     	<?php
      	                                            // Redirecionador de enlaces
      	if(isset($_GET['accion'])){
      	  $tabla_actual = isset($_GET['tabla']) ? $_GET['tabla']: '';
      	  
        	if($_GET['accion'] == "crear"){           // formulario crear (CREATE)
        	 if(!empty($tabla_actual)){
          	 include "./admin/create/formulario.php";
          	} else {
          	 echo "<p>Error, se debe seleccionar una tabla para CREAR </p>";
          	}
          	
          }else if($_GET['accion'] == "eliminar"){ // acciÃ³n eliminar (DELETE)
           if(!empty($tabla_actual) && isset($_GET['id'])){
           	include "./admin/delete/eliminar.php";	
           } else {
          	 echo "<p>Error, se debe seleccionar una tabla para ELIMINAR </p>";           
           }
           
          } else if($_GET['accion'] == "editar"){   // acciÃ³n actualizar (UPDATE)
           if(!empty($tabla_actual) && isset($_GET['id'])){
           	include "./admin/update/actualizar.php";	
           } else {
          	 echo "<p>Error, se debe seleccionar una tabla para ACTUALIZAR </p>";           
           }
          }                                         // Fin del condicional
          
        }                                           // Fin de conseguir acciones
        ?>
        
    <?php
     //  Muestra el boton si se ha "presionado" una tabla
     if(isset($_GET['tabla']) && !empty($_GET['tabla'])) {
        echo '<a href="?tabla='.urlencode($_GET['tabla']).'&accion=crear" id="crear">Crear</a>';
     }
    ?>
    </main>
  </body>
</html>

```
**002-admin AYMAN[Super-mejorado].php**
```php
<!doctype html>
<html lang="es">
	<head>
  	<style>
    	html,body{width:100%;height:100%;padding:0px;margin:0px;background:Aliceblue;}
    	body{display:flex;}
    	nav{background:BurlyWood;color:black;padding:20px;gap:20px;display:flex;flex:1;flex-direction:column;height:max-content;}
    	nav a{background:#FFFFFF;color:black;text-decoration:none;padding:10px;}
    	main{padding:20px;flex:4;}
     table td{padding:10px;}
     table{border:2px solid #39D0BD;width:100%;}   
     th{background:BurlyWood;color:black;padding:10px;}
     
     #crear{	position:absolute;  bottom:20px;  right:20px;  background:burlywood;  color:black; 
	      height:40px; border-radius:40px;
       text-align:center;  font-size:30px;  line-height:40px;  text-decoration:none;  font-weight:bold;}
     .eliminar,.editar{	height:20px;  background:BlanchedAlmond;  border-radius:30px;  color:black;
       line-height:20px;  text-decoration:none; text-align:center;  display:block;  }  
     #botones{color:;border-radius:30px;display:flex;align-items:center;background:BlanchedAlmond;}
    </style>
  </head>
  <body>
    <?php
        $host = "localhost";$user = "usuario-weplan";$pass = "Usuarioweplan123$";$db   = "WePlanDB";$conexion = new mysqli($host, $user, $pass, $db);
    ?>

    <nav>
     <div id="botones">
      <h2>admin.php </h2>
      <a href="./admin/read/leer.php" id="read-btn">Lectura</a>                                 <!-- accion leer (READ) -->
      <a href="../006-logout.php" class="logout-btn" id="boton-logout">Cerrar SesiÃ³n</a>
     </div>
    <?php
      // Listado de las tablas de la base de datos- WePlanDB
        $resultado = $conexion->query("SHOW TABLES;");
        while ($fila = $resultado->fetch_assoc()) {
          echo '<a href="?tabla='.$fila['Tables_in_'.$db].'">'.$fila['Tables_in_'.$db].'</a>';
        }
    ?>
    </nav>
    <main>
   
      <?php
      // Verificar si se ha seleccionado una tabla para luego mostrar sus cabeceras
      if (isset($_GET['tabla']) && !empty($_GET['tabla'])) {
         $tabla = $conexion->real_escape_string($_GET['tabla']);

         $resultado = $conexion->query("SELECT * FROM ".$_GET['tabla']." LIMIT 1;");    /// Solo quiero un ELEMENTO !!!//////
         if ($resultado && $resultado->num_rows > 0) {
           echo "<table>";                         // Inicio de tabl
           echo "<tr>";
           $fila = $resultado->fetch_assoc();
           foreach($fila as $clave=>$valor){
             echo "<th>".$clave."</th>";
           }
           echo "<th>Editar</th><th>Eliminar</th>";
           echo "</tr>";
          }
       // Y LUEGO EL RESTO DE DATOS ////////////
         $resultado = $conexion->query("
           SELECT * FROM ".$_GET['tabla'].";
         ");
         while ($fila = $resultado->fetch_assoc()) {
           echo "<tr>";

           foreach($fila as $clave=>$valor){
             echo "<td>".htmlspecialchars($valor)."</td>";
           }
           
           $id = reset($fila);
           echo "<td><a href='?tabla=".urlencode($tabla)."&accion=editar&id=".urlencode($id)."' class='editar' title='Cuidado que vas a editar un dato'>ğŸ–‹</a></td>";
           echo "<td><a href='?tabla=".urlencode($tabla)."&accion=eliminar&id=".urlencode($id)."' class='eliminar' title='Cuidado EXTREMO que vas a ELIMINAR un dato'>âœ–</a></td>";            
           echo "</tr>";
          }
          echo "</table>";                          // Fin de tabla
      } 
      ?>
      
     	<?php
      	                                            // Redirecionador de enlaces
      	if(isset($_GET['accion'])){
      	  $tabla_actual = isset($_GET['tabla']) ? $_GET['tabla']: '';
      	  
        	if($_GET['accion'] == "crear"){           // formulario crear (CREATE)
        	 if(!empty($tabla_actual)){
          	 include "./admin/create/formulario.php";
          	} else {
          	 echo "<p>Error, se debe seleccionar una tabla para CREAR </p>";
          	}
          	
          }else if($_GET['accion'] == "eliminar"){ // acciÃ³n eliminar (DELETE)
           if(!empty($tabla_actual) && isset($_GET['id'])){
           	include "./admin/delete/eliminar.php";	
           } else {
          	 echo "<p>Error, se debe seleccionar una tabla para ELIMINAR </p>";           
           }
           
          } else if($_GET['accion'] == "editar"){   // acciÃ³n actualizar (UPDATE)
           if(!empty($tabla_actual) && isset($_GET['id'])){
           	include "./admin/update/actualizar.php";	
           } else {
          	 echo "<p>Error, se debe seleccionar una tabla para ACTUALIZAR </p>";           
           }
          }                                         // Fin del condicional
          
        }                                           // Fin de conseguir acciones
        ?>
        
    <?php
     //  Muestra el boton si se ha "presionado" una tabla
     if(isset($_GET['tabla']) && !empty($_GET['tabla'])) {
        echo '<a href="?tabla='.urlencode($_GET['tabla']).'&accion=crear" id="crear">Crear</a>';
     }
    ?>
    </main>
  </body>
</html>

```
**admin.php**
```php
<!doctype html>
<html lang="es">
	<head>
  	<style>
    	html,body{width:100%;height:100%;padding:0px;margin:0px;background:Aliceblue;}
    	body{display:flex;}
    	nav{background:BurlyWood;color:black;padding:20px;gap:20px;display:flex;flex:1;flex-direction:column;height:max-content;}
    	nav a{background:#FFFFFF;color:black;text-decoration:none;padding:10px;}
    	a#boton-read,a#boton-logout{padding:14px;margin:8px;} 
    	
    	main{padding:20px;flex:4;}
     table td{padding:10px;}
     table{border:2px solid #39D0BD;width:100%;}   
     th{background:BurlyWood;color:black;padding:10px;}
     
     #crear{	position:absolute;  bottom:20px;  right:20px;  background:burlywood;  color:black; 
	      height:40px; border-radius:40px;
       text-align:center;  font-size:30px;  line-height:40px;  text-decoration:none;  font-weight:bold;}
     .eliminar,.editar{	height:20px;  background:BlanchedAlmond;  border-radius:30px;  color:black;
       line-height:20px;  text-decoration:none; text-align:center;  display:block;  }  
     #botones{border-radius:30px;display:flex;align-items:center;background:BlanchedAlmond;}
    </style>
  </head>
  <body>
    <?php
    //Verificador de Usuarios ///////////////////
    session_start();
    if (!isset($_SESSION['usuario']) || $_SESSION['usuario'] !== 'si') {
    header("Location: 004-login.html");
    exit();
    }

    // Verificar 2: Â¿Es admin?
    if (!isset($_SESSION['tipo_usuario']) || $_SESSION['tipo_usuario'] !== 'admin') {
        // No es admin - mostrar error
        echo '<h1>Acceso Denegado</h1>';
        echo '<p>Solo los administradores pueden acceder a esta pÃ¡gina.</p>';
        echo '<a href="../004-login.html">Volver al inicio</a>';
        exit();
    }
    ?>
    
    <?php
        $host = "localhost";$user = "usuario-weplan";$pass = "Usuarioweplan123$";$db   = "WePlanDB";$conexion = new mysqli($host, $user, $pass, $db);
    ?>

    <nav>
     <div id="botones">
      <h2>admin.php </h2>
      <a href="./admin/read/leer.php" id="boton-read">Lectura</a>                                 <!-- accion leer (READ) -->
      <a href="../006-logout.php" id="boton-logout">Logout </a>
     </div>
    <?php
      // Listado de las tablas de la base de datos- WePlanDB
        $resultado = $conexion->query("SHOW TABLES;");
        while ($fila = $resultado->fetch_assoc()) {
          echo '<a href="?tabla='.$fila['Tables_in_'.$db].'">'.$fila['Tables_in_'.$db].'</a>';
        }
    ?>
    </nav>
    <main>
   
      <?php
      // Verificar si se ha seleccionado una tabla para luego mostrar sus cabeceras
      if (isset($_GET['tabla']) && !empty($_GET['tabla'])) {
         $tabla = $conexion->real_escape_string($_GET['tabla']);

         $resultado = $conexion->query("SELECT * FROM ".$_GET['tabla']." LIMIT 1;");    /// Solo quiero un ELEMENTO !!!//////
         if ($resultado && $resultado->num_rows > 0) {
           echo "<table>";                         // Inicio de tabla
           echo "<tr>";
           $fila = $resultado->fetch_assoc();
           foreach($fila as $clave=>$valor){
             echo "<th>".$clave."</th>";
           }
           echo "<th>Editar</th><th>Eliminar</th>";
           echo "</tr>";
          }
       // Y LUEGO EL RESTO DE DATOS ////////////
         $resultado = $conexion->query("
           SELECT * FROM ".$_GET['tabla'].";
         ");
         while ($fila = $resultado->fetch_assoc()) {
           echo "<tr>";

           foreach($fila as $clave=>$valor){
             echo "<td>".htmlspecialchars($valor)."</td>";
           }
           
           $id = reset($fila);
           echo "<td><a href='?tabla=".urlencode($tabla)."&accion=editar&id=".urlencode($id)."' class='editar' title='Cuidado que vas a editar un dato'>ğŸ–‹</a></td>";
           echo "<td><a href='?tabla=".urlencode($tabla)."&accion=eliminar&id=".urlencode($id)."' class='eliminar' title='Cuidado EXTREMO que vas a ELIMINAR un dato'>âœ–</a></td>";            
           echo "</tr>";
          }
          echo "</table>";                          // Fin de tabla
      } 
      ?>
      
     	<?php
      	                                            // Redirecionador de enlaces
      	if(isset($_GET['accion'])){
      	  $tabla_actual = isset($_GET['tabla']) ? $_GET['tabla']: '';
      	  
        	if($_GET['accion'] == "crear"){           // formulario crear (CREATE)
        	 if(!empty($tabla_actual)){
          	 include "./admin/create/formulario.php";
          	} else {
          	 echo "<p>Error, se debe seleccionar una tabla para CREAR </p>";
          	}
          	
          }else if($_GET['accion'] == "eliminar"){ // acciÃ³n eliminar (DELETE)
           if(!empty($tabla_actual) && isset($_GET['id'])){
           	include "./admin/delete/eliminar.php";	
           } else {
          	 echo "<p>Error, se debe seleccionar una tabla para ELIMINAR </p>";           
           }
           
          } else if($_GET['accion'] == "editar"){   // acciÃ³n actualizar (UPDATE)
           if(!empty($tabla_actual) && isset($_GET['id'])){
           	include "./admin/update/actualizar.php";	
           } else {
          	 echo "<p>Error, se debe seleccionar una tabla para ACTUALIZAR </p>";           
           }
          }                                         // Fin del condicional
          
        }                                           // Fin de conseguir acciones
        ?>
        
    <?php
     //  Muestra el boton si se ha "presionado" una tabla
     if(isset($_GET['tabla']) && !empty($_GET['tabla'])) {
        echo '<a href="?tabla='.urlencode($_GET['tabla']).'&accion=crear" id="crear">Crear</a>';
     }
    ?>
    </main>
  </body>
</html>

```
**host.php**
```php
test

```
**usuario.php**
```php
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WePlan</title>
    <style>
body {margin: 10px auto;font-family: Arial, sans-serif;max-width: 1800px;padding: 15px;}
nav {width: 100%;background-color: #fff;}
.div2 {display: flex;align-items: center;justify-content: space-between;padding: 10px 20px;}
.div2 img {height: 90px;width: 230px;}
.search-container {flex: 1;max-width: 500px;margin: 0 20px;}
.search-box {width: 100%;padding: 20px;border: 1px solid #ccc;border-radius: 20px;font-size: 17px;}
.bottons-container {display: flex;align-items: center;gap: 50px;}
.boton {background-color: white;border: none;border-radius: 50%;width: 60px;height: 60px;display: flex;align-items: center;justify-content: center;cursor: pointer;transition: all 0.3s ease;padding: 8px;}
.boton:hover {transform: translateY(-3px);box-shadow: 0 4px 8px rgba(0,0,0,0.3);background-color: #f8f9fa;}
.boton:active {transform: translateY(-1px);}
.icono {font-size: 24px;color: #2c3e50;}
.boton-usuario {width: 65px;height: 65px;border-radius: 50%;font-size: 40px;border: none;cursor: pointer;display: flex;align-items: center;justify-content: center;font-weight: bold;color: white;background-color: Green;transition: all 0.3s ease;box-shadow: 0 4px 8px rgba(0,0,0,0.2);}
.boton-usuario:hover {transform: scale(1.05);box-shadow: 0 6px 12px rgba(0,0,0,0.3);}
.div4 {display: flex;flex-direction: column;align-items: flex-start;padding: 10px;}
.titulo-inicio {font-size: 18px;font-weight: bold;color: black;margin-bottom: 1px;padding-bottom: 10px;width: 100%;}
.usuario-container {display: flex;align-items: center;gap: 15px;}
.foto-usuario {width: 75px;height: 75px;border-radius: 50%;display: flex;align-items: center;justify-content: center;font-size: 40px;font-weight: bold;color: white;cursor: pointer;transition: all 0.3s ease;box-shadow: 0 4px 8px rgba(0,0,0,0.2);background-color: Green;background-size: cover;background-position: center;}
.foto-usuario:hover {transform: scale(1.05);box-shadow: 0 6px 12px rgba(0,0,0,0.3);}
.foto-usuario:active {transform: scale(0.98);}
.con-foto {background-image: url('https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=400&h=400&fit=crop');}
.actividades-container {display: grid;grid-template-columns: repeat(5,1fr);gap: 15px;margin: 0 auto;}
.actividad {background-color: white;border-radius: 12px;overflow: hidden;box-shadow: 0 4px 8px rgba(0,0,0,0.1);transition: all 0.3s ease;display: flex;flex-direction: column;height: 280px;}
.actividad:hover {transform: translateY(-5px);box-shadow: 0 8px 16px rgba(0,0,0,0.15);}
.imagen-actividad {height: 180px;width: 100%;overflow: hidden;}
.imagen-actividad img {width: 100%;height: 100%;object-fit: cover;transition: transform 0.5s ease;}
.actividad:hover .imagen-actividad img {transform: scale(1.05);}
.descripcion-actividad {padding: 15px;flex-grow: 1;display: flex;flex-direction: column;justify-content: center;background-color: white;}
.descripcion-actividad h3 {margin: 0 0 8px 0;font-size: 16px;color: #2c3e50;font-weight: 600;}
.descripcion-actividad p {margin: 0;font-size: 13px;color: #7f8c8d;line-height: 1.4;}
.div10 {padding: 1px;margin-top: 16px;}
.btn-grupo {width: 15%;padding: 18px;background: linear-gradient(to right, #6c757d, #87ceeb);color: white;border: none;border-radius: 10px;font-size: 18px;font-weight: bold;cursor: pointer;transition: all 0.3s;}
.btn-grupo:hover {background: linear-gradient(to right, #5a6268, #7ec8e3);box-shadow: 0 4px 12px rgba(135, 206, 235, 0.3);}
.btn-grupo:active {transform: translateY(-1px);}
.btn-grupo img {width: 24px;height: 24px;vertical-align: middle;margin-right: 8px;}
.div3 {grid-row-start: 4;grid-row-end: 6;}
.div11, .div12, .div13, .div14, .div15 {grid-row-start: 1;}
.nombre-usuario {font-size: 16px;color: #2c3e50;font-weight: 600;}    
    </style>
</head>
<body>
 <nav>
     <div class="div2">
      <img src="fotos/weplan-high-resolution-logo-grayscale.png" alt="WePlan Logo">
      <div class="search-container">
             <input type="text" class="search-box" placeholder="Buscar...">
      </div>
            <div class="bottons-container">
             <button class="boton">
                 <div class="icono">ğŸ </div>
             </button>
             <button class="boton">
                 <div class="icono">ğŸ§—</div>
             </button>
            
             <button class="boton">
                 <div class="icono">ğŸ””</div>
             </button>

              <button class="boton-usuario">
                B
              </button>
             </div>
     </div>   
 </nav>
    <div class="parent">

        <div class="div4">
        <div class="titulo-inicio">INICIO</div>
        
        <div class="usuario-container">
            <div class="foto-usuario" id="fotoUsuario">
                A
            </div>
            <div class="nombre-usuario" id="nombreUsuario">aymanmzkk  |  Valencia</div>
        </div>
    </div>
    <h3> Tus grupos</h3>
        <div class="actividades-container"> 
        <!-- Div5 - grupo 1 -->
        <div class="actividad div5">
            <div class="imagen-actividad">
                <img src="fotos/coffee and chill.jpg" alt="Coffee and Chill">
            </div>
            <div class="descripcion-actividad">
                <h3>Coffee and Chill</h3>
                <p>â­â­â­â­â­ 5.0</p>
                <p>ğŸ“Œ Valencia, Spain</p>
                <p>ğŸ‘¥ 67 Members-Public</p>
            </div>
        </div>

        <!-- Div6 - grupo 2 -->
        <div class="actividad div6">
            <div class="imagen-actividad">
                <img src="fotos/Football7Valencia.jpg" alt="Football7Valencia">
            </div>
            <div class="descripcion-actividad">
                <h3>Football7Valencia</h3>
                <p>â­â­â­â­â­ 5.0</p>
                <p>ğŸ“Œ Valencia, Spain</p>
                <p>ğŸ‘¥ 99 Members-Public</p>
            </div>
        </div>
        
        <!-- Div7 - grupo 3 -->
        <div class="actividad div7">
            <div class="imagen-actividad">
                <img src="fotos/cocinar juntos.jpg" alt="Cocinar Juntos">
            </div>
            <div class="descripcion-actividad">
                <h3>Cocinar Juntos</h3>
                <p>â­â­â­â­â­ 5.0</p>
                <p>ğŸ“Œ Valencia, Spain</p>
                <p>ğŸ‘¥ 106 Members-Public</p>
            </div>
        </div>
        
        <!-- Div8 - grupo 4 -->
        <div class="actividad div8">
            <div class="imagen-actividad">
                <img src="fotos/street basketball.jpg" alt="Basketball Lovers">
            </div>
            <div class="descripcion-actividad">
                <h3>Basketball Lovers</h3>
                <p>â­â­â­â­â­ 5.0</p>
                <p>ğŸ“Œ Valencia, Spain</p>
                <p>ğŸ‘¥ 17 Members-Public</p>
            </div>
        </div>
        
        <!-- Div9 - grupo 5 -->
        <div class="actividad div9">
            <div class="imagen-actividad">
                <img src="fotos/pintura.jpg" alt="Pintura Creativa">
            </div>
            <div class="descripcion-actividad">
                <h3>Pintura Creativa</h3>
                <p>â­â­â­â­â­ 5.0</p>
                <p>ğŸ“Œ Valencia, Spain</p>
                <p>ğŸ‘¥ 25 Members-Public</p>
            </div>
        </div>
    </div>
        <!-- Div10 -  btn-grupo -->
     <div class="div10">
        <button class="btn-grupo"><img src="fotos/crear_grupo_emoji.png">Crear Nuevo Grupo</button>
    </div>
    <h3> Tus actividades</h3>
        <div class="actividades-container"> 
        <!-- Div11 - Actividad 1 -->
        <div class="actividad div11">
            <div class="imagen-actividad">
                <img src="https://images.unsplash.com/photo-1540497077202-7c8a3999166f?w=400&h=300&fit=crop" alt="Senderismo">
            </div>
            <div class="descripcion-actividad">
                <h3>Senderismo en MontaÃ±a</h3>
                <p>Ruta de 8km por los senderos naturales. Nivel moderado, apto para principiantes.</p>
            </div>
        </div>
        
        <!-- Div12 - Actividad 2 -->
        <div class="actividad div12">
            <div class="imagen-actividad">
                <img src="https://images.unsplash.com/photo-1562771379-eafdca7a02f8?w=400&h=300&fit=crop" alt="Yoga">
            </div>
            <div class="descripcion-actividad">
                <h3>Clase de Yoga Matutina</h3>
                <p>Sesiones de yoga para todos los niveles. Enfocado en respiraciÃ³n y flexibilidad.</p>
            </div>
        </div>
        
        <!-- Div13 - Actividad 3 -->
        <div class="actividad div13">
            <div class="imagen-actividad">
                <img src="https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w-400&h=300&fit=crop" alt="Cocina">
            </div>
            <div class="descripcion-actividad">
                <h3>Taller de Cocina Saludable</h3>
                <p>Aprende recetas fÃ¡ciles y nutritivas. Incluye todos los ingredientes necesarios.</p>
            </div>
        </div>
        
        <!-- Div14 - Actividad 4 -->
        <div class="actividad div14">
            <div class="imagen-actividad">
                <img src="https://images.unsplash.com/photo-1536922246289-88c42f957773?w=400&h=300&fit=crop" alt="Bicicleta">
            </div>
            <div class="descripcion-actividad">
                <h3>Paseo en Bicicleta</h3>
                <p>Recorrido urbano de 15km. Alquiler de bicicletas incluido para participantes.</p>
            </div>
        </div>
        
        <!-- Div15 - Actividad 5 -->
        <div class="actividad div15">
            <div class="imagen-actividad">
                <img src="https://images.unsplash.com/photo-1518609878373-06d740f60d8b?w=400&h=300&fit=crop" alt="Pintura">
            </div>
            <div class="descripcion-actividad">
                <h3>Workshop de Pintura</h3>
                <p>Explora tu creatividad con acuarelas. Materiales incluidos, no se requiere experiencia.</p>
            </div>
        </div>
    </div>   
</body>
</html>

```
#### admin
##### create
**formulario.php**
```php
<?php
// ConexiÃ³n a la base de datos
$host = "localhost";
$user = "usuario-weplan";
$pass = "Usuarioweplan123$";
$db   = "WePlanDB";
$conexion = new mysqli($host, $user, $pass, $db);

// Obtener la tabla desde la URL
if (!isset($_GET['tabla']) || empty($_GET['tabla'])) {
    echo "<p>Error: No se seleccionÃ³ una tabla. Vuelve atrÃ¡s y selecciona una tabla.</p>";
    echo '<a href="../../admin.php">â† Volver</a>';
    exit;
}
$tabla = $conexion->real_escape_string($_GET['tabla']);

// Obtener estructura de la tabla
$resultado = $conexion->query("SHOW COLUMNS FROM `$tabla`");
if (!$resultado) {
    echo "<p>Error: No se pudo obtener informaciÃ³n de la tabla '$tabla'</p>";
    echo '<a href="../../admin.php">â† Volver</a>';
    exit;
}

echo '<form action="./admin/create/procesaformulario.php" method="POST">';
echo '<input type="hidden" name="tabla" value="'.htmlspecialchars($tabla).'">';
echo '<h2>CreaciÃ³n de registro en tabla "'.htmlspecialchars($tabla).'"</h2>';

while ($columna = $resultado->fetch_assoc()) {
    $nombre = $columna['Field'];
    $tipo = $columna['Type'];
    
    // Saltar columnas auto_increment
    if (strpos($columna['Extra'], 'auto_increment') !== false) {
        continue;
    }
    
    // Saltar timestamps automÃ¡ticos
    if (($nombre == 'fecha_registro' || $nombre == 'fecha_creacion') && 
        strpos($columna['Default'], 'CURRENT_TIMESTAMP') !== false) {
        continue;
    }
    
    // Crear label amigable
    $label = ucwords(str_replace('_', ' ', $nombre));
    
    // Determinar tipo de input
    $tipo_input = 'text';
    $es_textarea = false;
    
    // Por nombre de campo
    if (strpos(strtolower($nombre), 'email') !== false) {
        $tipo_input = 'email';
    } elseif (strpos(strtolower($nombre), 'telefono') !== false) {
        $tipo_input = 'tel';
    } elseif (strpos(strtolower($nombre), 'password') !== false || strpos(strtolower($nombre), 'contrasenya') !== false) {
        $tipo_input = 'password';
    } elseif (strpos(strtolower($nombre), 'fecha') !== false && strpos(strtolower($nombre), 'hora') !== false) {
        $tipo_input = 'datetime-local';
    } elseif (strpos(strtolower($nombre), 'fecha') !== false) {
        $tipo_input = 'date';
    } elseif (strpos(strtolower($tipo), 'int') !== false || strpos(strtolower($nombre), 'id_') !== false) {
        $tipo_input = 'number';
    } elseif (strpos(strtolower($nombre), 'descripcion') !== false) {
        $es_textarea = true;
    }
    
    // Por tipo de dato MySQL
    if (strpos(strtolower($tipo), 'text') !== false) {
        $es_textarea = true;
    }
    
    echo '<div class="controlformulario">';
    echo '<label for="'.$nombre.'">'.$label.'</label>';
    
    if ($es_textarea) {
        echo '<textarea name="'.$nombre.'" id="'.$nombre.'" ';
        if ($columna['Null'] == 'NO' && !$columna['Default']) {
            echo 'required';
        }
        echo ' placeholder="'.$label.'"></textarea>';
    } else {
        echo '<input type="'.$tipo_input.'" name="'.$nombre.'" id="'.$nombre.'" ';
        
        // Atributos adicionales
        if ($tipo_input == 'number') {
            if (strpos(strtolower($nombre), 'id_') !== false) {
                echo 'min="1" ';
            } elseif ($nombre == 'max_miembros') {
                echo 'min="1" max="1000" value="50" ';
            }
        }
        
        if ($columna['Null'] == 'NO' && !$columna['Default']) {
            echo 'required';
        }
        
        echo ' placeholder="'.$label.'">';
    }
    
    echo '</div>';
}

$conexion->close();

echo "<div>";
echo "<input type='submit' value='crear Registros'>";
echo '<a href="../tipo_de_usuario/admin.php?tabla=<?php echo urlencode($tabla); ?>" style="margin-left:10px;">Cancelar</a>';
echo "</div>";
echo "</form>";
?>
<style>
 .controlformulario{padding:3px;width:100px;display:inline-block;}
 label{font-weight:bold;font-size:15px;}
</style>

```
**procesaformulario.php**
```php
<?php
// Validar tabla
if (!isset($_POST['tabla']) || empty($_POST['tabla'])) {
    die("Error: No se especificÃ³ la tabla");
}
$tabla = $_POST['tabla'];

$host = "localhost";
$user = "usuario-weplan";
$pass = "Usuarioweplan123$";
$db   = "WePlanDB";
$conexion = new mysqli($host, $user, $pass, $db);

// Validar que tabla existe
$tabla_valida = $conexion->query("SHOW TABLES LIKE '$tabla'");
if ($tabla_valida->num_rows == 0) {
    die("Error: La tabla '$tabla' no existe");
}

// Obtener columnas de la tabla
$resultado = $conexion->query("SHOW COLUMNS FROM `$tabla`");
$columnas_validas = [];

while ($columna = $resultado->fetch_assoc()) {
    $columnas_validas[] = $columna['Field'];
}

// PreparaciÃ³n de datos para INSERT
$campos = [];
$valores = [];

foreach ($_POST as $campo => $valor) {
    if ($campo == 'tabla') continue;
    
    // Solo incluir campos que existen en la tabla
    if (in_array($campo, $columnas_validas)) {
        $campos[] = "`$campo`";
        $valores[] = "'" . $conexion->real_escape_string($valor) . "'";
    }
}

//Consulta SQL de CREATE
$sql = "INSERT INTO `$tabla` (" . implode(", ", $campos) . ") 
        VALUES (" . implode(", ", $valores) . ")";

// Ejecuta
if ($conexion->query($sql)) {
    echo "Registro creado en '$tabla'<br>";
} else {
    echo "Error: " . $conexion->error . "<br>";
}

$conexion->close();
header("Location: ../../admin.php");												// Volvemos a admin
?>

  

```
##### delete
**eliminar.php**
```php
<?php
$tabla = $_GET['tabla'] ?? '';
$id = $_GET['id'] ?? '';

if(empty($tabla) || empty($id)) {
    // Redirigir con error
    header("Location: ../../admin.php?error=faltan_datos");
    exit;
}

$host = "localhost";
$user = "usuario-weplan";
$pass = "Usuarioweplan123$";
$db   = "WePlanDB";
$conexion = new mysqli($host, $user, $pass, $db);

// Estructura para Nombre de la columna ID
$id_column = 'usuario_id';                       // El por de defecto
if ($tabla == 'grupos') $id_column = 'grupo_id';
// Tablas normales
elseif ($tabla == 'categorias_actividades') $id_column = 'categoria_id';
elseif ($tabla == 'subcategorias_actividades') $id_column = 'subcategoria_id';
elseif ($tabla == 'aficiones') $id_column = 'aficion_id';
elseif ($tabla == 'eventos') $id_column = 'evento_id';
// tablas de relaciÃ³n 
elseif ($tabla == 'usuario_grupo' || $tabla == 'usuario_aficion' || 
        $tabla == 'grupo_subcategoria' || $tabla == 'evento_participantes') {
    echo "<p>Error: Las tablas de relaciÃ³n requieren manejo especial.</p>";
    echo "<a href='../../admin.php?tabla=".urlencode($tabla)."'>Volver</a>";
}
    

// Ejecutar DELETE
$sql = "DELETE FROM `$tabla` WHERE $id_column = " . intval($id);
$conexion->query($sql);
$conexion->close();

echo "<script>
    // Muestrame mensaje de Ã©xito
    alert('Registro eliminado!');
    
    // Recargame la pÃ¡gina manteniendo la misma tabla
    window.location.href = './admin.php?tabla=" . urlencode($tabla) . "';
</script>";
?>

```
**formulario_eliminar.php**
```php
<?php
  // Recibe y valida parÃ¡metros
  if (!isset($_GET['tabla']) || empty($_GET['tabla'])) {
      die("Error: No se especificÃ³ la tabla");
  }
  if (!isset($_GET['id']) || empty($_GET['id'])) {
      die("Error: No se especificÃ³ el ID");
  }

  $tabla = $_GET['tabla'];
  $id = $_GET['id'];
  $id_column = 'usuario_id';

  $host = "localhost";
  $user = "usuario-weplan";
  $pass = "Usuarioweplan123$";
  $db   = "WePlanDB";
  $conexion = new mysqli($host, $user, $pass, $db);	 

// Estructura para Nombre de la columna ID
$id_column = 'usuario_id';                       // El por de defecto
if ($tabla == 'grupos') $id_column = 'grupo_id';
// Tablas normales
elseif ($tabla == 'categorias_actividades') $id_column = 'categoria_id';
elseif ($tabla == 'subcategorias_actividades') $id_column = 'subcategoria_id';
elseif ($tabla == 'aficiones') $id_column = 'aficion_id';
elseif ($tabla == 'eventos') $id_column = 'evento_id';
// tablas de relaciÃ³n 
elseif ($tabla == 'usuario_grupo' || $tabla == 'usuario_aficion' || 
        $tabla == 'grupo_subcategoria' || $tabla == 'evento_participantes') {
    echo "<p>Error: Las tablas de relaciÃ³n requieren manejo especial.</p>";
    echo "<a href='../../admin.php?tabla=".urlencode($tabla)."'>Volver</a>";
}
    
  // Accion SQL para DELETE    
  $sql = "DELETE FROM `$tabla` WHERE $id_column = " . intval($id);								
  
  if($conexion->query($sql)) {
      echo " Registro eliminado correctamente<br>";
      echo "<a href='../../admin.php'>Volver</a>";
  } else {
      echo "Error: " . $conexion->error . "<br>";
      echo "<a href='../../admin.php'>Volver</a>";
  }

  $conexion->close();																       
?>

```
##### read
**leer.php**
```php
<?php
	session_start(); // Arranco una sesion
 $host = "localhost";
 $user = "usuario-weplan";
 $pass = "Usuarioweplan123$";
 $db   = "WePlanDB";
 $conexion = new mysqli($host, $user, $pass, $db);

	
 // Lista de las tablas en la base de datos


  $resultado = $conexion->query("SHOW TABLES;");
  echo "<a href='../../admin.php' id='volver-btn'>Volver</a>";  
  while ($fila = $resultado->fetch_assoc()) {
    echo "<div>";  
    echo '<a href="?tabla='.$fila['Tables_in_'.$db].'">'.$fila['Tables_in_'.$db].'</a>';
    echo "</div>";
  }
if(isset($_GET['tabla']) && !empty($_GET['tabla'])) {
    $tabla = $conexion->real_escape_string($_GET['tabla']);
    $sql = "SELECT * FROM ".$_GET['tabla']." LIMIT 1;";	
     $resultado = $conexion->query($sql);
     while ($fila = $resultado->fetch_assoc()) {
     	var_dump($fila);
     }
	  }
	  
  $conexion->close();
?>
<style>
 a{padding:2px;text-decoration:none;font-weight:bold;}
 div{display:flex;}
 #volver-btn{font-size:25px;}
</style>

```
##### update
**actualizar.php**
```php
<?php
// Recibe y valida parÃ¡metros
if (!isset($_GET['tabla']) || empty($_GET['tabla'])) {
    die("Error: No se especificÃ³ la tabla");
}
if (!isset($_GET['id']) || empty($_GET['id'])) {
    die("Error: No se especificÃ³ el ID");
}

$tabla = $_GET['tabla'];
$id = $_GET['id'];

$host = "localhost";
$user = "usuario-weplan";
$pass = "Usuarioweplan123$";
$db   = "WePlanDB";
$conexion = new mysqli($host, $user, $pass, $db);

// Estructura para Nombre de la columna ID
$id_column = 'usuario_id';                       // El por de defecto
if ($tabla == 'grupos') $id_column = 'grupo_id';
// Tablas normales
elseif ($tabla == 'categorias_actividades') $id_column = 'categoria_id';
elseif ($tabla == 'subcategorias_actividades') $id_column = 'subcategoria_id';
elseif ($tabla == 'aficiones') $id_column = 'aficion_id';
elseif ($tabla == 'eventos') $id_column = 'evento_id';
// tablas de relaciÃ³n 
elseif ($tabla == 'usuario_grupo' || $tabla == 'usuario_aficion' || 
        $tabla == 'grupo_subcategoria' || $tabla == 'evento_participantes') {
    echo "<p>Error: Las tablas de relaciÃ³n requieren manejo especial.</p>";
    echo "<a href='../../admin.php?tabla=".urlencode($tabla)."'>Volver</a>";
    exit;
}

// Obtener datos actuales del registro
$sql = "SELECT * FROM `$tabla` WHERE $id_column = " . intval($id);
$resultado = $conexion->query($sql);

 echo '<h2>ActualizaciÃ³n de un registro  en '.htmlspecialchars($tabla).'</h2>';
?>

<form action="./admin/update/formulario_actualizar.php" method="POST">
 <div class="controlformulario">
      <p>Introduce el ID del elemento que quieres <b>actualizar</b>:</p>
      <!-- Input que no se muestran-->
      <input type="hidden" name="tabla" value="<?php echo htmlspecialchars($tabla); ?>">
      <input type="hidden" name="id_column" value="<?php echo $id_column; ?>">
      <input type="hidden" name="id" value="<?php echo htmlspecialchars($id); ?>">
      <!-- Input que muestran generados con PHP-->
    <?php
    $fila = $resultado->fetch_assoc();
    // Generar campos dinÃ¡micamente
    foreach ($fila as $campo => $valor) {
        if ($campo == $id_column) continue;
        if ($campo == 'fecha_registro' || $campo == 'fecha_creacion') continue;
        
        $label = ucwords(str_replace('_', ' ', $campo));
        $tipo = 'text';
        
        if (strpos($campo, 'email') !== false) $tipo = 'email';
        elseif (strpos($campo, 'telefono') !== false) $tipo = 'tel';
        elseif (strpos($campo, 'contrasenya') !== false) $tipo = 'password';
        elseif (strpos($campo, 'descripcion') !== false) {
            echo '<div class="controlformulario">
                <label for="'.$campo.'">'.$label.'</label>
                <textarea name="'.$campo.'" id="'.$campo.'">'.htmlspecialchars($valor).'</textarea>
            </div>';
            continue;
        }
        
        echo '<div class="controlformulario">
            <label for="'.$campo.'">'.$label.'</label>
            <input type="'.$tipo.'" name="'.$campo.'" id="'.$campo.'" 
                   value="'.htmlspecialchars($valor).'">
        </div>';
    }
    ?>      
      <input type="submit" value="Actualizar registro">
      <a href="../tipo_de_usuario/admin.php?tabla=<?php echo urlencode($tabla); ?>" style="margin-left:10px;">Cancelar</a>
 </div>
</form>

<style>
 div{padding:3px;}
 .controlformulario{font-weight:bold;font-size:15px;display:inline-block;}
</style>

```
**formulario_actualizar.php**
```php
<?php
if (!isset($_POST['tabla']) || empty($_POST['tabla'])) {
    die("Error: No se especificÃ³ la tabla");
}
if (!isset($_POST['id']) || empty($_POST['id'])) {
    die("Error: No se especificÃ³ el ID");
}

$tabla = $_POST['tabla'];
$id = $_POST['id'];

$host = "localhost";
$user = "usuario-weplan";
$pass = "Usuarioweplan123$";
$db   = "WePlanDB";
$conexion = new mysqli($host, $user, $pass, $db);

// Determinar columna ID
$id_column = isset($_POST['id_column']) ? $_POST['id_column'] : 'usuario_id';

// Construir consulta UPDATE dinÃ¡mica
$actualizaciones = [];
foreach ($_POST as $campo => $valor) {
    if ($campo == 'tabla' || $campo == 'id' || $campo == 'id_column') continue;
    
    $actualizaciones[] = "`$campo` = '" . $conexion->real_escape_string($valor) . "'";
}

if (empty($actualizaciones)) {
    die("Error: No hay campos para actualizar");
}


$sql = "UPDATE `$tabla` SET " . implode(", ", $actualizaciones) . 
       " WHERE $id_column = " . intval($id);


if($conexion->query($sql)) {
      echo " Registro actualizado correctamente<br>";
      echo "<a href='../../admin.php'>Volver</a>";
  } else {
      echo "Error: " . $conexion->error . "<br>";
      echo "<a href='../../admin.php'>Volver</a>";
}
	
  $conexion->close();
?>

```
```
### 000-Bases de Datos
**001-tablas.sql**
```sql
WePlanDB:Usuario (Usuario que puede Leer las tablas; Puede Crear Actividades) ->
 ConfiguraciÃ³n -> 
 {
  [nombre, apellidos, telÃ©fono, direcciÃ³n, correo electrÃ³nico, paÃ­s]
 },
 
 Grupos ->{
  [nombre,descripciÃ³n,miembros]
 },
 
 Actividades ->
 {
  Deporte[FÃºtbol,PÃ¡del,Baloncesto,etc],
  RelajaciÃ³n[CafÃ©,Charla,Cena,etc],
  MÃºsica[Conciertos,Karaoke,etc],
  EducaciÃ³n[Idiomas,Artes,Danza,etc]
 },
 
 Aficiones[]
 
WePlanDB:Administrador de grupos (usuario que puede Leer y ACTUALIZAR las tablas; Puede Crear Actividades) -> 
 Grupos ->{
  [nombre,descripciÃ³n,miembros]
 }
 
WePlan:Administrador (usuario que puede Crear,Leer,ACTUALIZAR y ELIMINAR las tablas) [nosotros]


TABLAS CREADAS:
 Importantes:
  -usuarios
  -grupos
  -categorias_actividades
  -subcategorias_actividades
  -aficiones
  -eventos
  -evento_participantes
 Relaciones:
  -usuario_grupo
  -usuario_aficion
  -grupo_subcategorias

INDICES CREADOS:
 Indice para busqueda frecuentes:
  idx_usuarios_email
  idx_usuarios_nombre
  idx_grupos_nombre
  idx_eventos_fecha
  idx_eventos_grupo
 
 Indices para relaciones: 
  idx_usuarios_grupo_usuario
  idx_usuarios_grupo_grupo

VISTAS CREADAS:
 vista_grupo_con_miembros
 vista_eventos_proximos
 vista_usuario_aficiones

```
**002-Creacion de bases de datos.sql**
```sql
--sudo mysql -u root -p 
CREATE DATABASE WePlanDB;
USE WePlanDB;

CREATE TABLE usuarios (
    usuario_id INT PRIMARY KEY AUTO_INCREMENT,
    nombre VARCHAR(50) NOT NULL,
    apellidos VARCHAR(150) NOT NULL,
    telefono VARCHAR(20),
    direccion VARCHAR(255),
    correo_electronico VARCHAR(150) UNIQUE NOT NULL,
    pais VARCHAR(50),
    contrasenya VARCHAR(255) NOT NULL,
    fecha_registro TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    tipo_de_usuario VARCHAR(50)
);

-- Registros de ejemplo
INSERT INTO usuarios (nombre, apellidos, telefono, direccion, correo_electronico, pais, contrasenya) VALUES
('MarÃ­a', 'GarcÃ­a LÃ³pez', '+34 600 111 222', 'Calle Mayor 10, Madrid', 'maria.garcia@email.com', 'EspaÃ±a', '12345678'),
('Carlos', 'RodrÃ­guez PÃ©rez', '+34 611 222 333', 'Av. Diagonal 25, Barcelona', 'carlos.rodriguez@email.com', 'EspaÃ±a', '12345678'),
('Ana', 'MartÃ­nez SÃ¡nchez', '+34 622 333 444', 'Calle Gran VÃ­a 45, Valencia', 'ana.martinez@email.com', 'EspaÃ±a', '12345678'),
('David', 'FernÃ¡ndez Ruiz', '+34 633 444 555', 'Plaza EspaÃ±a 3, Sevilla', 'david.fernandez@email.com', 'EspaÃ±a', '12345678'),
('Laura', 'GÃ³mez DÃ­az', '+34 644 555 666', 'Calle Sierpes 15, Sevilla', 'laura.gomez@email.com', 'EspaÃ±a', '12345678'),
('Javier', 'HernÃ¡ndez Castro', '+34 655 666 777', 'Calle Preciados 8, Madrid', 'javier.hernandez@email.com', 'EspaÃ±a', '12345678');

--Actualizacion de Usuarios para que puedan ver una cosa o otra segun lo indicado por tipo_de_usuario/003-procesalogin.php
UPDATE usuarios 
SET TIPO_DE_USUARIO = 'admin'
WHERE nombre IN ('MarÃ­a', 'Carlos');

UPDATE usuarios 
SET TIPO_DE_USUARIO = 'host'
WHERE nombre IN ('Ana', 'David');

UPDATE usuarios 
SET TIPO_DE_USUARIO = 'usuario'
WHERE nombre IN ('Laura', 'Javier');

CREATE TABLE grupos (
    grupo_id INT PRIMARY KEY AUTO_INCREMENT,
    nombre VARCHAR(100) NOT NULL,
    descripcion TEXT,
    creador_id INT,
    fecha_creacion TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    max_miembros INT DEFAULT 50,
    FOREIGN KEY (creador_id) REFERENCES usuarios(usuario_id)
);

-- Registros de ejemplo
INSERT INTO grupos (nombre, descripcion, creador_id) VALUES
('FÃºtbol Los Domingos', 'Grupo para jugar al fÃºtbol los domingos por la maÃ±ana', 1),
('Club de CafÃ© Literario', 'Reuniones para tomar cafÃ© y comentar libros', 2),
('PÃ¡del Amigos', 'Grupo para jugar al pÃ¡del entre semana', 3),
('Conciertos Madrid', 'Salidas a conciertos en Madrid', 4),
('Intercambio de Idiomas', 'PrÃ¡ctica de inglÃ©s y espaÃ±ol', 5),
('Running Matutino', 'Grupo de running a las 7 AM', 6);

CREATE TABLE categorias_actividades (
    categoria_id INT PRIMARY KEY AUTO_INCREMENT,
    nombre VARCHAR(50) NOT NULL,
    descripcion TEXT
);

-- InserciÃ³n de categorÃ­as principales
INSERT INTO categorias_actividades (nombre, descripcion) VALUES
('Deporte', 'Actividades deportivas y ejercicio fÃ­sico'),
('RelajaciÃ³n', 'Actividades sociales y de ocio relajado'),
('MÃºsica', 'Eventos y actividades musicales'),
('EducaciÃ³n', 'Actividades de aprendizaje y desarrollo');

CREATE TABLE subcategorias_actividades (
    subcategoria_id INT PRIMARY KEY AUTO_INCREMENT,
    categoria_id INT NOT NULL,
    nombre VARCHAR(50) NOT NULL,
    descripcion TEXT,
    FOREIGN KEY (categoria_id) REFERENCES categorias_actividades(categoria_id)
);

-- InserciÃ³n de subcategorÃ­as
INSERT INTO subcategorias_actividades (categoria_id, nombre) VALUES

-- InserciÃ³n de subcategorÃ­as con descripciÃ³n
INSERT INTO subcategorias_actividades (categoria_id, nombre, descripcion) VALUES
-- Deporte
(1, 'FÃºtbol', 'Actividad deportiva en equipo con balÃ³n'),(1, 'PÃ¡del', 'Deporte de raqueta en pareja'),
(1, 'Baloncesto', 'Juego en equipo con canastas'),(1, 'Tenis', 'Deporte individual o en pareja con raqueta'),
(1, 'NataciÃ³n', 'Actividad acuÃ¡tica para ejercitar todo el cuerpo'),(1, 'Running', 'Carrera al aire libre para mejorar resistencia'),
(1, 'Ciclismo', 'Deporte sobre bicicleta en carretera o montaÃ±a'),(1, 'Yoga', 'PrÃ¡ctica de relajaciÃ³n y estiramiento fÃ­sico'),
-- RelajaciÃ³n
(2, 'CafÃ©', 'Encuentro informal para conversar'),(2, 'Charla', 'ConversaciÃ³n relajada entre amigos'),
(2, 'Cena', 'Comida en grupo para socializar'),(2, 'Paseo', 'Caminar al aire libre para relajarse'),
(2, 'Cine', 'Ver pelÃ­culas en compaÃ±Ã­a'),(2, 'Juegos de mesa', 'Actividades lÃºdicas en grupo'),(2, 'Picnic', 'Comida al aire libre en un parque'),
-- MÃºsica
(3, 'Conciertos', 'Eventos musicales en vivo'),(3, 'Karaoke', 'Cantar canciones en grupo'),
(3, 'Club de mÃºsica', 'ReuniÃ³n para escuchar y compartir mÃºsica'),(3, 'Taller de instrumentos', 'Aprender a tocar instrumentos musicales'),
(3, 'Festivales', 'Eventos masivos con mÃºsica y entretenimiento'),
-- EducaciÃ³n
(4, 'Idiomas', 'Aprendizaje de nuevas lenguas'),(4, 'Artes', 'Actividades relacionadas con pintura y escultura'),
(4, 'Danza', 'Aprender y practicar diferentes estilos de baile'),(4, 'Cocina', 'Clases para preparar recetas y tÃ©cnicas culinarias'),
(4, 'FotografÃ­a', 'Aprender tÃ©cnicas para capturar imÃ¡genes'),(4, 'Literatura', 'Lectura y anÃ¡lisis de obras literarias'),(4, 'Teatro', 'InterpretaciÃ³n y actuaciÃ³n en obras dramÃ¡ticas');


CREATE TABLE aficiones (
    aficion_id INT PRIMARY KEY AUTO_INCREMENT,
    nombre VARCHAR(100) NOT NULL,
    categoria VARCHAR(50)
);

-- InserciÃ³n de aficiones comunes
INSERT INTO aficiones (nombre, categoria) VALUES
('Lectura', 'Cultural'), ('Viajes', 'Ocio'), ('Cine', 'Entretenimiento'),
('Cocina', 'GastronomÃ­a'), ('FotografÃ­a', 'ArtÃ­stica'),
('Senderismo', 'Deporte'), ('JardinerÃ­a', 'Ocio'),
('Videojuegos', 'Entretenimiento'), ('Pintura', 'ArtÃ­stica'),
('MÃºsica', 'Cultural'), ('Baile', 'ArtÃ­stica'), ('Deportes', 'Actividad');

CREATE TABLE usuario_grupo (
    usuario_id INT NOT NULL,
    grupo_id INT NOT NULL,
    PRIMARY KEY (usuario_id, grupo_id),
    FOREIGN KEY (usuario_id) REFERENCES usuarios(usuario_id),
    FOREIGN KEY (grupo_id) REFERENCES grupos(grupo_id)
);

-- Registros de ejemplo para comprobar
INSERT INTO usuario_grupo (usuario_id, grupo_id) VALUES
(1, 1), (1, 3),  -- MarÃ­a en FÃºtbol y PÃ¡del
(2, 2), (2, 4),  -- Carlos en CafÃ© y Conciertos
(3, 3), (3, 5),  -- Ana en PÃ¡del e Idiomas
(4, 1), (4, 4),  -- David en FÃºtbol y Conciertos
(5, 2), (5, 5),  -- Laura en CafÃ© e Idiomas
(6, 6);          -- Javier solo en Running

CREATE TABLE usuario_aficion (
    usuario_id INT NOT NULL,
    aficion_id INT NOT NULL,
    PRIMARY KEY (usuario_id, aficion_id),
    FOREIGN KEY (usuario_id) REFERENCES usuarios(usuario_id),
    FOREIGN KEY (aficion_id) REFERENCES aficiones(aficion_id)
);

INSERT INTO usuario_aficion (usuario_id, aficion_id) VALUES
(1, 1), (1, 4),  -- MarÃ­a: Lectura y Cocina
(2, 2), (2, 5),  -- Carlos: Viajes y FotografÃ­a
(3, 3), (3, 6),  -- Ana: Cine y Senderismo
(4, 10), (4, 12), -- David: MÃºsica y Deportes
(5, 1), (5, 8),  -- Laura: Lectura y Pintura
(6, 7);          -- Javier: JardinerÃ­a

CREATE TABLE grupo_subcategoria (
    grupo_id INT NOT NULL,
    subcategoria_id INT NOT NULL,
    PRIMARY KEY (grupo_id, subcategoria_id),
    FOREIGN KEY (grupo_id) REFERENCES grupos(grupo_id),
    FOREIGN KEY (subcategoria_id) REFERENCES subcategorias_actividades(subcategoria_id)
);

INSERT INTO grupo_subcategoria (grupo_id, subcategoria_id) VALUES
(1, 1),   -- FÃºtbol Los Domingos -> FÃºtbol (subcategoria_id 1)
(2, 9),   -- Club de CafÃ© -> CafÃ© (subcategoria_id 9)
(2, 10),  -- Club de CafÃ© -> Charla (subcategoria_id 10)
(3, 2),   -- PÃ¡del Amigos -> PÃ¡del (subcategoria_id 2)
(4, 16),  -- Conciertos Madrid -> Conciertos (subcategoria_id 16)
(5, 21),  -- Intercambio de Idiomas -> Idiomas (subcategoria_id 21)
(6, 6);   -- Running Matutino -> Running (subcategoria_id 6)

CREATE TABLE eventos (
    evento_id INT PRIMARY KEY AUTO_INCREMENT,
    grupo_id INT NOT NULL,
    subcategoria_id INT,
    titulo VARCHAR(100) NOT NULL,
    fecha_hora DATETIME NOT NULL,
    lugar VARCHAR(200),
    FOREIGN KEY (grupo_id) REFERENCES grupos(grupo_id),
    FOREIGN KEY (subcategoria_id) REFERENCES subcategorias_actividades(subcategoria_id)
);

INSERT INTO eventos (grupo_id, subcategoria_id, titulo, fecha_hora, lugar) VALUES
(1, 1, 'Partido Domingo', '2024-03-10 10:00:00', 'Campo Deportivo La Elipa'),
(2, 9, 'CafÃ© Literario: Kafka', '2024-03-12 18:00:00', 'CafÃ© GijÃ³n'),
(3, 2, 'Torneo PÃ¡del', '2024-03-15 19:00:00', 'Club PÃ¡del Madrid'),
(4, 16, 'Concierto Rock', '2024-03-20 21:00:00', 'Sala Caracol'),
(5, 21, 'Intercambio InglÃ©s-EspaÃ±ol', '2024-03-11 20:00:00', 'Biblioteca Municipal'),
(6, 6, 'Running Parque Retiro', '2024-03-13 07:00:00', 'Parque del Retiro');

CREATE TABLE evento_participantes (
    evento_id INT NOT NULL,
    usuario_id INT NOT NULL,
    PRIMARY KEY (evento_id, usuario_id),
    FOREIGN KEY (evento_id) REFERENCES eventos(evento_id),
    FOREIGN KEY (usuario_id) REFERENCES usuarios(usuario_id)
);

INSERT INTO evento_participantes (evento_id, usuario_id) VALUES
(1, 1), (1, 4),   -- Partido: MarÃ­a y David
(2, 2), (2, 5),   -- CafÃ©: Carlos y Laura
(3, 1), (3, 3),   -- PÃ¡del: MarÃ­a y Ana
(4, 2), (4, 4),   -- Concierto: Carlos y David
(5, 3), (5, 5),   -- Idiomas: Ana y Laura
(6, 6);           -- Running: Javier

---------------------
--USUARIO!!-----------
---------------------

-- Creacion de usuario que podrÃ¡ acceder a la base de datos
CREATE USER 'usuario-weplan'@'localhost' IDENTIFIED BY 'Usuarioweplan123$';

GRANT USAGE ON *.* TO 'usuario-weplan'@'localhost';

ALTER USER 'usuario-weplan'@'localhost'
REQUIRE NONE
WITH MAX_QUERIES_PER_HOUR 0
MAX_CONNECTIONS_PER_HOUR 0
MAX_UPDATES_PER_HOUR 0
MAX_USER_CONNECTIONS 0;

GRANT ALL PRIVILEGES ON WePlanDB.* TO 'usuario-weplan'@'localhost';

FLUSH PRIVILEGES;

---------------------
--INDICES!!-----------
---------------------

-- Indices para bÃºsquedas frecuentes
CREATE INDEX idx_usuarios_email ON usuarios(correo_electronico);
CREATE INDEX idx_usuarios_nombre ON usuarios(nombre, apellidos);
CREATE INDEX idx_grupos_nombre ON grupos(nombre);
CREATE INDEX idx_eventos_fecha ON eventos(fecha_hora);
CREATE INDEX idx_eventos_grupo ON eventos(grupo_id);

-- Ãndices para relaciones
CREATE INDEX idx_usuario_grupo_usuario ON usuario_grupo(usuario_id);
CREATE INDEX idx_usuario_grupo_grupo ON usuario_grupo(grupo_id);


---------------------
--VISTAS!!-----------
---------------------

-- Vista para ver grupos con nÃºmero de miembros
CREATE VIEW vista_grupos_con_miembros AS
SELECT 
    g.grupo_id,
    g.nombre AS grupo,
    COUNT(ug.usuario_id) AS miembros,
    u.nombre AS creador,
    g.descripcion
FROM grupos g
LEFT JOIN usuario_grupo ug ON g.grupo_id = ug.grupo_id
JOIN usuarios u ON g.creador_id = u.usuario_id
GROUP BY g.grupo_id;

-- Vista para eventos prÃ³ximos
CREATE VIEW vista_eventos_proximos AS
SELECT 
    e.evento_id,
    e.titulo, 
    e.fecha_hora, 
    e.lugar,
    g.nombre AS grupo,
    s.nombre AS actividad
FROM eventos e
JOIN grupos g ON e.grupo_id = g.grupo_id
LEFT JOIN subcategorias_actividades s ON e.subcategoria_id = s.subcategoria_id
WHERE e.fecha_hora > NOW()
ORDER BY e.fecha_hora;

-- Vista para todos los eventos
CREATE VIEW vista_eventos_completa AS
SELECT 
    e.evento_id,
    e.titulo,
    e.fecha_hora,
    e.lugar,
    e.grupo_id,
    e.subcategoria_id,
    s.nombre AS actividad,
    s.descripcion AS descripcion_actividad,
    s.categoria_id,
    c.nombre AS categoria,
    g.nombre AS grupo_nombre,
    g.descripcion AS grupo_descripcion,
    g.creador_id,
    u.nombre AS creador,
    u.pais AS creador_pais,
    -- Contar participantes
    (SELECT COUNT(*) FROM evento_participantes ep WHERE ep.evento_id = e.evento_id) AS participantes
FROM eventos e
LEFT JOIN subcategorias_actividades s ON e.subcategoria_id = s.subcategoria_id
LEFT JOIN categorias_actividades c ON s.categoria_id = c.categoria_id
LEFT JOIN grupos g ON e.grupo_id = g.grupo_id
LEFT JOIN usuarios u ON g.creador_id = u.usuario_id;


-- Vista para aficiones de usuarios
CREATE VIEW vista_usuario_aficiones AS
SELECT 
    u.usuario_id,
    u.nombre, 
    u.apellidos,
    GROUP_CONCAT(a.nombre SEPARATOR ', ') AS aficiones
FROM usuarios u
LEFT JOIN usuario_aficion ua ON u.usuario_id = ua.usuario_id
LEFT JOIN aficiones a ON ua.aficion_id = a.aficion_id
GROUP BY u.usuario_id;

```
**002-diagrama de la base de datos.json**
```json
{
  "formas": [
    {
      "id": "forma-2",
      "tipo": "rectangle",
      "left": "236.531px",
      "top": "175.688px",
      "width": "",
      "height": "",
      "texto": "Controles[PHP+PY]"
    },
    {
      "id": "forma-3",
      "tipo": "rectangle",
      "left": "455.587px",
      "top": "249.893px",
      "width": "",
      "height": "",
      "texto": "BBDD[MySQL]"
    },
    {
      "id": "forma-5",
      "tipo": "rectangle",
      "left": "657.79px",
      "top": "251.125px",
      "width": "",
      "height": "",
      "texto": "Vistas"
    },
    {
      "id": "forma-6",
      "tipo": "text",
      "left": "792.484px",
      "top": "259.002px",
      "width": "",
      "height": "",
      "texto": "vista_grupo_con_miembrosvista_eventos_proximosvista_usuario_aficiones"
    },
    {
      "id": "forma-7",
      "tipo": "rectangle",
      "left": "659.25px",
      "top": "207.547px",
      "width": "",
      "height": "",
      "texto": "Indices"
    },
    {
      "id": "forma-15",
      "tipo": "entity",
      "left": "1px",
      "top": "-4px",
      "width": "",
      "height": "",
      "entityName": "UI[HTML+CSS]",
      "properties": [
        {
          "id": "prop-1",
          "name": "Home"
        },
        {
          "id": "prop-2",
          "name": "Actividades"
        },
        {
          "id": "prop-3",
          "name": "Configuraciones"
        },
        {
          "id": "prop-4",
          "name": "Notificaciones"
        },
        {
          "id": "prop-5",
          "name": "Perfil"
        },
        {
          "id": "prop-69",
          "name": "atributo"
        }
      ]
    },
    {
      "id": "forma-22",
      "tipo": "entity",
      "left": "343.234px",
      "top": "382.5px",
      "width": "",
      "height": "",
      "entityName": "usuarios",
      "properties": [
        {
          "id": "prop-11",
          "name": "usuario_id"
        },
        {
          "id": "prop-20",
          "name": "nombre"
        },
        {
          "id": "prop-21",
          "name": "apellidos"
        },
        {
          "id": "prop-22",
          "name": "telefono"
        },
        {
          "id": "prop-23",
          "name": "direccion"
        },
        {
          "id": "prop-24",
          "name": "correo_electronico"
        },
        {
          "id": "prop-25",
          "name": "pais"
        },
        {
          "id": "prop-26",
          "name": "fecha_registro"
        }
      ]
    },
    {
      "id": "forma-23",
      "tipo": "entity",
      "left": "286.297px",
      "top": "837.031px",
      "width": "",
      "height": "",
      "entityName": "grupo_subcategorias",
      "properties": [
        {
          "id": "prop-12",
          "name": "grupo_id"
        },
        {
          "id": "prop-52",
          "name": "subcategoria_id"
        },
        {
          "id": "prop-53",
          "name": "atributo"
        },
        {
          "id": "prop-54",
          "name": "atributo"
        }
      ]
    },
    {
      "id": "forma-24",
      "tipo": "entity",
      "left": "523.922px",
      "top": "481.875px",
      "width": "",
      "height": "",
      "entityName": "evento_participantes",
      "properties": [
        {
          "id": "prop-13",
          "name": "evento_id"
        },
        {
          "id": "prop-62",
          "name": "usuario_id"
        },
        {
          "id": "prop-63",
          "name": "atributo"
        },
        {
          "id": "prop-64",
          "name": "atributo"
        }
      ]
    },
    {
      "id": "forma-25",
      "tipo": "entity",
      "left": "522.641px",
      "top": "630.031px",
      "width": "",
      "height": "",
      "entityName": "eventos",
      "properties": [
        {
          "id": "prop-14",
          "name": "evento_id"
        },
        {
          "id": "prop-55",
          "name": "grupo_id"
        },
        {
          "id": "prop-56",
          "name": "subcategoria_id"
        },
        {
          "id": "prop-57",
          "name": "titulo"
        },
        {
          "id": "prop-58",
          "name": "fecha_hora"
        },
        {
          "id": "prop-59",
          "name": "lugar"
        },
        {
          "id": "prop-60",
          "name": "FK grupo_id references grupos(id)"
        },
        {
          "id": "prop-61",
          "name": "atributo"
        }
      ]
    },
    {
      "id": "forma-27",
      "tipo": "entity",
      "left": "776.527px",
      "top": "353.81px",
      "width": "",
      "height": "",
      "entityName": "aficiones",
      "properties": [
        {
          "id": "prop-16",
          "name": "aficion_id"
        },
        {
          "id": "prop-39",
          "name": "nombre (NOT NULL)"
        },
        {
          "id": "prop-40",
          "name": "categoria"
        }
      ]
    },
    {
      "id": "forma-28",
      "tipo": "entity",
      "left": "523.641px",
      "top": "330.094px",
      "width": "",
      "height": "",
      "entityName": "usuario_aficion",
      "properties": [
        {
          "id": "prop-17",
          "name": "usuario_id"
        },
        {
          "id": "prop-41",
          "name": "aficion_id"
        },
        {
          "id": "prop-50",
          "name": "atributo"
        },
        {
          "id": "prop-51",
          "name": "atributo"
        }
      ]
    },
    {
      "id": "forma-29",
      "tipo": "entity",
      "left": "671.094px",
      "top": "876.828px",
      "width": "",
      "height": "",
      "entityName": "categorias_actividades",
      "properties": [
        {
          "id": "prop-18",
          "name": "categoria_id"
        },
        {
          "id": "prop-33",
          "name": "nombre (NOT NULL)"
        },
        {
          "id": "prop-34",
          "name": "descripcion"
        }
      ]
    },
    {
      "id": "forma-30",
      "tipo": "entity",
      "left": "337px",
      "top": "621.25px",
      "width": "",
      "height": "",
      "entityName": "grupos",
      "properties": [
        {
          "id": "prop-19",
          "name": "grupo_id"
        },
        {
          "id": "prop-27",
          "name": "nombre"
        },
        {
          "id": "prop-28",
          "name": "descripcion"
        },
        {
          "id": "prop-29",
          "name": "creador_id"
        },
        {
          "id": "prop-30",
          "name": "fecha_creacion"
        },
        {
          "id": "prop-31",
          "name": "max_miembros (50)"
        },
        {
          "id": "prop-32",
          "name": "atributo"
        }
      ]
    },
    {
      "id": "forma-32",
      "tipo": "entity",
      "left": "165.437px",
      "top": "521.016px",
      "width": "",
      "height": "",
      "entityName": "usuario_grupo",
      "properties": [
        {
          "id": "prop-46",
          "name": "usuario_id"
        },
        {
          "id": "prop-47",
          "name": "grupo_id"
        },
        {
          "id": "prop-48",
          "name": "atributo"
        },
        {
          "id": "prop-49",
          "name": "atributo"
        }
      ]
    },
    {
      "id": "forma-33",
      "tipo": "entity",
      "left": "468.781px",
      "top": "876.281px",
      "width": "",
      "height": "",
      "entityName": "subcategorias_actividades",
      "properties": [
        {
          "id": "prop-65",
          "name": "subcategoria_id"
        },
        {
          "id": "prop-66",
          "name": "categoria_id"
        },
        {
          "id": "prop-67",
          "name": "nombre"
        },
        {
          "id": "prop-68",
          "name": "descripcion"
        }
      ]
    },
    {
      "id": "forma-36",
      "tipo": "text",
      "left": "277.953px",
      "top": "151.906px",
      "width": "",
      "height": "",
      "texto": "Conexion"
    },
    {
      "id": "forma-37",
      "tipo": "rectangle",
      "left": "10.4375px",
      "top": "340.641px",
      "width": "",
      "height": "",
      "texto": "admin.php"
    },
    {
      "id": "forma-38",
      "tipo": "rectangle",
      "left": "26.6875px",
      "top": "236.906px",
      "width": "",
      "height": "",
      "texto": "usuario.php"
    },
    {
      "id": "forma-39",
      "tipo": "rectangle",
      "left": "347.172px",
      "top": "298.641px",
      "width": "",
      "height": "",
      "texto": "host.php"
    },
    {
      "id": "forma-40",
      "tipo": "rectangle",
      "left": "170.438px",
      "top": "308.141px",
      "width": "",
      "height": "",
      "texto": "Crear"
    },
    {
      "id": "forma-41",
      "tipo": "rectangle",
      "left": "155.438px",
      "top": "253.141px",
      "width": "",
      "height": "",
      "texto": "Leer"
    },
    {
      "id": "forma-43",
      "tipo": "rectangle",
      "left": "162.938px",
      "top": "418.141px",
      "width": "",
      "height": "",
      "texto": "Eliminar"
    },
    {
      "id": "forma-44",
      "tipo": "rectangle",
      "left": "170.438px",
      "top": "356.891px",
      "width": "",
      "height": "",
      "texto": "Actualizar"
    }
  ],
  "flechas": [
    {
      "desde": {
        "shapeId": "forma-2",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-3",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-3",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-7",
        "propId": null,
        "side": null
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-3",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-5",
        "propId": null,
        "side": null
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-2",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-15",
        "propId": null,
        "side": null
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-22",
        "propId": "prop-11",
        "side": "right"
      },
      "hasta": {
        "shapeId": "forma-30",
        "propId": "prop-29",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-22",
        "propId": "prop-11",
        "side": "right"
      },
      "hasta": {
        "shapeId": "forma-24",
        "propId": "prop-62",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-25",
        "propId": "prop-14",
        "side": "right"
      },
      "hasta": {
        "shapeId": "forma-24",
        "propId": "prop-13",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-22",
        "propId": "prop-11",
        "side": "right"
      },
      "hasta": {
        "shapeId": "forma-28",
        "propId": "prop-17",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-27",
        "propId": "prop-16",
        "side": "left"
      },
      "hasta": {
        "shapeId": "forma-28",
        "propId": "prop-41",
        "side": "right"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-22",
        "propId": "prop-11",
        "side": "left"
      },
      "hasta": {
        "shapeId": "forma-32",
        "propId": "prop-46",
        "side": "right"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-30",
        "propId": "prop-19",
        "side": "left"
      },
      "hasta": {
        "shapeId": "forma-32",
        "propId": "prop-47",
        "side": "right"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-29",
        "propId": "prop-18",
        "side": "left"
      },
      "hasta": {
        "shapeId": "forma-33",
        "propId": "prop-66",
        "side": "right"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-30",
        "propId": "prop-19",
        "side": "left"
      },
      "hasta": {
        "shapeId": "forma-23",
        "propId": "prop-12",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-33",
        "propId": "prop-65",
        "side": "left"
      },
      "hasta": {
        "shapeId": "forma-23",
        "propId": "prop-52",
        "side": "right"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-30",
        "propId": "prop-19",
        "side": "right"
      },
      "hasta": {
        "shapeId": "forma-25",
        "propId": "prop-55",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-38",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-15",
        "propId": null,
        "side": null
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-41",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-38",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-41",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-39",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-40",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-39",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-43",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-37",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-44",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-37",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-37",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-40",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-37",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-41",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    }
  ]
}
```
**002-subcategorias_actividades.sql**
```sql
-- SUBCATEGORÃAS DE ACTIVIDADES
-- Deporte (categorÃ­a_id = 1)
(1, 'FÃºtbol'),
(2, 'PÃ¡del'),
(3, 'Baloncesto'),
(4, 'Tenis'),
(5, 'NataciÃ³n'),
(6, 'Running'),
(7, 'Ciclismo'),
(8, 'Yoga'),

-- RelajaciÃ³n (categorÃ­a_id = 2)
(9, 'CafÃ©'),
(10, 'Charla'),
(11, 'Cena'),
(12, 'Paseo'),
(13, 'Cine'),
(14, 'Juegos de mesa'),
(15, 'Picnic'),

-- MÃºsica (categorÃ­a_id = 3)
(16, 'Conciertos'),
(17, 'Karaoke'),
(18, 'Club de mÃºsica'),
(19, 'Taller de instrumentos'),
(20, 'Festivales'),

-- EducaciÃ³n (categorÃ­a_id = 4)
(21, 'Idiomas'),
(22, 'Artes'),
(23, 'Danza'),
(24, 'Cocina'),
(25, 'FotografÃ­a'),
(26, 'Literatura'),
(27, 'Teatro');

```
### 001-Controladores
**000-primera prueba de conexion.php**
```php
<?php
 $host = "localhost";
 $user = "usuario-weplan";
 $pass = "Usuarioweplan123$";
 $db   = "WePlanDB";

 $conexion = new mysqli($host, $user, $pass, $db);
 $sql = "SELECT * FROM usuarios";
 $resultado = $conexion->query($sql);

 while ($fila = $resultado->fetch_assoc()) {
   echo '
     <article>
      <!-- Orden de las filas: nombre,apellidos,telefono,direccion,correo_electronico,pais,contrasenya,fecha_registro -->
      <h2>'.$fila['correo_electronico'].'</h2>
      <h2>'.$fila['contrasenya'].'</h2>
      <br>
      <h3>'.$fila['nombre'].'</h3>
      <p>'.$fila['apellidos'].'</p>
      <p>'.$fila['telefono'].'</p>
      <p>'.$fila['direccion'].'</p>
      <p>'.$fila['correo_electronico'].'</p>
      <p>'.$fila['pais'].'</p>
      <time>'.$fila['fecha_registro'].'</time>
     </article>
   ';
 }
 
 $conexion->close();
?>

```
**001-login.php**
```php
<?php session_start(); ?>
<!doctype html>
<html lang="es">
  <head>
    <title>WePlan - Login</title>
    <meta charset="utf-8">
    <style>
     body,html{padding:0px;margin:0px;width:100%;height:100%;}
     body{display:flex;justify-content:center;align-items:center;text-align:center;background:BlanchedAlmond;}
     form{display:flex;flex-direction:column;width:200px;height:200px;background:#FFFFFD;padding:20px;align-items:center;gap:10px;justify-content:center;}
     input{width:100%;padding:15px;box-sizing:border-box;border:1 px solid lightgrey;}
     div{ font-size:13px;color:black;}
      #fake-footer{font-weight:bold;font-size:20px;}
      .error-message{font-weight:bold;font-size:18px;}
    </style>
  </head>
  <body>
    <main>  
      <div id="fake-header">
        <h1>PÃ¡gina de Login v0.1 ğŸ”</h1>
      </div>
      <form action="003-procesa_login.php" method="POST">
        <input type="text" name="correo_electronico" placeholder="Correo electrÃ³nico">
        <input type="password" name="contrasenya" placeholder="ContraseÃ±a">
        <input type="submit">
      </form>
      <?php
      // Mostrar error de sesiÃ³n si existe
      if (isset($_SESSION['error'])) {
          echo '<div class="error-message">';
          echo htmlspecialchars($_SESSION['error']);
          echo '</div>';
          unset($_SESSION['error']); // Limpiar despuÃ©s de mostrar
      }
      ?>        
      <div id="form-content">
        <p>ğŸ“‹ Requisitos:</p>
        <p>â€¢ Usuario: 5-20 caracteres</p>
        <p>â€¢ ContraseÃ±a: 8-16 caracteres</p>        
      </div>
      <div id="fake-footer">
       (c) Ayman x Bryan 2025      
      </div>
    </main>
  </body>
</html>

<?php
        // Mostrar estado de validaciÃ³n del correo previo
        if (!empty($correo_previo)) {
            $color_correo = validarCorreoEnTiempoReal($correo_previo);
            $clase_correo = ($color_correo === 'green') ? 'valido' : 'invalido';
            
            echo '<p class="' . $clase_correo . '">';
            echo 'Correo: ' . strlen(trim($correo_previo)) . '/20 caracteres';
            
            if (!filter_var($correo_previo, FILTER_VALIDATE_EMAIL)) {
                echo ' (Formato invÃ¡lido)';
            }
            echo '</p>';
        }
?>

```
**002-procesa_login.php**
```php
<?php
  session_start();
  $correo = trim($_POST['correo_electronico'] ?? '');
  $pass = $_POST['contrasenya'] ?? '';
  switch(true) {
      case (strlen($correo) < 5):
          $_SESSION['error'] = "El correo debe tener al menos 5 caracteres";      
          header("Location: ./004-login.php?error=correo_corto");
          exit(); 
          
      case (strlen($correo) > 25):
          $_SESSION['error'] = "El correo debe tener menos que 25 caracteres";       
          header("Location: ./004-login.php?error=correo_largo");
          exit();
          
      case (strlen($pass) < 8):
          $_SESSION['error'] = "La contraseÃ±a debe tener al menos 8 caracteres";       
          header("Location: ./004-login.php?error=pass_corto");
          exit();
          
      case (strlen($pass) > 16):
          $_SESSION['error'] = "La contraseÃ±a debe tener menor que 16 caracteres";       
          header("Location: ./004-login.php?error=pass_largo");
          exit();
  }
  
  $host = "localhost";
  $user = "usuario-weplan";
  $pass = "Usuarioweplan123$";
  $db   = "WePlanDB";
  $conexion = new mysqli($host, $user, $pass, $db);
  
	// Comprobacion exitosa pero mirando los datos que vienen del formulario en POST
  $sql = "
  	SELECT * FROM usuarios WHERE
    correo_electronico = '".$_POST['correo_electronico']."'
    AND contrasenya = '".$_POST['contrasenya']."';
  ";
	
  $resultado = $conexion->query($sql);

  if ($fila = $resultado->fetch_assoc()) {	// Si es cierto que hay un resultado
    $tipo = strtolower(trim($fila['tipo_de_usuario']));
    $_SESSION['usuario'] = 'si'; 
    $_SESSION['tipo_usuario'] = $tipo;
    $_SESSION['correo_usuario'] = $_POST['correo_electronico'];
    
    switch($tipo){      // Dependiendo del tipo de usuario es redigirido a un sitio diferente
      case 'admin':
          header("Location: ./tipo_de_usuario/admin.php");
          break;
      case 'host':
          header("Location: ./tipo_de_usuario/host.php");
          break;
      case 'usuario':
          header("Location: ./tipo_de_usuario/usuario.php");
          break; 
      default:
          header("Location: 005-exito.php");
          break;                             
    }
    exit();
  }else{																		// Si no hay ningun resultado
  	header("Location: ./004-login.php");					// En ese caso volvemos al login
  	exit();
  }

  $conexion->close();
  
?>

```
**003-logout.php**
```php
<?php
session_start();

// Guardar informaciÃ³n del usuario para mostrar mensaje
$nombre = isset($_SESSION['nombre']) ? $_SESSION['nombre'] : '';

// Destruir sesiÃ³n
session_unset();
session_destroy();

// Redirigir al login con mensaje
header("Location: 004-login.php?mensaje='Has salido con exito'");
exit();
?>

```
#### controladores
**Controlador_Actividad.php**
```php

```
**Controlador_Auth.php**
```php

```
**Controlador_Grupo.php**
```php

```
**Controlador_Usuario.php**
```php

```
### 002-PHP
**001-guia.md**
```markdown
Hay una jeraquÃ­a de usuarios:
 -Usuario (Puede leer y usar vistas)
 -Host    (Puede leer-crear y usar vistas. Para eliminar cosas, debe contact al administrador)
 -Admin   (Puede leer-crear-eliminar-actualizar la base de datos y usar vistas)
 
Todos los usuarios pasan por un login.html (hoy 24-12-2025, esa pagina es 004-login.html) que le rediriges a sus sitios correspondientes:
 -Usuario (redirigido a home.php)
 -Host (redirigo a home.php donde tendrÃ¡ la posibilidad de ver una opciÃ³n extra en el navegador a aÃ±adir en el futuro)
 -Admin (redirigido a admin.php donde le aparece un navegador lateral que contiene las cabeceras de las tablas, un boton de LECTURA y un boton de LOG-OUT
 -       tambien tiene a mano derecha el contenido delas tablas que aparecera SI le da click a unas de las cabeceras)
         



```
**003-procesa_login.php**
```php
<?php
  session_start();
  $correo = trim($_POST['correo_electronico'] ?? '');
  $pass = $_POST['contrasenya'] ?? '';
  
  $correo_min = 5;
  $correo_max = 30;
  $pass_min = 8;
  $pass_max = 16;
  switch(true) {
      case (strlen($correo) < $correo_min):
          $_SESSION['error'] = "El correo debe tener al menos $correo_min caracteres";      
          header("Location: ./004-login.php?error=correo_corto");
          exit(); 
          
      case (strlen($correo) > $correo_max):
          $_SESSION['error'] = "El correo debe tener menos que $correo_max caracteres";       
          header("Location: ./004-login.php?error=correo_largo");
          exit();
          
      case (strlen($pass) < $pass_min):
          $_SESSION['error'] = "La contraseÃ±a debe tener al menos $pass_min caracteres";       
          header("Location: ./004-login.php?error=pass_corto");
          exit();
          
      case (strlen($pass) > $pass_max):
          $_SESSION['error'] = "La contraseÃ±a debe tener menor que $pass_max caracteres";       
          header("Location: ./004-login.php?error=pass_largo");
          exit();       
  }
  
  $host = "localhost";$user = "usuario-weplan";$pass = "Usuarioweplan123$";$db   = "WePlanDB";
  $conexion = new mysqli($host, $user, $pass, $db);
  
	// Comprobacion exitosa mientras que se mira los datos que vienen del 004-login.php en POST
  $sql = " SELECT * FROM usuarios WHERE
    correo_electronico = '".$_POST['correo_electronico']."'
    AND contrasenya = '".$_POST['contrasenya']."';
  ";
	
  $resultado = $conexion->query($sql);

  if ($fila = $resultado->fetch_assoc()) {	 // Si es cierto que hay un resultado
    $tipo = strtolower(trim($fila['tipo_de_usuario']));
    $_SESSION['usuario'] = 'si'; 
    $_SESSION['tipo_usuario'] = $tipo;
    $_SESSION['correo_usuario'] = $_POST['correo_electronico'];
    $_SESSION['usuario_id'] = $fila['usuario_id'];
    $_SESSION['nombre'] = $fila['nombre'];    
    
    switch($tipo){                          // Dependiendo del tipo de usuario es redigirido a un sitio diferente
      case 'admin':
          header("Location: ./tipo_de_usuario/admin.php");
          break;
      case 'host':
          header("Location: ./tipo_de_usuario/host.php");
          break;
      case 'usuario':
          header("Location: ./tipo_de_usuario/usuario.php");
          break; 
      default:
          header("Location: 005-exito.php");
          break;                             
    }
    exit();
  }else{																		                  // Si no hay ningun resultado, que muestre que ha habido un error con el correo o la contraseÃ±a (porque lo compara contra la base de datos). ADEMÃS de que volvemos a login
   $_SESSION['error'] = "Correo o contraseÃ±a incorrectos";
  	header("Location: ./004-login.php");					
  	exit();
  }

  $conexion->close();
?>

```
**004-login.php**
```php
<?php session_start(); ?>
<!doctype html>
<html lang="es">
  <head>
    <title>WePlan - Login</title>
    <meta charset="utf-8">
    <style>
     body,html{padding:0px;margin:0px;width:100%;height:100%;}
     body{display:flex;justify-content:center;align-items:center;text-align:center;background:BlanchedAlmond;}
     form{display:flex;flex-direction:column;width:200px;height:200px;background:#FFFFFD;padding:20px;align-items:center;gap:10px;justify-content:center;}
     input{width:100%;padding:15px;box-sizing:border-box;border:1 px solid lightgrey;}
     div{ font-size:13px;color:black;}
      #fake-footer{font-weight:bold;font-size:20px;}
      .error-message{font-weight:bold;font-size:18px;}
    </style>
  </head>
  <body>
    <main>  
      <div id="fake-header">
        <h1>PÃ¡gina de Login v0.1 ğŸ”</h1>
      </div>
      <form action="003-procesa_login.php" method="POST">
        <input type="text" name="correo_electronico" placeholder="Correo electrÃ³nico">
        <input type="password" name="contrasenya" placeholder="ContraseÃ±a">
        <input type="submit">
      </form>
      <?php
      // Mostrar error de sesiÃ³n si existe
      if (isset($_SESSION['error'])) {
          echo '<div class="error-message">';
          echo htmlspecialchars($_SESSION['error']);
          echo '</div>';
          unset($_SESSION['error']); // Limpiar despuÃ©s de mostrar
      }
      ?>        
      <div id="form-content">
        <p>ğŸ“‹ Requisitos:</p>
        <p>â€¢ Usuario: 5-20 caracteres</p>
        <p>â€¢ ContraseÃ±a: 8-16 caracteres</p>        
      </div>
      <div id="fake-footer">
       (c) Ayman x Bryan 2025      
      </div>
    </main>
  </body>
</html>

<?php
        // Mostrar estado de validaciÃ³n del correo previo
        if (!empty($correo_previo)) {
            $color_correo = validarCorreoEnTiempoReal($correo_previo);
            $clase_correo = ($color_correo === 'green') ? 'valido' : 'invalido';
            
            echo '<p class="' . $clase_correo . '">';
            echo 'Correo: ' . strlen(trim($correo_previo)) . '/20 caracteres';
            
            if (!filter_var($correo_previo, FILTER_VALIDATE_EMAIL)) {
                echo ' (Formato invÃ¡lido)';
            }
            echo '</p>';
        }
?>

```
**005-exito.php**
```php
<?php 
 session_start();
  if(!isset($_SESSION['usuario'])){
     die("Te has colado, pero no te has colado exitosamente");
  }
?>

<html lang="es">
<body>
 <main>
  <p>Si estÃ¡s viendo, eso significa que tu correo y contraseÃ±a son correctos pero tu tipo de usuario no esta definido
  <br><b>Contacta a un administrador inmediatamente, no dudes en escribirnos!</b>
  </p>
 </main>
</body>
</html>


```
**006-logout.php**
```php
<?php
session_start();

// Guardar informaciÃ³n del usuario para mostrar mensaje
$nombre = isset($_SESSION['nombre']) ? $_SESSION['nombre'] : '';

// Destruir sesiÃ³n
session_unset();
session_destroy();

// Redirigir al login con mensaje
header("Location: 004-login.php?mensaje='Has salido con exito'");
exit();
?>

```
#### tipo_de_usuario
**admin.php**
```php
<!doctype html>
<html lang="es">
	<head>
  	<style>
    	html,body{width:100%;height:100%;padding:0px;margin:0px;background:Aliceblue;}
    	body{display:flex;}
    	nav{background:BurlyWood;color:black;padding:20px;gap:20px;display:flex;flex:1;flex-direction:column;height:max-content;}
    	nav a{background:#FFFFFF;color:black;text-decoration:none;padding:10px;}
    	a#boton-read,a#boton-logout{padding:14px;margin:8px;} 
    	
    	main{padding:20px;flex:4;}
     table td{padding:10px;}
     table{border:2px solid #39D0BD;width:100%;}   
     th{background:BurlyWood;color:black;padding:10px;}
     
     #crear{	position:absolute;  bottom:20px;  right:20px;  background:burlywood;  color:black; 
	      height:40px; border-radius:40px;
       text-align:center;  font-size:30px;  line-height:40px;  text-decoration:none;  font-weight:bold;}
     .eliminar,.editar{	height:20px;  background:BlanchedAlmond;  border-radius:30px;  color:black;
       line-height:20px;  text-decoration:none; text-align:center;  display:block;  }  
     #botones{border-radius:30px;display:flex;align-items:center;background:BlanchedAlmond;}
    </style>
  </head>
  <body>
    <?php
    //Verificador de Usuarios ///////////////////
    session_start();
    if (!isset($_SESSION['usuario']) || $_SESSION['usuario'] !== 'si') {
    header("Location: ../004-login.php");
    exit();
    }

    // Verificar 2: Â¿Es admin?
    if (!isset($_SESSION['tipo_usuario']) || $_SESSION['tipo_usuario'] !== 'admin') {
        // No es admin - mostrar error
        echo '<h1>Acceso Denegado</h1>';
        echo '<p>Solo los administradores pueden acceder a esta pÃ¡gina.</p>';
        echo '<a href="../004-login.php">Volver al inicio</a>';
        exit();
    }
    ?>
    
    <?php
        $host = "localhost";$user = "usuario-weplan";$pass = "Usuarioweplan123$";$db   = "WePlanDB";$conexion = new mysqli($host, $user, $pass, $db);
    ?>

    <nav>
     <div id="botones">
      <h2>admin.php </h2>
      <a href="./admin/read/leer.php" id="boton-read">Lectura</a>                                 <!-- accion leer (READ) -->
      <a href="../006-logout.php" id="boton-logout">Logout </a>
     </div>
    <?php
      // Listado de las tablas de la base de datos- WePlanDB
        $resultado = $conexion->query("SHOW TABLES;");
        while ($fila = $resultado->fetch_assoc()) {
          echo '<a href="?tabla='.$fila['Tables_in_'.$db].'">'.$fila['Tables_in_'.$db].'</a>';
        }
    ?>
    </nav>
    <main>
   
      <?php
      // Verificar si se ha seleccionado una tabla para luego mostrar sus cabeceras
      if (isset($_GET['tabla']) && !empty($_GET['tabla'])) {
         $tabla = $conexion->real_escape_string($_GET['tabla']);

         $resultado = $conexion->query("SELECT * FROM ".$_GET['tabla']." LIMIT 1;");    /// Solo quiero un ELEMENTO !!!//////
         if ($resultado && $resultado->num_rows > 0) {
           echo "<table>";                         // Inicio de tabla
           echo "<tr>";
           $fila = $resultado->fetch_assoc();
           foreach($fila as $clave=>$valor){
             echo "<th>".$clave."</th>";
           }
           echo "<th>Editar</th><th>Eliminar</th>";
           echo "</tr>";
          }
       // Y LUEGO EL RESTO DE DATOS ////////////
         $resultado = $conexion->query("
           SELECT * FROM ".$_GET['tabla'].";
         ");
         while ($fila = $resultado->fetch_assoc()) {
           echo "<tr>";

           foreach($fila as $clave=>$valor){
             echo "<td>".htmlspecialchars($valor)."</td>";
           }
           
           $id = reset($fila);
           echo "<td><a href='?tabla=".urlencode($tabla)."&accion=editar&id=".urlencode($id)."' class='editar' title='Cuidado que vas a editar un dato'>ğŸ–‹</a></td>";
           echo "<td><a href='?tabla=".urlencode($tabla)."&accion=eliminar&id=".urlencode($id)."' class='eliminar' title='Cuidado EXTREMO que vas a ELIMINAR un dato'>âœ–</a></td>";            
           echo "</tr>";
          }
          echo "</table>";                          // Fin de tabla
      } 
      ?>
      
     	<?php
      	                                            // Redirecionador de enlaces
      	if(isset($_GET['accion'])){
      	  $tabla_actual = isset($_GET['tabla']) ? $_GET['tabla']: '';
      	  
        	if($_GET['accion'] == "crear"){           // formulario crear (CREATE)
        	 if(!empty($tabla_actual)){
          	 include "./admin/create/formulario.php";
          	} else {
          	 echo "<p>Error, se debe seleccionar una tabla para CREAR </p>";
          	}
          	
          }else if($_GET['accion'] == "eliminar"){ // acciÃ³n eliminar (DELETE)
           if(!empty($tabla_actual) && isset($_GET['id'])){
           	include "./admin/delete/eliminar.php";	
           } else {
          	 echo "<p>Error, se debe seleccionar una tabla para ELIMINAR </p>";           
           }
           
          } else if($_GET['accion'] == "editar"){   // acciÃ³n actualizar (UPDATE)
           if(!empty($tabla_actual) && isset($_GET['id'])){
           	include "./admin/update/actualizar.php";	
           } else {
          	 echo "<p>Error, se debe seleccionar una tabla para ACTUALIZAR </p>";           
           }
          }                                         // Fin del condicional
          
        }                                           // Fin de conseguir acciones
        ?>
        
    <?php
     //  Muestra el boton si se ha "presionado" una tabla
     if(isset($_GET['tabla']) && !empty($_GET['tabla'])) {
        echo '<a href="?tabla='.urlencode($_GET['tabla']).'&accion=crear" id="crear">Crear</a>';
     }
    ?>
    </main>
  </body>
</html>

```
**host.php**
```php
test

```
**usuario.php**
```php
<?php
session_start();
$conn = new mysqli('localhost', 'usuario-weplan', 'Usuarioweplan123$', 'WePlanDB');
                                      // Verificador de log-in de usuario
if (!isset($_SESSION['usuario_id'])) {
                                      // Redirigir al login si no hay sesiÃ³n activa
    header("Location: ../004-login.php"); // Ajusta la ruta CUANDO SE CAMBIE DE DIRECTORIO
    exit();}


//Obtenemos datos del usuario dentro de la tabla "usuario"
$usuario_id = intval($_SESSION['usuario_id']);
$sql_usuario = "SELECT nombre, pais FROM usuarios WHERE usuario_id = $usuario_id";
$resultado_usuario = $conn->query($sql_usuario);

if ($resultado_usuario->num_rows > 0) {
    $usuario = $resultado_usuario->fetch_assoc();
    $nombre = $usuario['nombre'];
    $pais = $usuario['pais'];
} else {
    $nombre = "Usuario";
    $pais = "Desconocido";
}

//Obtenemos datos de los grupos dentro de la tabla "grupos" para mostraserlo al usuario
$sql_grupos = "
    SELECT g.grupo_id, g.nombre AS grupo_nombre, g.descripcion, 
           COUNT(ug.usuario_id) AS miembros
    FROM grupos g
    INNER JOIN usuario_grupo ug ON g.grupo_id = ug.grupo_id
    WHERE ug.usuario_id = $usuario_id
    GROUP BY g.grupo_id
    LIMIT 5
";
$resultado_grupos = $conn->query($sql_grupos);

//Obtenemos datos de los grupos dentro de la tabla "eventos" para mostraserlo al usuario

$sql_eventos = "
    SELECT 
        e.evento_id,
        e.titulo,
        e.fecha_hora,
        e.lugar,
        s.nombre AS actividad,
        s.descripcion AS descripcion_actividad,
        g.nombre AS grupo_nombre,
        u.nombre AS creador
    FROM eventos e
    LEFT JOIN subcategorias_actividades s ON e.subcategoria_id = s.subcategoria_id
    LEFT JOIN grupos g ON e.grupo_id = g.grupo_id
    LEFT JOIN usuarios u ON g.creador_id = u.usuario_id
    WHERE 1=1
";

$sql_eventos .= " ORDER BY e.fecha_hora ASC LIMIT 5";

$resultado_eventos = $conn->query($sql_eventos);
?>

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WePlan</title>
    <link rel="icon" type="image/png" href="https://github.com/BryanGF-hg/WePlan/blob/main/Front-end/Pagina%20de%20inicio/fotos/favicon-weplan.png?raw=true">
    
    <link rel="stylesheet" type="text/css" href="./usuario/estilos.css">
</head>
<body>
 <nav>
     <div class="div2">
      <img src="https://github.com/BryanGF-hg/WePlan/blob/main/Front-end/Pagina%20de%20inicio/fotos/weplan-high-resolution-logo-grayscale.png?raw=true" alt="WePlan Logo">
      
      <div class="search-container">
             <input type="text" class="search-box" placeholder="Buscar...">
      </div>
      <!--- A mejorar despues de mejora v0.1.3------->
      
            <div class="bottons-container">
             <button class="boton">
                 <a class="icono" href="/home.php">ğŸ </a>
             </button>
                 <! ----------------------------------- CAMBIAR CUANDO SE COLOQUE EL ARCHIVO EN OTRO LADO ---------------------------------->
             <button class="boton">
                 <a class="icono" href="/actividades.php">ğŸ§—</a>
             </button>
                 <! ----------------------------------- CAMBIAR CUANDO SE COLOQUE EL ARCHIVO EN OTRO LADO ---------------------------------->            
             <button class="boton">
                 <a class="icono" href="/notificaciones.php">ğŸ””</a>
             </button>
                 <! ----------------------------------- CAMBIAR CUANDO SE COLOQUE EL ARCHIVO EN OTRO LADO ---------------------------------->
              <button class="boton-usuario">
                 <a style="text-decoration:none; color:inherit;" href="usuario.php">

                         <?php                                               // Mostrar primera letra del nombre en mayÃºscula
        echo strtoupper(substr($nombre, 0, 1)); ?>
                 </a>
              </button>
              <button class="boton">
               <a href="../006-logout.php" id="boton-logout">Logout </a>              
              </button>
                 <! ----------------------------------- CAMBIAR CUANDO SE COLOQUE EL ARCHIVO EN OTRO LADO ---------------------------------->              
             </div>
     </div>   
 </nav>
    <div class="parent">

        <div class="div4">
        <div class="titulo-inicio">INICIO</div>
        
        <div class="usuario-container">
            <div class="foto-usuario" id="fotoUsuario">
        <?php                                               // Mostrar primera letra del nombre en mayÃºscula
        echo strtoupper(substr($nombre, 0, 1)); ?>
            </div>
            
            <div class="nombre-usuario" id="nombreUsuario">
             <?php                                         // Mostrar nombre y paÃ­s
        echo htmlspecialchars($nombre) . " | " . htmlspecialchars($pais)
             ?>
            </div>
        </div>
        
    </div>
    <h3> Tus grupos</h3>
     <div class="actividades-container"> 
     <!------------------------------------------------------------------------------------------->
     <!------------------------ CONTENIDO PHP PARA GENERAR ACTIVIDADES DEL USUARIO --------------->
     <!------------------------------------------------------------------------------------------->
    <?php
    if ($resultado_grupos && $resultado_grupos->num_rows > 0) {
        // Array de imÃ¡genes por tipo de grupo (puedes personalizarlo)
        $imagenes_grupos = [
            'FÃºtbol' => 'https://github.com/BryanGF-hg/WePlan/blob/main/Front-end/Pagina%20de%20inicio/fotos/Football7Valencia.jpg?raw=true',
            'CafÃ©' => 'https://github.com/BryanGF-hg/WePlan/blob/main/Front-end/Pagina%20de%20inicio/fotos/coffee%20and%20chill.jpg?raw=true',
            'PÃ¡del' => 'https://github.com/BryanGF-hg/WePlan/blob/main/Front-end/Pagina%20de%20inicio/fotos/padel.jpg?raw=true',
            'Conciertos' => 'https://github.com/BryanGF-hg/WePlan/blob/main/Front-end/Pagina%20de%20inicio/fotos/concierto.jpg?raw=true',
            'Running' => 'https://github.com/BryanGF-hg/WePlan/blob/main/Front-end/Pagina%20de%20inicio/fotos/running.jpg?raw=true',
            'Idiomas' => 'https://github.com/BryanGF-hg/WePlan/blob/main/Front-end/Pagina%20de%20inicio/fotos/idiomas.jpg?raw=true'
        ];
        
        $default_image = 'https://github.com/BryanGF-hg/WePlan/blob/main/Front-end/Pagina%20de%20inicio/fotos/default-group.jpg?raw=true'; // Cambiar si queremos mas diseÃ±o visual
        
        while($grupo = $resultado_grupos->fetch_assoc()) {
            // Determinar imagen segÃºn el nombre del grupo
            $imagen = $default_image;
            foreach($imagenes_grupos as $key => $url) {
                if (stripos($grupo['grupo_nombre'], $key) !== false) {
                    $imagen = $url;
                    break;
                }
            }
            
            // Mostrar cada grupo
            echo '<div class="actividad">';
            echo '  <div class="imagen-actividad">';
            echo '    <img src="' . $imagen . '" alt="' . htmlspecialchars($grupo['grupo_nombre']) . '">';
            echo '  </div>';
            echo '  <div class="descripcion-actividad">';
            echo '    <h3>' . htmlspecialchars($grupo['grupo_nombre']) . '</h3>';
            echo '    <p>â­â­â­â­â­ 5.0</p>';
            echo '    <p>ğŸ“Œ ' . htmlspecialchars($pais) . '</p>';
            echo '    <p>ğŸ‘¥ ' . $grupo['miembros'] . ' Miembros - PÃºblico</p>';
            echo '  </div>';
            echo '</div>';
        }
    } else {
        echo '<p>No perteneces a ningÃºn grupo todavÃ­a.</p>';
    }
    ?> 
     </div>
        <!-- Div10 -  btn-grupo -->
     <div class="div10">
        <button class="btn-grupo"><img src="fotos/crear_grupo_emoji.png">Crear Nuevo Grupo</button>
    </div>
    <div>
    <h3> Tus actividades</h3>
     <div class="actividades-container"> 
        <?php
        if ($resultado_eventos && $resultado_eventos->num_rows > 0) {
            // Array de imÃ¡genes por tipo de actividad
            $imagenes_actividades = [
                'FÃºtbol' => 'https://github.com/BryanGF-hg/WePlan/blob/main/Front-end/Pagina%20de%20inicio/fotos/Football7Valencia.jpg?raw=true',
                'PÃ¡del' => 'https://images.unsplash.com/photo-1595435934247-5d33b7f92c70?w=400&h=300&fit=crop',
                'Running' => 'https://images.unsplash.com/photo-1552674605-db6ffd8facb5?w=400&h=300&fit=crop',
                'CafÃ©' => 'https://github.com/BryanGF-hg/WePlan/blob/main/Front-end/Pagina%20de%20inicio/fotos/coffee%20and%20chill.jpg?raw=true',
                'Concierto' => 'https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=300&fit=crop',
                'Idiomas' => 'https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=400&h=300&fit=crop',
                'Senderismo' => 'https://images.unsplash.com/photo-1540497077202-7c8a3999166f?w=400&h=300&fit=crop',
                'Yoga' => 'https://images.unsplash.com/photo-1562771379-eafdca7a02f8?w=400&h=300&fit=crop',
                'Cocina' => 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=300&fit=crop',
                'Bicicleta' => 'https://images.unsplash.com/photo-1536922246289-88c42f957773?w=400&h=300&fit=crop',
                'Pintura' => 'https://images.unsplash.com/photo-1518609878373-06d740f60d8b?w=400&h=300&fit=crop'
            ];
            
            $default_image = 'https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=400&h=300&fit=crop';
            
            while($evento = $resultado_eventos->fetch_assoc()) {
                // Determinar imagen segÃºn tipo de actividad
                $imagen = $default_image;
                $actividad_nombre = $evento['actividad'] ?? $evento['titulo'];
                
                foreach($imagenes_actividades as $palabra_clave => $url) {
                    if (stripos($actividad_nombre, $palabra_clave) !== false || 
                        stripos($evento['titulo'], $palabra_clave) !== false) {
                        $imagen = $url;
                        break;
                    }
                }
                
                // Formatear fecha
                $fecha_formateada = date('d/m/Y H:i', strtotime($evento['fecha_hora']));
                
                // Mostrar cada actividad
                echo '<div class="actividad">';
                echo '  <div class="imagen-actividad">';
                echo '    <img src="' . $imagen . '" alt="' . htmlspecialchars($evento['titulo']) . '">';
                echo '  </div>';
                echo '  <div class="descripcion-actividad">';
                echo '    <h3>' . htmlspecialchars($evento['titulo']) . '</h3>';
                
                if (!empty($evento['actividad'])) {
                    echo '    <p><strong>Tipo:</strong> ' . htmlspecialchars($evento['actividad']) . '</p>';                }
                
                if (!empty($evento['descripcion_actividad'])) {
                    echo '    <p>' . htmlspecialchars($evento['descripcion_actividad']) . '</p>';
                } else {
                    echo '    <p>Actividad organizada por el grupo.</p>';
                }
                
                echo '    <p><strong>ğŸ“… Fecha:</strong> ' . $fecha_formateada . '</p>';
                
                if (!empty($evento['lugar'])) {
                    echo '    <p><strong>ğŸ“ Lugar:</strong> ' . htmlspecialchars($evento['lugar']) . '</p>';                }
                
                if (!empty($evento['grupo_nombre'])) {
                    echo '    <p><strong>ğŸ‘¥ Grupo:</strong> ' . htmlspecialchars($evento['grupo_nombre']) . '</p>';                }
                
                echo '  </div>';
                echo '</div>';
            }
        } else {
            echo '<div class="sin-actividades">';
            echo '  <p>No tienes actividades prÃ³ximas.</p>';
            echo '  <p><a href="actividades.php">Explora actividades disponibles</a></p>';            // Cambiar mas tarde
            echo '</div>';
        }
        ?>
     </div>   
<?php $conn->close(); ?>    
</body>
</html>


```
##### admin
**001-admin BRYAN.php**
```php
<!doctype html>
<html lang="es">
	<head>
  	<style>
    	html,body{width:100%;height:100%;padding:0px;margin:0px;}
    	body{display:flex;}
    	nav{background:#FF511C;padding:20px;gap:20px;display:flex;flex:1;flex-direction:column;height:max-content;}
    	nav a{background:#FFFFFF;color:#39D0BD;text-decoration:none;padding:10px;}
    	main{padding:20px;flex:4;}
     table td{padding:10px;}
     table{border:2px solid #39D0BD;width:100%;}   
     th{background:#FF511C;color:white;padding:10px;}
     
     #crear{	position:absolute;  bottom:20px;  right:20px;  background:#39D0BD;  color:#FF511C; 
	      height:40px; border-radius:40px;
       text-align:center;  font-size:30px;  line-height:40px;  text-decoration:none;  font-weight:bold;}
     .eliminar,.editar{	height:20px;  background:#39D0BD;  border-radius:30px;  color:#FF511C;
       line-height:20px;  text-decoration:none; text-align:center;  display:block;  }  
     #botones{color:#FFEAD4;border-radius:30px;display:flex;align-items:center;background:#40e0d0;}
    </style>
  </head>
  <body>
    <?php
        $host = "localhost";$user = "usuario-weplan";$pass = "Usuarioweplan123$";$db   = "WePlanDB";$conexion = new mysqli($host, $user, $pass, $db);
    ?>

    <nav>
     <div id="botones">
      <h2>admin.php </h2>
      <a href="./admin/read/leer.php" id="read-btn">Lectura</a>                                 <!-- accion leer (READ) -->
      <a href="../006-logout.php" class="logout-btn" id="boton-logout">Cerrar SesiÃ³n</a>
     </div>
    <?php
      // Listado de las tablas de la base de datos- WePlanDB
        $resultado = $conexion->query("SHOW TABLES;");
        while ($fila = $resultado->fetch_assoc()) {
          echo '<a href="?tabla='.$fila['Tables_in_'.$db].'">'.$fila['Tables_in_'.$db].'</a>';
        }
    ?>
    </nav>
    <main>
   
      <?php
      // Verificar si se ha seleccionado una tabla para luego mostrar sus cabeceras
      if (isset($_GET['tabla']) && !empty($_GET['tabla'])) {
         $tabla = $conexion->real_escape_string($_GET['tabla']);

         $resultado = $conexion->query("SELECT * FROM ".$_GET['tabla']." LIMIT 1;");    /// Solo quiero un ELEMENTO !!!//////
         if ($resultado && $resultado->num_rows > 0) {
           echo "<table>";                         // Inicio de tabl
           echo "<tr>";
           $fila = $resultado->fetch_assoc();
           foreach($fila as $clave=>$valor){
             echo "<th>".$clave."</th>";
           }
           echo "<th>Editar</th><th>Eliminar</th>";
           echo "</tr>";
          }
       // Y LUEGO EL RESTO DE DATOS ////////////
         $resultado = $conexion->query("
           SELECT * FROM ".$_GET['tabla'].";
         ");
         while ($fila = $resultado->fetch_assoc()) {
           echo "<tr>";

           foreach($fila as $clave=>$valor){
             echo "<td>".htmlspecialchars($valor)."</td>";
           }
           
           $id = reset($fila);
           echo "<td><a href='?tabla=".urlencode($tabla)."&accion=editar&id=".urlencode($id)."' class='editar' title='Cuidado que vas a editar un dato'>ğŸ–‹</a></td>";
           echo "<td><a href='?tabla=".urlencode($tabla)."&accion=eliminar&id=".urlencode($id)."' class='eliminar' title='Cuidado EXTREMO que vas a ELIMINAR un dato'>âœ–</a></td>";            
           echo "</tr>";
          }
          echo "</table>";                          // Fin de tabla
      } 
      ?>
      
     	<?php
      	                                            // Redirecionador de enlaces
      	if(isset($_GET['accion'])){
      	  $tabla_actual = isset($_GET['tabla']) ? $_GET['tabla']: '';
      	  
        	if($_GET['accion'] == "crear"){           // formulario crear (CREATE)
        	 if(!empty($tabla_actual)){
          	 include "./admin/create/formulario.php";
          	} else {
          	 echo "<p>Error, se debe seleccionar una tabla para CREAR </p>";
          	}
          	
          }else if($_GET['accion'] == "eliminar"){ // acciÃ³n eliminar (DELETE)
           if(!empty($tabla_actual) && isset($_GET['id'])){
           	include "./admin/delete/eliminar.php";	
           } else {
          	 echo "<p>Error, se debe seleccionar una tabla para ELIMINAR </p>";           
           }
           
          } else if($_GET['accion'] == "editar"){   // acciÃ³n actualizar (UPDATE)
           if(!empty($tabla_actual) && isset($_GET['id'])){
           	include "./admin/update/actualizar.php";	
           } else {
          	 echo "<p>Error, se debe seleccionar una tabla para ACTUALIZAR </p>";           
           }
          }                                         // Fin del condicional
          
        }                                           // Fin de conseguir acciones
        ?>
        
    <?php
     //  Muestra el boton si se ha "presionado" una tabla
     if(isset($_GET['tabla']) && !empty($_GET['tabla'])) {
        echo '<a href="?tabla='.urlencode($_GET['tabla']).'&accion=crear" id="crear">Crear</a>';
     }
    ?>
    </main>
  </body>
</html>

```
**002-admin AYMAN[Super-mejorado].php**
```php
<!doctype html>
<html lang="es">
	<head>
  	<style>
    	html,body{width:100%;height:100%;padding:0px;margin:0px;background:Aliceblue;}
    	body{display:flex;}
    	nav{background:BurlyWood;color:black;padding:20px;gap:20px;display:flex;flex:1;flex-direction:column;height:max-content;}
    	nav a{background:#FFFFFF;color:black;text-decoration:none;padding:10px;}
    	main{padding:20px;flex:4;}
     table td{padding:10px;}
     table{border:2px solid #39D0BD;width:100%;}   
     th{background:BurlyWood;color:black;padding:10px;}
     
     #crear{	position:absolute;  bottom:20px;  right:20px;  background:burlywood;  color:black; 
	      height:40px; border-radius:40px;
       text-align:center;  font-size:30px;  line-height:40px;  text-decoration:none;  font-weight:bold;}
     .eliminar,.editar{	height:20px;  background:BlanchedAlmond;  border-radius:30px;  color:black;
       line-height:20px;  text-decoration:none; text-align:center;  display:block;  }  
     #botones{color:;border-radius:30px;display:flex;align-items:center;background:BlanchedAlmond;}
    </style>
  </head>
  <body>
    <?php
        $host = "localhost";$user = "usuario-weplan";$pass = "Usuarioweplan123$";$db   = "WePlanDB";$conexion = new mysqli($host, $user, $pass, $db);
    ?>

    <nav>
     <div id="botones">
      <h2>admin.php </h2>
      <a href="./admin/read/leer.php" id="read-btn">Lectura</a>                                 <!-- accion leer (READ) -->
      <a href="../006-logout.php" class="logout-btn" id="boton-logout">Cerrar SesiÃ³n</a>
     </div>
    <?php
      // Listado de las tablas de la base de datos- WePlanDB
        $resultado = $conexion->query("SHOW TABLES;");
        while ($fila = $resultado->fetch_assoc()) {
          echo '<a href="?tabla='.$fila['Tables_in_'.$db].'">'.$fila['Tables_in_'.$db].'</a>';
        }
    ?>
    </nav>
    <main>
   
      <?php
      // Verificar si se ha seleccionado una tabla para luego mostrar sus cabeceras
      if (isset($_GET['tabla']) && !empty($_GET['tabla'])) {
         $tabla = $conexion->real_escape_string($_GET['tabla']);

         $resultado = $conexion->query("SELECT * FROM ".$_GET['tabla']." LIMIT 1;");    /// Solo quiero un ELEMENTO !!!//////
         if ($resultado && $resultado->num_rows > 0) {
           echo "<table>";                         // Inicio de tabl
           echo "<tr>";
           $fila = $resultado->fetch_assoc();
           foreach($fila as $clave=>$valor){
             echo "<th>".$clave."</th>";
           }
           echo "<th>Editar</th><th>Eliminar</th>";
           echo "</tr>";
          }
       // Y LUEGO EL RESTO DE DATOS ////////////
         $resultado = $conexion->query("
           SELECT * FROM ".$_GET['tabla'].";
         ");
         while ($fila = $resultado->fetch_assoc()) {
           echo "<tr>";

           foreach($fila as $clave=>$valor){
             echo "<td>".htmlspecialchars($valor)."</td>";
           }
           
           $id = reset($fila);
           echo "<td><a href='?tabla=".urlencode($tabla)."&accion=editar&id=".urlencode($id)."' class='editar' title='Cuidado que vas a editar un dato'>ğŸ–‹</a></td>";
           echo "<td><a href='?tabla=".urlencode($tabla)."&accion=eliminar&id=".urlencode($id)."' class='eliminar' title='Cuidado EXTREMO que vas a ELIMINAR un dato'>âœ–</a></td>";            
           echo "</tr>";
          }
          echo "</table>";                          // Fin de tabla
      } 
      ?>
      
     	<?php
      	                                            // Redirecionador de enlaces
      	if(isset($_GET['accion'])){
      	  $tabla_actual = isset($_GET['tabla']) ? $_GET['tabla']: '';
      	  
        	if($_GET['accion'] == "crear"){           // formulario crear (CREATE)
        	 if(!empty($tabla_actual)){
          	 include "./admin/create/formulario.php";
          	} else {
          	 echo "<p>Error, se debe seleccionar una tabla para CREAR </p>";
          	}
          	
          }else if($_GET['accion'] == "eliminar"){ // acciÃ³n eliminar (DELETE)
           if(!empty($tabla_actual) && isset($_GET['id'])){
           	include "./admin/delete/eliminar.php";	
           } else {
          	 echo "<p>Error, se debe seleccionar una tabla para ELIMINAR </p>";           
           }
           
          } else if($_GET['accion'] == "editar"){   // acciÃ³n actualizar (UPDATE)
           if(!empty($tabla_actual) && isset($_GET['id'])){
           	include "./admin/update/actualizar.php";	
           } else {
          	 echo "<p>Error, se debe seleccionar una tabla para ACTUALIZAR </p>";           
           }
          }                                         // Fin del condicional
          
        }                                           // Fin de conseguir acciones
        ?>
        
    <?php
     //  Muestra el boton si se ha "presionado" una tabla
     if(isset($_GET['tabla']) && !empty($_GET['tabla'])) {
        echo '<a href="?tabla='.urlencode($_GET['tabla']).'&accion=crear" id="crear">Crear</a>';
     }
    ?>
    </main>
  </body>
</html>

```
###### create
**formulario.php**
```php
<?php
// ConexiÃ³n a la base de datos
$host = "localhost";
$user = "usuario-weplan";
$pass = "Usuarioweplan123$";
$db   = "WePlanDB";
$conexion = new mysqli($host, $user, $pass, $db);

// Obtener la tabla desde la URL
if (!isset($_GET['tabla']) || empty($_GET['tabla'])) {
    echo "<p>Error: No se seleccionÃ³ una tabla. Vuelve atrÃ¡s y selecciona una tabla.</p>";
    echo '<a href="../../admin.php">â† Volver</a>';
    exit;
}
$tabla = $conexion->real_escape_string($_GET['tabla']);

// Obtener estructura de la tabla
$resultado = $conexion->query("SHOW COLUMNS FROM `$tabla`");
if (!$resultado) {
    echo "<p>Error: No se pudo obtener informaciÃ³n de la tabla '$tabla'</p>";
    echo '<a href="../../admin.php">â† Volver</a>';
    exit;
}

echo '<form action="./admin/create/procesaformulario.php" method="POST">';
echo '<input type="hidden" name="tabla" value="'.htmlspecialchars($tabla).'">';
echo '<h2>CreaciÃ³n de registro en tabla "'.htmlspecialchars($tabla).'"</h2>';

while ($columna = $resultado->fetch_assoc()) {
    $nombre = $columna['Field'];
    $tipo = $columna['Type'];
    
    // Saltar columnas auto_increment
    if (strpos($columna['Extra'], 'auto_increment') !== false) {
        continue;
    }
    
    // Saltar timestamps automÃ¡ticos
    if (($nombre == 'fecha_registro' || $nombre == 'fecha_creacion') && 
        strpos($columna['Default'], 'CURRENT_TIMESTAMP') !== false) {
        continue;
    }
    
    // Crear label amigable
    $label = ucwords(str_replace('_', ' ', $nombre));
    
    // Determinar tipo de input
    $tipo_input = 'text';
    $es_textarea = false;
    
    // Por nombre de campo
    if (strpos(strtolower($nombre), 'email') !== false) {
        $tipo_input = 'email';
    } elseif (strpos(strtolower($nombre), 'telefono') !== false) {
        $tipo_input = 'tel';
    } elseif (strpos(strtolower($nombre), 'password') !== false || strpos(strtolower($nombre), 'contrasenya') !== false) {
        $tipo_input = 'password';
    } elseif (strpos(strtolower($nombre), 'fecha') !== false && strpos(strtolower($nombre), 'hora') !== false) {
        $tipo_input = 'datetime-local';
    } elseif (strpos(strtolower($nombre), 'fecha') !== false) {
        $tipo_input = 'date';
    } elseif (strpos(strtolower($tipo), 'int') !== false || strpos(strtolower($nombre), 'id_') !== false) {
        $tipo_input = 'number';
    } elseif (strpos(strtolower($nombre), 'descripcion') !== false) {
        $es_textarea = true;
    }
    
    // Por tipo de dato MySQL
    if (strpos(strtolower($tipo), 'text') !== false) {
        $es_textarea = true;
    }
    
    echo '<div class="controlformulario">';
    echo '<label for="'.$nombre.'">'.$label.'</label>';
    
    if ($es_textarea) {
        echo '<textarea name="'.$nombre.'" id="'.$nombre.'" ';
        if ($columna['Null'] == 'NO' && !$columna['Default']) {
            echo 'required';
        }
        echo ' placeholder="'.$label.'"></textarea>';
    } else {
        echo '<input type="'.$tipo_input.'" name="'.$nombre.'" id="'.$nombre.'" ';
        
        // Atributos adicionales
        if ($tipo_input == 'number') {
            if (strpos(strtolower($nombre), 'id_') !== false) {
                echo 'min="1" ';
            } elseif ($nombre == 'max_miembros') {
                echo 'min="1" max="1000" value="50" ';
            }
        }
        
        if ($columna['Null'] == 'NO' && !$columna['Default']) {
            echo 'required';
        }
        
        echo ' placeholder="'.$label.'">';
    }
    
    echo '</div>';
}

$conexion->close();

echo "<div>";
echo "<input type='submit' value='crear Registros'>";
echo '<a href="../tipo_de_usuario/admin.php?tabla=<?php echo urlencode($tabla); ?>" style="margin-left:10px;">Cancelar</a>';
echo "</div>";
echo "</form>";
?>
<style>
 .controlformulario{padding:3px;width:100px;display:inline-block;}
 label{font-weight:bold;font-size:15px;}
</style>

```
**procesaformulario.php**
```php
<?php
// Validar tabla
if (!isset($_POST['tabla']) || empty($_POST['tabla'])) {
    die("Error: No se especificÃ³ la tabla");
}
$tabla = $_POST['tabla'];

$host = "localhost";
$user = "usuario-weplan";
$pass = "Usuarioweplan123$";
$db   = "WePlanDB";
$conexion = new mysqli($host, $user, $pass, $db);

// Validar que tabla existe
$tabla_valida = $conexion->query("SHOW TABLES LIKE '$tabla'");
if ($tabla_valida->num_rows == 0) {
    die("Error: La tabla '$tabla' no existe");
}

// Obtener columnas de la tabla
$resultado = $conexion->query("SHOW COLUMNS FROM `$tabla`");
$columnas_validas = [];

while ($columna = $resultado->fetch_assoc()) {
    $columnas_validas[] = $columna['Field'];
}

// PreparaciÃ³n de datos para INSERT
$campos = [];
$valores = [];

foreach ($_POST as $campo => $valor) {
    if ($campo == 'tabla') continue;
    
    // Solo incluir campos que existen en la tabla
    if (in_array($campo, $columnas_validas)) {
        $campos[] = "`$campo`";
        $valores[] = "'" . $conexion->real_escape_string($valor) . "'";
    }
}

//Consulta SQL de CREATE
$sql = "INSERT INTO `$tabla` (" . implode(", ", $campos) . ") 
        VALUES (" . implode(", ", $valores) . ")";

// Ejecuta
if ($conexion->query($sql)) {
    echo "Registro creado en '$tabla'<br>";
} else {
    echo "Error: " . $conexion->error . "<br>";
}

$conexion->close();
header("Location: ../../admin.php");												// Volvemos a admin
?>

  

```
###### delete
**eliminar.php**
```php
<?php
$tabla = $_GET['tabla'] ?? '';
$id = $_GET['id'] ?? '';

if(empty($tabla) || empty($id)) {
    // Redirigir con error
    header("Location: ../../admin.php?error=faltan_datos");
    exit;
}

$host = "localhost";
$user = "usuario-weplan";
$pass = "Usuarioweplan123$";
$db   = "WePlanDB";
$conexion = new mysqli($host, $user, $pass, $db);

// Estructura para Nombre de la columna ID
$id_column = 'usuario_id';                       // El por de defecto
if ($tabla == 'grupos') $id_column = 'grupo_id';
// Tablas normales
elseif ($tabla == 'categorias_actividades') $id_column = 'categoria_id';
elseif ($tabla == 'subcategorias_actividades') $id_column = 'subcategoria_id';
elseif ($tabla == 'aficiones') $id_column = 'aficion_id';
elseif ($tabla == 'eventos') $id_column = 'evento_id';
// tablas de relaciÃ³n 
elseif ($tabla == 'usuario_grupo' || $tabla == 'usuario_aficion' || 
        $tabla == 'grupo_subcategoria' || $tabla == 'evento_participantes') {
    echo "<p>Error: Las tablas de relaciÃ³n requieren manejo especial.</p>";
    echo "<a href='../../admin.php?tabla=".urlencode($tabla)."'>Volver</a>";
}
    

// Ejecutar DELETE
$sql = "DELETE FROM `$tabla` WHERE $id_column = " . intval($id);
$conexion->query($sql);
$conexion->close();

echo "<script>
    // Muestrame mensaje de Ã©xito
    alert('Registro eliminado!');
    
    // Recargame la pÃ¡gina manteniendo la misma tabla
    window.location.href = './admin.php?tabla=" . urlencode($tabla) . "';
</script>";
?>

```
**formulario_eliminar.php**
```php
<?php
  // Recibe y valida parÃ¡metros
  if (!isset($_GET['tabla']) || empty($_GET['tabla'])) {
      die("Error: No se especificÃ³ la tabla");
  }
  if (!isset($_GET['id']) || empty($_GET['id'])) {
      die("Error: No se especificÃ³ el ID");
  }

  $tabla = $_GET['tabla'];
  $id = $_GET['id'];
  $id_column = 'usuario_id';

  $host = "localhost";
  $user = "usuario-weplan";
  $pass = "Usuarioweplan123$";
  $db   = "WePlanDB";
  $conexion = new mysqli($host, $user, $pass, $db);	 

// Estructura para Nombre de la columna ID
$id_column = 'usuario_id';                       // El por de defecto
if ($tabla == 'grupos') $id_column = 'grupo_id';
// Tablas normales
elseif ($tabla == 'categorias_actividades') $id_column = 'categoria_id';
elseif ($tabla == 'subcategorias_actividades') $id_column = 'subcategoria_id';
elseif ($tabla == 'aficiones') $id_column = 'aficion_id';
elseif ($tabla == 'eventos') $id_column = 'evento_id';
// tablas de relaciÃ³n 
elseif ($tabla == 'usuario_grupo' || $tabla == 'usuario_aficion' || 
        $tabla == 'grupo_subcategoria' || $tabla == 'evento_participantes') {
    echo "<p>Error: Las tablas de relaciÃ³n requieren manejo especial.</p>";
    echo "<a href='../../admin.php?tabla=".urlencode($tabla)."'>Volver</a>";
}
    
  // Accion SQL para DELETE    
  $sql = "DELETE FROM `$tabla` WHERE $id_column = " . intval($id);								
  
  if($conexion->query($sql)) {
      echo " Registro eliminado correctamente<br>";
      echo "<a href='../../admin.php'>Volver</a>";
  } else {
      echo "Error: " . $conexion->error . "<br>";
      echo "<a href='../../admin.php'>Volver</a>";
  }

  $conexion->close();																       
?>

```
###### read
**leer.php**
```php
<?php
	session_start(); // Arranco una sesion
 $host = "localhost";
 $user = "usuario-weplan";
 $pass = "Usuarioweplan123$";
 $db   = "WePlanDB";
 $conexion = new mysqli($host, $user, $pass, $db);

	
 // Lista de las tablas en la base de datos


  $resultado = $conexion->query("SHOW TABLES;");
  echo "<a href='../../admin.php' id='volver-btn'>Volver</a>";  
  while ($fila = $resultado->fetch_assoc()) {
    echo "<div>";  
    echo '<a href="?tabla='.$fila['Tables_in_'.$db].'">'.$fila['Tables_in_'.$db].'</a>';
    echo "</div>";
  }
if(isset($_GET['tabla']) && !empty($_GET['tabla'])) {
    $tabla = $conexion->real_escape_string($_GET['tabla']);
    $sql = "SELECT * FROM ".$_GET['tabla']." LIMIT 1;";	
     $resultado = $conexion->query($sql);
     while ($fila = $resultado->fetch_assoc()) {
     	var_dump($fila);
     }
	  }
	  
  $conexion->close();
?>
<style>
 a{padding:2px;text-decoration:none;font-weight:bold;}
 div{display:flex;}
 #volver-btn{font-size:25px;}
</style>

```
###### update
**actualizar.php**
```php
<?php
// Recibe y valida parÃ¡metros
if (!isset($_GET['tabla']) || empty($_GET['tabla'])) {
    die("Error: No se especificÃ³ la tabla");
}
if (!isset($_GET['id']) || empty($_GET['id'])) {
    die("Error: No se especificÃ³ el ID");
}

$tabla = $_GET['tabla'];
$id = $_GET['id'];

$host = "localhost";
$user = "usuario-weplan";
$pass = "Usuarioweplan123$";
$db   = "WePlanDB";
$conexion = new mysqli($host, $user, $pass, $db);

// Estructura para Nombre de la columna ID
$id_column = 'usuario_id';                       // El por de defecto
if ($tabla == 'grupos') $id_column = 'grupo_id';
// Tablas normales
elseif ($tabla == 'categorias_actividades') $id_column = 'categoria_id';
elseif ($tabla == 'subcategorias_actividades') $id_column = 'subcategoria_id';
elseif ($tabla == 'aficiones') $id_column = 'aficion_id';
elseif ($tabla == 'eventos') $id_column = 'evento_id';
// tablas de relaciÃ³n 
elseif ($tabla == 'usuario_grupo' || $tabla == 'usuario_aficion' || 
        $tabla == 'grupo_subcategoria' || $tabla == 'evento_participantes') {
    echo "<p>Error: Las tablas de relaciÃ³n requieren manejo especial.</p>";
    echo "<a href='../../admin.php?tabla=".urlencode($tabla)."'>Volver</a>";
    exit;
}

// Obtener datos actuales del registro
$sql = "SELECT * FROM `$tabla` WHERE $id_column = " . intval($id);
$resultado = $conexion->query($sql);

 echo '<h2>ActualizaciÃ³n de un registro  en '.htmlspecialchars($tabla).'</h2>';
?>

<form action="./admin/update/formulario_actualizar.php" method="POST">
 <div class="controlformulario">
      <p>Introduce el ID del elemento que quieres <b>actualizar</b>:</p>
      <!-- Input que no se muestran-->
      <input type="hidden" name="tabla" value="<?php echo htmlspecialchars($tabla); ?>">
      <input type="hidden" name="id_column" value="<?php echo $id_column; ?>">
      <input type="hidden" name="id" value="<?php echo htmlspecialchars($id); ?>">
      <!-- Input que muestran generados con PHP-->
    <?php
    $fila = $resultado->fetch_assoc();
    // Generar campos dinÃ¡micamente
    foreach ($fila as $campo => $valor) {
        if ($campo == $id_column) continue;
        if ($campo == 'fecha_registro' || $campo == 'fecha_creacion') continue;
        
        $label = ucwords(str_replace('_', ' ', $campo));
        $tipo = 'text';
        
        if (strpos($campo, 'email') !== false) $tipo = 'email';
        elseif (strpos($campo, 'telefono') !== false) $tipo = 'tel';
        elseif (strpos($campo, 'contrasenya') !== false) $tipo = 'password';
        elseif (strpos($campo, 'descripcion') !== false) {
            echo '<div class="controlformulario">
                <label for="'.$campo.'">'.$label.'</label>
                <textarea name="'.$campo.'" id="'.$campo.'">'.htmlspecialchars($valor).'</textarea>
            </div>';
            continue;
        }
        
        echo '<div class="controlformulario">
            <label for="'.$campo.'">'.$label.'</label>
            <input type="'.$tipo.'" name="'.$campo.'" id="'.$campo.'" 
                   value="'.htmlspecialchars($valor).'">
        </div>';
    }
    ?>      
      <input type="submit" value="Actualizar registro">
      <a href="../tipo_de_usuario/admin.php?tabla=<?php echo urlencode($tabla); ?>" style="margin-left:10px;">Cancelar</a>
 </div>
</form>

<style>
 div{padding:3px;}
 .controlformulario{font-weight:bold;font-size:15px;display:inline-block;}
</style>

```
**formulario_actualizar.php**
```php
<?php
if (!isset($_POST['tabla']) || empty($_POST['tabla'])) {
    die("Error: No se especificÃ³ la tabla");
}
if (!isset($_POST['id']) || empty($_POST['id'])) {
    die("Error: No se especificÃ³ el ID");
}

$tabla = $_POST['tabla'];
$id = $_POST['id'];

$host = "localhost";
$user = "usuario-weplan";
$pass = "Usuarioweplan123$";
$db   = "WePlanDB";
$conexion = new mysqli($host, $user, $pass, $db);

// Determinar columna ID
$id_column = isset($_POST['id_column']) ? $_POST['id_column'] : 'usuario_id';

// Construir consulta UPDATE dinÃ¡mica
$actualizaciones = [];
foreach ($_POST as $campo => $valor) {
    if ($campo == 'tabla' || $campo == 'id' || $campo == 'id_column') continue;
    
    $actualizaciones[] = "`$campo` = '" . $conexion->real_escape_string($valor) . "'";
}

if (empty($actualizaciones)) {
    die("Error: No hay campos para actualizar");
}


$sql = "UPDATE `$tabla` SET " . implode(", ", $actualizaciones) . 
       " WHERE $id_column = " . intval($id);


if($conexion->query($sql)) {
      echo " Registro actualizado correctamente<br>";
      echo "<a href='../../admin.php'>Volver</a>";
  } else {
      echo "Error: " . $conexion->error . "<br>";
      echo "<a href='../../admin.php'>Volver</a>";
}
	
  $conexion->close();
?>

```
##### host
##### usuario
**000-guia.md**
```markdown
usuario.php empieza con un:
verifica sesion
conexion a BBDD
obtiene parametros a usar
consultas para obtener datos (ya sea para usuarios,eventos,grupos,etc)
Muestra los resultados

Al crearse el HTML:
Etiquetas esenciales+CSS
Navegador
Grupos+Crear Nuevo grupo
Actividades+Crear Nuevo actividad

```
**estilos.css**
```css
body {margin: 10px auto;font-family: Arial, sans-serif;max-width: 1800px;padding: 15px;}
nav {width: 100%;background-color: #fff;}
.div2 {display: flex;align-items: center;justify-content: space-between;padding: 10px 20px;}
.div2 img {height: 90px;width: 230px;}
.search-container {flex: 1;max-width: 500px;margin: 0 20px;}
.search-box {width: 100%;padding: 20px;border: 1px solid #ccc;border-radius: 20px;font-size: 17px;}
.bottons-container {display: flex;align-items: center;gap: 50px;}
.boton {background-color: white;border: none;border-radius: 50%;width: 60px;height: 60px;display: flex;align-items: center;justify-content: center;cursor: pointer;transition: all 0.3s ease;padding: 8px;}
.boton:hover {transform: translateY(-3px);box-shadow: 0 4px 8px rgba(0,0,0,0.3);background-color: #f8f9fa;}
.boton:active {transform: translateY(-1px);}
.icono {font-size: 24px;color: #2c3e50;}
.boton-usuario {width: 65px;height: 65px;border-radius: 50%;font-size: 40px;border: none;cursor: pointer;display: flex;align-items: center;justify-content: center;font-weight: bold;color: white;background-color: Green;transition: all 0.3s ease;box-shadow: 0 4px 8px rgba(0,0,0,0.2);}
.boton-usuario:hover {transform: scale(1.05);box-shadow: 0 6px 12px rgba(0,0,0,0.3);}
.div4 {display: flex;flex-direction: column;align-items: flex-start;padding: 10px;}
.titulo-inicio {font-size: 18px;font-weight: bold;color: black;margin-bottom: 1px;padding-bottom: 10px;width: 100%;}
.usuario-container {display: flex;align-items: center;gap: 15px;}
.foto-usuario {width: 75px;height: 75px;border-radius: 50%;display: flex;align-items: center;justify-content: center;font-size: 40px;font-weight: bold;color: white;cursor: pointer;transition: all 0.3s ease;box-shadow: 0 4px 8px rgba(0,0,0,0.2);background-color: Green;background-size: cover;background-position: center;}
.foto-usuario:hover {transform: scale(1.05);box-shadow: 0 6px 12px rgba(0,0,0,0.3);}
.foto-usuario:active {transform: scale(0.98);}
.con-foto {background-image: url('https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=400&h=400&fit=crop');}
.actividades-container {display: grid;grid-template-columns: repeat(5,1fr);gap: 15px;margin: 0 auto;}
.actividad {background-color: white;border-radius: 12px;overflow: hidden;box-shadow: 0 4px 8px rgba(0,0,0,0.1);transition: all 0.3s ease;display: flex;flex-direction: column;height: 280px;}
.actividad:hover {transform: translateY(-5px);box-shadow: 0 8px 16px rgba(0,0,0,0.15);}
.imagen-actividad {height: 180px;width: 100%;overflow: hidden;}
.imagen-actividad img {width: 100%;height: 100%;object-fit: cover;transition: transform 0.5s ease;}
.actividad:hover .imagen-actividad img {transform: scale(1.05);}
.descripcion-actividad {padding: 15px;flex-grow: 1;display: flex;flex-direction: column;justify-content: center;background-color: white;}
.descripcion-actividad h3 {margin: 0 0 8px 0;font-size: 16px;color: #2c3e50;font-weight: 600;}
.descripcion-actividad p {margin: 0;font-size: 13px;color: #7f8c8d;line-height: 1.4;}
.div10 {padding: 1px;margin-top: 16px;}
.btn-grupo {width: 15%;padding: 18px;background: linear-gradient(to right, #6c757d, #87ceeb);color: white;border: none;border-radius: 10px;font-size: 18px;font-weight: bold;cursor: pointer;transition: all 0.3s;}
.btn-grupo:hover {background: linear-gradient(to right, #5a6268, #7ec8e3);box-shadow: 0 4px 12px rgba(135, 206, 235, 0.3);}
.btn-grupo:active {transform: translateY(-1px);}
.btn-grupo img {width: 24px;height: 24px;vertical-align: middle;margin-right: 8px;}
.div3 {grid-row-start: 4;grid-row-end: 6;}
.div11, .div12, .div13, .div14, .div15 {grid-row-start: 1;}
.nombre-usuario {font-size: 16px;color: #2c3e50;font-weight: 600;}    

```
## front-end
### Pagina de inicio
**estilo.css**
```css
body {margin: 10px auto;font-family: Arial, sans-serif;max-width: 1800px;padding: 15px;}
nav {width: 100%;background-color: #fff;}
.div2 {display: flex;align-items: center;justify-content: space-between;padding: 10px 20px;}
.div2 img {height: 90px;width: 230px;}
.search-container {flex: 1;max-width: 500px;margin: 0 20px;}
.search-box {width: 100%;padding: 20px;border: 1px solid #ccc;border-radius: 20px;font-size: 17px;}
.bottons-container {display: flex;align-items: center;gap: 50px;}
.boton {background-color: white;border: none;border-radius: 50%;width: 60px;height: 60px;display: flex;align-items: center;justify-content: center;cursor: pointer;transition: all 0.3s ease;padding: 8px;}
.boton:hover {transform: translateY(-3px);box-shadow: 0 4px 8px rgba(0,0,0,0.3);background-color: #f8f9fa;}
.boton:active {transform: translateY(-1px);}
.icono {font-size: 24px;color: #2c3e50;}
.boton-usuario {width: 65px;height: 65px;border-radius: 50%;font-size: 40px;border: none;cursor: pointer;display: flex;align-items: center;justify-content: center;font-weight: bold;color: white;background-color: Green;transition: all 0.3s ease;box-shadow: 0 4px 8px rgba(0,0,0,0.2);}
.boton-usuario:hover {transform: scale(1.05);box-shadow: 0 6px 12px rgba(0,0,0,0.3);}
.div4 {display: flex;flex-direction: column;align-items: flex-start;padding: 10px;}
.titulo-inicio {font-size: 18px;font-weight: bold;color: black;margin-bottom: 1px;padding-bottom: 10px;width: 100%;}
.usuario-container {display: flex;align-items: center;gap: 15px;}
.foto-usuario {width: 75px;height: 75px;border-radius: 50%;display: flex;align-items: center;justify-content: center;font-size: 40px;font-weight: bold;color: white;cursor: pointer;transition: all 0.3s ease;box-shadow: 0 4px 8px rgba(0,0,0,0.2);background-color: Green;background-size: cover;background-position: center;}
.foto-usuario:hover {transform: scale(1.05);box-shadow: 0 6px 12px rgba(0,0,0,0.3);}
.foto-usuario:active {transform: scale(0.98);}
.con-foto {background-image: url('https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=400&h=400&fit=crop');}
.actividades-container {display: grid;grid-template-columns: repeat(5,1fr);gap: 15px;margin: 0 auto;}
.actividad {background-color: white;border-radius: 12px;overflow: hidden;box-shadow: 0 4px 8px rgba(0,0,0,0.1);transition: all 0.3s ease;display: flex;flex-direction: column;height: 280px;}
.actividad:hover {transform: translateY(-5px);box-shadow: 0 8px 16px rgba(0,0,0,0.15);}
.imagen-actividad {height: 180px;width: 100%;overflow: hidden;}
.imagen-actividad img {width: 100%;height: 100%;object-fit: cover;transition: transform 0.5s ease;}
.actividad:hover .imagen-actividad img {transform: scale(1.05);}
.descripcion-actividad {padding: 15px;flex-grow: 1;display: flex;flex-direction: column;justify-content: center;background-color: white;}
.descripcion-actividad h3 {margin: 0 0 8px 0;font-size: 16px;color: #2c3e50;font-weight: 600;}
.descripcion-actividad p {margin: 0;font-size: 13px;color: #7f8c8d;line-height: 1.4;}
.div10 {padding: 1px;margin-top: 16px;}
.btn-grupo {width: 15%;padding: 18px;background: linear-gradient(to right, #6c757d, #87ceeb);color: white;border: none;border-radius: 10px;font-size: 18px;font-weight: bold;cursor: pointer;transition: all 0.3s;}
.btn-grupo:hover {background: linear-gradient(to right, #5a6268, #7ec8e3);box-shadow: 0 4px 12px rgba(135, 206, 235, 0.3);}
.btn-grupo:active {transform: translateY(-1px);}
.btn-grupo img {width: 24px;height: 24px;vertical-align: middle;margin-right: 8px;}
.div3 {grid-row-start: 4;grid-row-end: 6;}
.div11, .div12, .div13, .div14, .div15 {grid-row-start: 1;}
.nombre-usuario {font-size: 16px;color: #2c3e50;font-weight: 600;}
```
**index.html**
```html
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WePlan</title>
    <link rel="stylesheet" href="estilo.css">
</head>
<body>
 <nav>
     <div class="div2">
      <img src="fotos/weplan-high-resolution-logo-grayscale.png" alt="WePlan Logo">
      <div class="search-container">
             <input type="text" class="search-box" placeholder="Buscar...">
      </div>
            <div class="bottons-container">
             <button class="boton">
                 <div class="icono">ğŸ </div>
             </button>
             <button class="boton">
                 <div class="icono">ğŸ§—</div>
             </button>
            
             <button class="boton">
                 <div class="icono">ğŸ””</div>
             </button>

              <button class="boton-usuario">
                A
              </button>
             </div>
     </div>   
 </nav>
    <div class="parent">

        <div class="div4">
        <div class="titulo-inicio">INICIO</div>
        
        <div class="usuario-container">
            <div class="foto-usuario" id="fotoUsuario">
                A
            </div>
            <div class="nombre-usuario" id="nombreUsuario">aymanmzkk  |  Valencia</div>
        </div>
    </div>
    <h3> Tus grupos</h3>
        <div class="actividades-container"> 
        <!-- Div5 - grupo 1 -->
        <div class="actividad div5">
            <div class="imagen-actividad">
                <img src="fotos/coffee and chill.jpg" alt="Coffee and Chill">
            </div>
            <div class="descripcion-actividad">
                <h3>Coffee and Chill</h3>
                <p>â­â­â­â­â­ 5.0</p>
                <p>ğŸ“Œ Valencia, Spain</p>
                <p>ğŸ‘¥ 67 Members-Public</p>
            </div>
        </div>

        <!-- Div6 - grupo 2 -->
        <div class="actividad div6">
            <div class="imagen-actividad">
                <img src="fotos/Football7Valencia.jpg" alt="Football7Valencia">
            </div>
            <div class="descripcion-actividad">
                <h3>Football7Valencia</h3>
                <p>â­â­â­â­â­ 5.0</p>
                <p>ğŸ“Œ Valencia, Spain</p>
                <p>ğŸ‘¥ 99 Members-Public</p>
            </div>
        </div>
        
        <!-- Div7 - grupo 3 -->
        <div class="actividad div7">
            <div class="imagen-actividad">
                <img src="fotos/cocinar juntos.jpg" alt="Cocinar Juntos">
            </div>
            <div class="descripcion-actividad">
                <h3>Cocinar Juntos</h3>
                <p>â­â­â­â­â­ 5.0</p>
                <p>ğŸ“Œ Valencia, Spain</p>
                <p>ğŸ‘¥ 106 Members-Public</p>
            </div>
        </div>
        
        <!-- Div8 - grupo 4 -->
        <div class="actividad div8">
            <div class="imagen-actividad">
                <img src="fotos/street basketball.jpg" alt="Basketball Lovers">
            </div>
            <div class="descripcion-actividad">
                <h3>Basketball Lovers</h3>
                <p>â­â­â­â­â­ 5.0</p>
                <p>ğŸ“Œ Valencia, Spain</p>
                <p>ğŸ‘¥ 17 Members-Public</p>
            </div>
        </div>
        
        <!-- Div9 - grupo 5 -->
        <div class="actividad div9">
            <div class="imagen-actividad">
                <img src="fotos/pintura.jpg" alt="Pintura Creativa">
            </div>
            <div class="descripcion-actividad">
                <h3>Pintura Creativa</h3>
                <p>â­â­â­â­â­ 5.0</p>
                <p>ğŸ“Œ Valencia, Spain</p>
                <p>ğŸ‘¥ 25 Members-Public</p>
            </div>
        </div>
    </div>
        <!-- Div10 -  btn-grupo -->
     <div class="div10">
        <button class="btn-grupo"><img src="fotos/crear_grupo_emoji.png">Crear Nuevo Grupo</button>
    </div>
    <h3> Tus actividades</h3>
        <div class="actividades-container"> 
        <!-- Div11 - Actividad 1 -->
        <div class="actividad div11">
            <div class="imagen-actividad">
                <img src="https://images.unsplash.com/photo-1540497077202-7c8a3999166f?w=400&h=300&fit=crop" alt="Senderismo">
            </div>
            <div class="descripcion-actividad">
                <h3>Senderismo en MontaÃ±a</h3>
                <p>Ruta de 8km por los senderos naturales. Nivel moderado, apto para principiantes.</p>
            </div>
        </div>
        
        <!-- Div12 - Actividad 2 -->
        <div class="actividad div12">
            <div class="imagen-actividad">
                <img src="https://images.unsplash.com/photo-1562771379-eafdca7a02f8?w=400&h=300&fit=crop" alt="Yoga">
            </div>
            <div class="descripcion-actividad">
                <h3>Clase de Yoga Matutina</h3>
                <p>Sesiones de yoga para todos los niveles. Enfocado en respiraciÃ³n y flexibilidad.</p>
            </div>
        </div>
        
        <!-- Div13 - Actividad 3 -->
        <div class="actividad div13">
            <div class="imagen-actividad">
                <img src="https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w-400&h=300&fit=crop" alt="Cocina">
            </div>
            <div class="descripcion-actividad">
                <h3>Taller de Cocina Saludable</h3>
                <p>Aprende recetas fÃ¡ciles y nutritivas. Incluye todos los ingredientes necesarios.</p>
            </div>
        </div>
        
        <!-- Div14 - Actividad 4 -->
        <div class="actividad div14">
            <div class="imagen-actividad">
                <img src="https://images.unsplash.com/photo-1536922246289-88c42f957773?w=400&h=300&fit=crop" alt="Bicicleta">
            </div>
            <div class="descripcion-actividad">
                <h3>Paseo en Bicicleta</h3>
                <p>Recorrido urbano de 15km. Alquiler de bicicletas incluido para participantes.</p>
            </div>
        </div>
        
        <!-- Div15 - Actividad 5 -->
        <div class="actividad div15">
            <div class="imagen-actividad">
                <img src="https://images.unsplash.com/photo-1518609878373-06d740f60d8b?w=400&h=300&fit=crop" alt="Pintura">
            </div>
            <div class="descripcion-actividad">
                <h3>Workshop de Pintura</h3>
                <p>Explora tu creatividad con acuarelas. Materiales incluidos, no se requiere experiencia.</p>
            </div>
        </div>
    </div>   
</body>
</html>
```
#### fotos
### pagina de cuenta
**estilo.css**
```css
body {font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;background-color: #f4f6f8;color: #333;margin: 0;padding: 0;}
body {margin: 10px auto;font-family: Arial, sans-serif;max-width: 1800px;padding: 15px;}
nav {width: 100%;background-color: #fff;}
.div2 {display: flex;align-items: center;justify-content: space-between;padding: 10px 20px;}
.div2 img {height: 90px;width: 230px;}
.search-container {flex: 1;max-width: 500px;margin: 0 20px;}
.search-box {width: 100%;padding: 20px;border: 1px solid #ccc;border-radius: 20px;font-size: 17px;}
.bottons-container {display: flex;align-items: center;gap: 50px;}
.boton {background-color: white;border: none;border-radius: 50%;width: 60px;height: 60px;display: flex;align-items: center;justify-content: center;cursor: pointer;transition: all 0.3s ease;padding: 8px;}
.boton:hover {transform: translateY(-3px);box-shadow: 0 4px 8px rgba(0,0,0,0.3);background-color: #f8f9fa;}
.boton:active {transform: translateY(-1px);}
.icono {font-size: 24px;color: #2c3e50;}
.boton-usuario {width: 65px;height: 65px;border-radius: 50%;font-size: 40px;border: none;cursor: pointer;display: flex;align-items: center;justify-content: center;font-weight: bold;color: white;background-color: Green;transition: all 0.3s ease;box-shadow: 0 4px 8px rgba(0,0,0,0.2);}
.boton-usuario:hover {transform: scale(1.05);box-shadow: 0 6px 12px rgba(0,0,0,0.3);}
.account-page {max-width: 1000px;margin: 40px auto;padding: 0 20px;}
.account-header {margin-bottom: 30px;padding-bottom: 15px;border-bottom: 2px solid #f0f0f0;}
.account-page h1 {color: #2c3e50;font-size: 32px;margin: 0;}
.account-container {display: flex;flex-direction: column;gap: 30px;}
.profile-section {display: flex;align-items: flex-start;gap: 40px;background: white;padding: 30px;border-radius: 15px;box-shadow: 0 2px 8px rgba(0,0,0,0.1);}
.profile-picture {display: flex;flex-direction: column;align-items: center;gap: 15px;}
.profile-image {width: 150px;height: 150px;border-radius: 50%;display: flex;align-items: center;justify-content: center;font-size: 60px;font-weight: bold;color: white;background-color: Green;cursor: pointer;transition: all 0.3s ease;box-shadow: 0 4px 8px rgba(0,0,0,0.2);}
.profile-image:hover {transform: scale(1.05);box-shadow: 0 6px 12px rgba(0,0,0,0.3);}
.change-photo {padding: 10px 20px;background-color: #3498db;color: white;border: none;border-radius: 20px;cursor: pointer;font-size: 14px;transition: all 0.3s ease;}
.change-photo:hover {background-color: #2980b9;transform: translateY(-2px);}
.profile-info {flex: 1;}
.profile-info h2 {color: #2c3e50;font-size: 24px;margin-bottom: 20px;}
.info-grid {display: grid;grid-template-columns: repeat(2, 1fr);gap: 20px;margin-bottom: 25px;}
.info-item {background: #f8f9fa;padding: 15px;border-radius: 10px;}
.info-item label {display: block;color: #666;font-size: 14px;margin-bottom: 5px;}
.info-value {color: #2c3e50;font-size: 16px;font-weight: 600;}
.edit-btn {padding: 12px 30px;background-color: #2ecc71;color: white;border: none;border-radius: 25px;cursor: pointer;font-size: 16px;font-weight: bold;transition: all 0.3s ease;}
.edit-btn:hover {background-color: #27ae60;transform: translateY(-2px);}
.stats-section h2, .settings-section h2 {color: #2c3e50;font-size: 24px;margin-bottom: 20px;}
.stats-grid {display: grid;grid-template-columns: repeat(4, 1fr);gap: 20px;margin-bottom: 30px;}
.stat-card {background: white;padding: 20px;border-radius: 15px;box-shadow: 0 2px 8px rgba(0,0,0,0.1);text-align: center;transition: all 0.3s ease;}
.stat-card:hover {transform: translateY(-5px);box-shadow: 0 4px 12px rgba(0,0,0,0.15);}
.stat-icon {font-size: 36px;margin-bottom: 10px;}
.stat-number {font-size: 32px;font-weight: bold;color: #2c3e50;margin-bottom: 5px;}
.stat-label {color: #666;font-size: 14px;}
.settings-list {display: flex;flex-direction: column;gap: 15px;}
.setting-item {display: flex;align-items: center;justify-content: space-between;background: white;padding: 20px;border-radius: 15px;box-shadow: 0 2px 8px rgba(0,0,0,0.1);}
.setting-info {display: flex;align-items: center;gap: 15px;}
.setting-icon {font-size: 24px;width: 50px;height: 50px;display: flex;align-items: center;justify-content: center;background: #f8f9fa;border-radius: 50%;}
.setting-info h3 {margin: 0 0 5px 0;color: #2c3e50;font-size: 18px;}
.setting-info p {margin: 0;color: #666;font-size: 14px;}
.toggle-btn, .manage-btn, .change-btn {padding: 8px 20px;border: none;border-radius: 20px;cursor: pointer;font-size: 14px;font-weight: bold;transition: all 0.3s ease;}
.toggle-btn {background-color: #2ecc71;color: white;}
.manage-btn {background-color: #3498db;color: white;}
.change-btn {background-color: #9b59b6;color: white;}
.toggle-btn:hover, .manage-btn:hover, .change-btn:hover {transform: translateY(-2px);}
.action-buttons {display: flex;justify-content: space-between;gap: 20px;}
.logout-btn, .delete-btn {padding: 15px 40px;border: none;border-radius: 25px;cursor: pointer;font-size: 16px;font-weight: bold;transition: all 0.3s ease;}
.logout-btn {background-color: #f39c12;color: white;}
.logout-btn:hover {background-color: #e67e22;transform: translateY(-2px);}
.delete-btn {background-color: #e74c3c;color: white;}
.delete-btn:hover {background-color: #c0392b;transform: translateY(-2px);}

```
**index.html**
```html
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Cuenta - WePlan</title>
    <link rel="stylesheet" href="estilo.css">
</head>
<body>
 <nav>
     <div class="div2">
      <img src="fotos/weplan-high-resolution-logo-grayscale.png" alt="WePlan Logo">
      <div class="search-container">
             <input type="text" class="search-box" placeholder="Buscar...">
      </div>
            <div class="bottons-container">
             <button class="boton" onclick="window.location.href='index.html'">
                 <div class="icono">ğŸ </div>
             </button>
             <button class="boton">
                 <div class="icono">ğŸ§—</div>
             </button>
            
             <button class="boton" onclick="window.location.href='notificaciones.html'">
                 <div class="icono">ğŸ””</div>
             </button>

              <button class="boton-usuario" onclick="window.location.href='cuenta.html'">
                A
              </button>
             </div>
     </div>   
 </nav>

<main class="account-page">
    <div class="account-header">
        <h1>Mi Cuenta</h1>
    </div>
    
    <div class="account-container">
        <!-- SecciÃ³n Perfil -->
        <div class="profile-section">
            <div class="profile-picture">
                <div class="profile-image" id="profileImage">A</div>
                <button class="change-photo">Cambiar Foto</button>
            </div>
            
            <div class="profile-info">
                <h2>InformaciÃ³n Personal</h2>
                <div class="info-grid">
                    <div class="info-item">
                        <label>Nombre de usuario</label>
                        <div class="info-value">aymanmzkk</div>
                    </div>
                    <div class="info-item">
                        <label>Email</label>
                        <div class="info-value">ayman@example.com</div>
                    </div>
                    <div class="info-item">
                        <label>UbicaciÃ³n</label>
                        <div class="info-value">Valencia, Spain</div>
                    </div>
                    <div class="info-item">
                        <label>Miembro desde</label>
                        <div class="info-value">Enero 2024</div>
                    </div>
                </div>
                <button class="edit-btn">Editar InformaciÃ³n</button>
            </div>
        </div>
        
        <!-- SecciÃ³n EstadÃ­sticas -->
        <div class="stats-section">
            <h2>Mis EstadÃ­sticas</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">ğŸ“Š</div>
                    <div class="stat-number">15</div>
                    <div class="stat-label">Actividades</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">ğŸ‘¥</div>
                    <div class="stat-number">5</div>
                    <div class="stat-label">Grupos</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">â­</div>
                    <div class="stat-number">4.8</div>
                    <div class="stat-label">CalificaciÃ³n</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">ğŸ¯</div>
                    <div class="stat-number">12</div>
                    <div class="stat-label">Metas</div>
                </div>
            </div>
        </div>
        
        <!-- SecciÃ³n ConfiguraciÃ³n -->
        <div class="settings-section">
            <h2>ConfiguraciÃ³n</h2>
            <div class="settings-list">
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-icon">ğŸ””</div>
                        <div>
                            <h3>Notificaciones</h3>
                            <p>Gestiona tus preferencias de notificaciones</p>
                        </div>
                    </div>
                    <button class="toggle-btn">Activo</button>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-icon">ğŸ‘ï¸</div>
                        <div>
                            <h3>Privacidad</h3>
                            <p>Controla quiÃ©n puede ver tu perfil</p>
                        </div>
                    </div>
                    <button class="toggle-btn">PÃºblico</button>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-icon">ğŸ”’</div>
                        <div>
                            <h3>Seguridad</h3>
                            <p>Cambia tu contraseÃ±a y verificaciÃ³n</p>
                        </div>
                    </div>
                    <button class="manage-btn">Gestionar</button>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-icon">ğŸ’¬</div>
                        <div>
                            <h3>Idioma</h3>
                            <p>EspaÃ±ol (EspaÃ±a)</p>
                        </div>
                    </div>
                    <button class="change-btn">Cambiar</button>
                </div>
            </div>
        </div>
        
        <!-- Botones de AcciÃ³n -->
        <div class="action-buttons">
            <button class="logout-btn">Cerrar SesiÃ³n</button>
            <button class="delete-btn">Eliminar Cuenta</button>
        </div>
    </div>
</main>

</body>
</html>
```
#### fotos
### pagina de notificaciones
**estilo.css**
```css
body {margin: 10px auto;font-family: Arial, sans-serif;max-width: 1800px;padding: 15px;}
nav {width: 100%;background-color: #fff;}
.div2 {display: flex;align-items: center;justify-content: space-between;padding: 10px 20px;}
.div2 img {height: 90px;width: 230px;}
.search-container {flex: 1;max-width: 500px;margin: 0 20px;}
.search-box {width: 100%;padding: 20px;border: 1px solid #ccc;border-radius: 20px;font-size: 17px;}
.bottons-container {display: flex;align-items: center;gap: 50px;}
.boton {background-color: white;border: none;border-radius: 50%;width: 60px;height: 60px;display: flex;align-items: center;justify-content: center;cursor: pointer;transition: all 0.3s ease;padding: 8px;}
.boton:hover {transform: translateY(-3px);box-shadow: 0 4px 8px rgba(0,0,0,0.3);background-color: #f8f9fa;}
.boton:active {transform: translateY(-1px);}
.icono {font-size: 24px;color: #2c3e50;}
.boton-usuario {width: 65px;height: 65px;border-radius: 50%;font-size: 40px;border: none;cursor: pointer;display: flex;align-items: center;justify-content: center;font-weight: bold;color: white;background-color: Green;transition: all 0.3s ease;box-shadow: 0 4px 8px rgba(0,0,0,0.2);}
.boton-usuario:hover {transform: scale(1.05);box-shadow: 0 6px 12px rgba(0,0,0,0.3);}

/* Notification Page Styles */
.notification-page {max-width: 800px;margin: 40px auto;padding: 0 20px;}
.notification-header {display: flex;align-items: center;justify-content: space-between;margin-bottom: 30px;padding-bottom: 15px;border-bottom: 2px solid #f0f0f0;}
.notification-page h1 {color: #2c3e50;font-size: 32px;margin: 0;}
.mark-all-read {background-color: #3498db;color: white;border: none;padding: 10px 20px;border-radius: 20px;cursor: pointer;font-size: 15px;font-weight: bold;transition: all 0.3s ease;}
.mark-all-read:hover {background-color: #2980b9;transform: translateY(-2px);box-shadow: 0 4px 8px rgba(0,0,0,0.2);}
.notification-container {display: flex;flex-direction: column;gap: 15px;}
.notification-card {display: flex;align-items: center;background: white;padding: 20px;border-radius: 15px;box-shadow: 0 2px 8px rgba(0,0,0,0.1);border-left: 5px solid #3498db;transition: all 0.3s ease;}
.notification-card:hover {transform: translateY(-2px);box-shadow: 0 4px 12px rgba(0,0,0,0.15);}
.notification-card.unread {border-left-color: #2ecc71;background-color: #f8fff9;}
.notification-icon {font-size: 28px;margin-right: 20px;width: 50px;height: 50px;display: flex;align-items: center;justify-content: center;background: #f8f9fa;border-radius: 50%;}
.notification-content {flex: 1;}
.notification-content h3 {margin: 0 0 8px 0;color: #2c3e50;font-size: 18px;}
.notification-content p {margin: 0 0 8px 0;color: #666;font-size: 15px;}
.notification-time {font-size: 13px;color: #999;}
.notification-close {background: none;border: none;font-size: 24px;color: #999;cursor: pointer;padding: 0;width: 30px;height: 30px;border-radius: 50%;display: flex;align-items: center;justify-content: center;transition: all 0.3s ease;}
.notification-close:hover {background-color: #f8f9fa;color: #e74c3c;}
.notification-actions {display: flex;gap: 10px;}
.accept-btn, .decline-btn {padding: 8px 16px;border: none;border-radius: 20px;cursor: pointer;font-weight: bold;transition: all 0.3s ease;}
.accept-btn {background-color: #2ecc71;color: white;}
.accept-btn:hover {background-color: #27ae60;}
.decline-btn {background-color: #e74c3c;color: white;}
.decline-btn:hover {background-color: #c0392b;}
```
**index.html**
```html
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WePlan</title>
    <link rel="stylesheet" href="estilo.css">
</head>
<body>
 <nav>
     <div class="div2">
      <img src="fotos/weplan-high-resolution-logo-grayscale.png" alt="WePlan Logo">
      <div class="search-container">
             <input type="text" class="search-box" placeholder="Buscar...">
      </div>
            <div class="bottons-container">
             <button class="boton">
                 <div class="icono">ğŸ </div>
             </button>
             <button class="boton">
                 <div class="icono">ğŸ§—</div>
             </button>
            
             <button class="boton">
                 <div class="icono">ğŸ””</div>
             </button>

              <button class="boton-usuario">
                A
              </button>
             </div>
     </div>   
 </nav>
<main class="notification-page">
    <div class="notification-header">
        <h1>Notificaciones</h1>
        <button class="mark-all-read">Marcar todas como leÃ­das</button>
    </div>
    
    <div class="notification-container">
        <!-- Notification 1 -->
        <div class="notification-card">
            <div class="notification-icon">ğŸ””</div>
            <div class="notification-content">
                <h3>Nuevo mensaje</h3>
                <p>Juan ha comentado en tu plan de senderismo.</p>
                <span class="notification-time">Hace 2 horas</span>
            </div>
            <button class="notification-close">&times;</button>
        </div>
        
        <!-- Notification 2 -->
        <div class="notification-card">
            <div class="notification-icon">ğŸ§—</div>
            <div class="notification-content">
                <h3>Actividad prÃ³xima</h3>
                <p>Tu escalada en La Pedriza estÃ¡ programada para maÃ±ana.</p>
                <span class="notification-time">Hace 5 horas</span>
            </div>
            <button class="notification-close">&times;</button>
        </div>
        
        <!-- Notification 3 -->
        <div class="notification-card unread">
            <div class="notification-icon">ğŸ‘¥</div>
            <div class="notification-content">
                <h3>Nueva solicitud</h3>
                <p>MarÃ­a quiere unirse a tu grupo de ciclismo.</p>
                <span class="notification-time">Hace 1 dÃ­a</span>
            </div>
            <div class="notification-actions">
                <button class="accept-btn">Aceptar</button>
                <button class="decline-btn">Rechazar</button>
            </div>
        </div>
        
        <!-- Notification 4 -->
        <div class="notification-card unread">
            <div class="notification-icon">ğŸ“…</div>
            <div class="notification-content">
                <h3>Recordatorio</h3>
                <p>Tu reuniÃ³n de planificaciÃ³n es en 2 dÃ­as.</p>
                <span class="notification-time">Hace 2 dÃ­as</span>
            </div>
            <button class="notification-close">&times;</button>
        </div>
        
        <!-- Notification 5 -->
        <div class="notification-card unread">
            <div class="notification-icon">â­</div>
            <div class="notification-content">
                <h3>Logro desbloqueado</h3>
                <p>Â¡Has completado 10 actividades este mes!</p>
                <span class="notification-time">Hace 3 dÃ­as</span>
            </div>
            <button class="notification-close">&times;</button>
        </div>
    </div>
</main>
```
#### fotos
### pagina_de_actividades
**estilo.css**
```css
body {margin: 10px auto;font-family: Arial, sans-serif;max-width: 1800px;padding: 15px;}
nav {width: 100%;background-color: #fff;}
.div2 {display: flex;align-items: center;justify-content: space-between;padding: 10px 20px;}
.div2 img {height: 90px;width: 230px;}
.search-container {flex: 1;max-width: 500px;margin: 0 20px;}
.search-box {width: 100%;padding: 20px;border: 1px solid #ccc;border-radius: 20px;font-size: 17px;}
.bottons-container {display: flex;align-items: center;gap: 50px;}
.boton {background-color: white;border: none;border-radius: 50%;width: 60px;height: 60px;display: flex;align-items: center;justify-content: center;cursor: pointer;transition: all 0.3s ease;padding: 8px;}
.boton:hover {transform: translateY(-3px);box-shadow: 0 4px 8px rgba(0,0,0,0.3);background-color: #f8f9fa;}
.boton:active {transform: translateY(-1px);}
.icono {font-size: 24px;color: #2c3e50;}
.boton-usuario {width: 65px;height: 65px;border-radius: 50%;font-size: 40px;border: none;cursor: pointer;display: flex;align-items: center;justify-content: center;font-weight: bold;color: white;background-color: Green;transition: all 0.3s ease;box-shadow: 0 4px 8px rgba(0,0,0,0.2);}
.boton-usuario:hover {transform: scale(1.05);box-shadow: 0 6px 12px rgba(0,0,0,0.3);}
```
**index.html**
```html
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Actividades - WePlan</title>
    <link rel="stylesheet" href="estilo.css">
</head>
<body>
 <nav>
     <div class="div2">
      <img src="fotos/weplan-high-resolution-logo-grayscale.png" alt="WePlan Logo">
      <div class="search-container">
             <input type="text" class="search-box" placeholder="Buscar actividades...">
      </div>
            <div class="bottons-container">
             <button class="boton" onclick="window.location.href='index.html'">
                 <div class="icono">ğŸ </div>
             </button>
             <button class="boton active" onclick="window.location.href='actividades.html'">
                 <div class="icono">ğŸ§—</div>
             </button>
            
             <button class="boton" onclick="window.location.href='notificaciones.html'">
                 <div class="icono">ğŸ””</div>
             </button>

              <button class="boton-usuario" onclick="window.location.href='cuenta.html'">
                A
              </button>
             </div>
     </div>   
 </nav>
```
#### fotos